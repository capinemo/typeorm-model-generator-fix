"use strict";function cov_a1nmlzh0z(){var path="/home/nemo/work/github/typeorm-model-generator/src/NamingStrategy.ts";var hash="3160c4433056de493f50f5fc7a839c91aa48acc7";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/nemo/work/github/typeorm-model-generator/src/NamingStrategy.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:4,column:20},end:{line:4,column:40}},"2":{start:{line:5,column:19},end:{line:5,column:41}},"3":{start:{line:8,column:4},end:{line:8,column:22}},"4":{start:{line:10,column:0},end:{line:10,column:50}},"5":{start:{line:12,column:26},end:{line:12,column:46}},"6":{start:{line:13,column:29},end:{line:14,column:46}},"7":{start:{line:15,column:24},end:{line:15,column:81}},"8":{start:{line:16,column:4},end:{line:18,column:5}},"9":{start:{line:17,column:8},end:{line:17,column:77}},"10":{start:{line:19,column:4},end:{line:21,column:5}},"11":{start:{line:20,column:8},end:{line:20,column:77}},"12":{start:{line:22,column:4},end:{line:24,column:5}},"13":{start:{line:23,column:8},end:{line:23,column:58}},"14":{start:{line:25,column:4},end:{line:25,column:25}},"15":{start:{line:27,column:0},end:{line:27,column:40}},"16":{start:{line:29,column:26},end:{line:29,column:44}},"17":{start:{line:30,column:29},end:{line:31,column:46}},"18":{start:{line:32,column:24},end:{line:32,column:81}},"19":{start:{line:33,column:4},end:{line:36,column:5}},"20":{start:{line:35,column:8},end:{line:35,column:98}},"21":{start:{line:37,column:4},end:{line:39,column:5}},"22":{start:{line:38,column:8},end:{line:38,column:77}},"23":{start:{line:40,column:4},end:{line:42,column:5}},"24":{start:{line:41,column:8},end:{line:41,column:77}},"25":{start:{line:43,column:4},end:{line:45,column:5}},"26":{start:{line:44,column:8},end:{line:44,column:58}},"27":{start:{line:46,column:4},end:{line:46,column:25}},"28":{start:{line:48,column:0},end:{line:48,column:36}},"29":{start:{line:50,column:4},end:{line:50,column:25}},"30":{start:{line:52,column:0},end:{line:52,column:32}},"31":{start:{line:54,column:4},end:{line:54,column:25}},"32":{start:{line:56,column:0},end:{line:56,column:32}}},fnMap:{"0":{name:"enablePluralization",decl:{start:{line:7,column:9},end:{line:7,column:28}},loc:{start:{line:7,column:36},end:{line:9,column:1}},line:7},"1":{name:"relationIdName",decl:{start:{line:11,column:9},end:{line:11,column:23}},loc:{start:{line:11,column:53},end:{line:26,column:1}},line:11},"2":{name:"relationName",decl:{start:{line:28,column:9},end:{line:28,column:21}},loc:{start:{line:28,column:39},end:{line:47,column:1}},line:28},"3":{name:"entityName",decl:{start:{line:49,column:9},end:{line:49,column:19}},loc:{start:{line:49,column:43},end:{line:51,column:1}},line:49},"4":{name:"columnName",decl:{start:{line:53,column:9},end:{line:53,column:19}},loc:{start:{line:53,column:43},end:{line:55,column:1}},line:53}},branchMap:{"0":{loc:{start:{line:13,column:29},end:{line:14,column:46}},type:"binary-expr",locations:[{start:{line:13,column:29},end:{line:13,column:66}},{start:{line:14,column:8},end:{line:14,column:46}}],line:13},"1":{loc:{start:{line:16,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:18,column:5}},{start:{line:16,column:4},end:{line:18,column:5}}],line:16},"2":{loc:{start:{line:19,column:4},end:{line:21,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:21,column:5}},{start:{line:19,column:4},end:{line:21,column:5}}],line:19},"3":{loc:{start:{line:22,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:24,column:5}},{start:{line:22,column:4},end:{line:24,column:5}}],line:22},"4":{loc:{start:{line:22,column:8},end:{line:22,column:37}},type:"binary-expr",locations:[{start:{line:22,column:8},end:{line:22,column:24}},{start:{line:22,column:28},end:{line:22,column:37}}],line:22},"5":{loc:{start:{line:30,column:29},end:{line:31,column:46}},type:"binary-expr",locations:[{start:{line:30,column:29},end:{line:30,column:66}},{start:{line:31,column:8},end:{line:31,column:46}}],line:30},"6":{loc:{start:{line:33,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:33,column:4},end:{line:36,column:5}},{start:{line:33,column:4},end:{line:36,column:5}}],line:33},"7":{loc:{start:{line:33,column:8},end:{line:34,column:53}},type:"binary-expr",locations:[{start:{line:33,column:8},end:{line:33,column:50}},{start:{line:34,column:8},end:{line:34,column:53}}],line:33},"8":{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:37,column:4},end:{line:39,column:5}}],line:37},"9":{loc:{start:{line:40,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:42,column:5}},{start:{line:40,column:4},end:{line:42,column:5}}],line:40},"10":{loc:{start:{line:43,column:4},end:{line:45,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:45,column:5}},{start:{line:43,column:4},end:{line:45,column:5}}],line:43},"11":{loc:{start:{line:43,column:8},end:{line:43,column:37}},type:"binary-expr",locations:[{start:{line:43,column:8},end:{line:43,column:24}},{start:{line:43,column:28},end:{line:43,column:37}}],line:43}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},inputSourceMap:{version:3,file:"/home/nemo/work/github/typeorm-model-generator/src/NamingStrategy.ts",sources:["/home/nemo/work/github/typeorm-model-generator/src/NamingStrategy.ts"],names:[],mappings:";;AAAA,sDAAsD;AACtD,yCAAmC;AACnC,0CAA0C;AAM1C,IAAI,SAAkB,CAAC;AAEvB,SAAgB,mBAAmB,CAAC,KAAc;IAC9C,SAAS,GAAG,KAAK,CAAC;AACtB,CAAC;AAFD,kDAEC;AAED,SAAgB,cAAc,CAC1B,UAAsB,EACtB,QAAkB,EAClB,KAAc;IAEd,MAAM,aAAa,GAAG,UAAU,CAAC,SAAS,CAAC;IAE3C,MAAM,gBAAgB,GAClB,QAAQ,CAAC,YAAY,KAAK,WAAW;QACrC,QAAQ,CAAC,YAAY,KAAK,YAAY,CAAC;IAC3C,IAAI,aAAa,GAAG,UAAU,CAAC,SAAS,CACpC,aAAa,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CACtC,CAAC;IAEF,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE;QACtE,aAAa,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC,EAAE,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;KACxE;IACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE;QACtE,aAAa,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC,EAAE,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;KACxE;IACD,IAAI,gBAAgB,IAAI,SAAS,EAAE;QAC/B,aAAa,GAAG,kBAAM,CAAC,aAAa,CAAC,CAAC;KACzC;IAED,OAAO,aAAa,CAAC;AACzB,CAAC;AAzBD,wCAyBC;AAED,SAAgB,YAAY,CAAC,QAAkB,EAAE,KAAc;IAC3D,MAAM,aAAa,GAAG,QAAQ,CAAC,SAAS,CAAC;IAEzC,MAAM,gBAAgB,GAClB,QAAQ,CAAC,YAAY,KAAK,WAAW;QACrC,QAAQ,CAAC,YAAY,KAAK,YAAY,CAAC;IAC3C,IAAI,aAAa,GAAG,UAAU,CAAC,SAAS,CACpC,aAAa,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CACtC,CAAC;IAEF,IACI,aAAa,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC;QAC1C,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,EAC/C;QACE,aAAa,GAAG,aAAa,CAAC,SAAS,CACnC,CAAC,EACD,aAAa,CAAC,WAAW,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,CAChD,CAAC;KACL;IACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE;QACtE,aAAa,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC,EAAE,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;KACxE;IACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE;QACtE,aAAa,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC,EAAE,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;KACxE;IACD,IAAI,gBAAgB,IAAI,SAAS,EAAE;QAC/B,aAAa,GAAG,kBAAM,CAAC,aAAa,CAAC,CAAC;KACzC;IACD,OAAO,aAAa,CAAC;AACzB,CAAC;AA7BD,oCA6BC;AAED,SAAgB,UAAU,CAAC,aAAqB,EAAE,MAAe;IAC7D,OAAO,aAAa,CAAC;AACzB,CAAC;AAFD,gCAEC;AAED,SAAgB,UAAU,CAAC,aAAqB,EAAE,MAAe;IAC7D,OAAO,aAAa,CAAC;AACzB,CAAC;AAFD,gCAEC",sourcesContent:["/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { plural } from \"pluralize\";\nimport * as changeCase from \"change-case\";\nimport { Relation } from \"./models/Relation\";\nimport { RelationId } from \"./models/RelationId\";\nimport { Entity } from \"./models/Entity\";\nimport { Column } from \"./models/Column\";\n\nlet pluralize: boolean;\n\nexport function enablePluralization(value: boolean) {\n    pluralize = value;\n}\n\nexport function relationIdName(\n    relationId: RelationId,\n    relation: Relation,\n    owner?: Entity\n): string {\n    const columnOldName = relationId.fieldName;\n\n    const isRelationToMany =\n        relation.relationType === \"OneToMany\" ||\n        relation.relationType === \"ManyToMany\";\n    let newColumnName = changeCase.camelCase(\n        columnOldName.replace(/[0-9]$/, \"\")\n    );\n\n    if (!Number.isNaN(parseInt(newColumnName[newColumnName.length - 1], 10))) {\n        newColumnName = newColumnName.substring(0, newColumnName.length - 1);\n    }\n    if (!Number.isNaN(parseInt(newColumnName[newColumnName.length - 1], 10))) {\n        newColumnName = newColumnName.substring(0, newColumnName.length - 1);\n    }\n    if (isRelationToMany && pluralize) {\n        newColumnName = plural(newColumnName);\n    }\n\n    return newColumnName;\n}\n\nexport function relationName(relation: Relation, owner?: Entity): string {\n    const columnOldName = relation.fieldName;\n\n    const isRelationToMany =\n        relation.relationType === \"OneToMany\" ||\n        relation.relationType === \"ManyToMany\";\n    let newColumnName = changeCase.camelCase(\n        columnOldName.replace(/[0-9]$/, \"\")\n    );\n\n    if (\n        newColumnName.toLowerCase().endsWith(\"id\") &&\n        !newColumnName.toLowerCase().endsWith(\"guid\")\n    ) {\n        newColumnName = newColumnName.substring(\n            0,\n            newColumnName.toLowerCase().lastIndexOf(\"id\")\n        );\n    }\n    if (!Number.isNaN(parseInt(newColumnName[newColumnName.length - 1], 10))) {\n        newColumnName = newColumnName.substring(0, newColumnName.length - 1);\n    }\n    if (!Number.isNaN(parseInt(newColumnName[newColumnName.length - 1], 10))) {\n        newColumnName = newColumnName.substring(0, newColumnName.length - 1);\n    }\n    if (isRelationToMany && pluralize) {\n        newColumnName = plural(newColumnName);\n    }\n    return newColumnName;\n}\n\nexport function entityName(oldEntityName: string, entity?: Entity): string {\n    return oldEntityName;\n}\n\nexport function columnName(oldColumnName: string, column?: Column): string {\n    return oldColumnName;\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3160c4433056de493f50f5fc7a839c91aa48acc7"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_a1nmlzh0z=function(){return actualCoverage;};return actualCoverage;}cov_a1nmlzh0z();cov_a1nmlzh0z().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});/* eslint-disable @typescript-eslint/no-unused-vars */const pluralize_1=(cov_a1nmlzh0z().s[1]++,require("pluralize"));const changeCase=(cov_a1nmlzh0z().s[2]++,require("change-case"));let pluralize;function enablePluralization(value){cov_a1nmlzh0z().f[0]++;cov_a1nmlzh0z().s[3]++;pluralize=value;}cov_a1nmlzh0z().s[4]++;exports.enablePluralization=enablePluralization;function relationIdName(relationId,relation,owner){cov_a1nmlzh0z().f[1]++;const columnOldName=(cov_a1nmlzh0z().s[5]++,relationId.fieldName);const isRelationToMany=(cov_a1nmlzh0z().s[6]++,(cov_a1nmlzh0z().b[0][0]++,relation.relationType==="OneToMany")||(cov_a1nmlzh0z().b[0][1]++,relation.relationType==="ManyToMany"));let newColumnName=(cov_a1nmlzh0z().s[7]++,changeCase.camelCase(columnOldName.replace(/[0-9]$/,"")));cov_a1nmlzh0z().s[8]++;if(!Number.isNaN(parseInt(newColumnName[newColumnName.length-1],10))){cov_a1nmlzh0z().b[1][0]++;cov_a1nmlzh0z().s[9]++;newColumnName=newColumnName.substring(0,newColumnName.length-1);}else{cov_a1nmlzh0z().b[1][1]++;}cov_a1nmlzh0z().s[10]++;if(!Number.isNaN(parseInt(newColumnName[newColumnName.length-1],10))){cov_a1nmlzh0z().b[2][0]++;cov_a1nmlzh0z().s[11]++;newColumnName=newColumnName.substring(0,newColumnName.length-1);}else{cov_a1nmlzh0z().b[2][1]++;}cov_a1nmlzh0z().s[12]++;if((cov_a1nmlzh0z().b[4][0]++,isRelationToMany)&&(cov_a1nmlzh0z().b[4][1]++,pluralize)){cov_a1nmlzh0z().b[3][0]++;cov_a1nmlzh0z().s[13]++;newColumnName=pluralize_1.plural(newColumnName);}else{cov_a1nmlzh0z().b[3][1]++;}cov_a1nmlzh0z().s[14]++;return newColumnName;}cov_a1nmlzh0z().s[15]++;exports.relationIdName=relationIdName;function relationName(relation,owner){cov_a1nmlzh0z().f[2]++;const columnOldName=(cov_a1nmlzh0z().s[16]++,relation.fieldName);const isRelationToMany=(cov_a1nmlzh0z().s[17]++,(cov_a1nmlzh0z().b[5][0]++,relation.relationType==="OneToMany")||(cov_a1nmlzh0z().b[5][1]++,relation.relationType==="ManyToMany"));let newColumnName=(cov_a1nmlzh0z().s[18]++,changeCase.camelCase(columnOldName.replace(/[0-9]$/,"")));cov_a1nmlzh0z().s[19]++;if((cov_a1nmlzh0z().b[7][0]++,newColumnName.toLowerCase().endsWith("id"))&&(cov_a1nmlzh0z().b[7][1]++,!newColumnName.toLowerCase().endsWith("guid"))){cov_a1nmlzh0z().b[6][0]++;cov_a1nmlzh0z().s[20]++;newColumnName=newColumnName.substring(0,newColumnName.toLowerCase().lastIndexOf("id"));}else{cov_a1nmlzh0z().b[6][1]++;}cov_a1nmlzh0z().s[21]++;if(!Number.isNaN(parseInt(newColumnName[newColumnName.length-1],10))){cov_a1nmlzh0z().b[8][0]++;cov_a1nmlzh0z().s[22]++;newColumnName=newColumnName.substring(0,newColumnName.length-1);}else{cov_a1nmlzh0z().b[8][1]++;}cov_a1nmlzh0z().s[23]++;if(!Number.isNaN(parseInt(newColumnName[newColumnName.length-1],10))){cov_a1nmlzh0z().b[9][0]++;cov_a1nmlzh0z().s[24]++;newColumnName=newColumnName.substring(0,newColumnName.length-1);}else{cov_a1nmlzh0z().b[9][1]++;}cov_a1nmlzh0z().s[25]++;if((cov_a1nmlzh0z().b[11][0]++,isRelationToMany)&&(cov_a1nmlzh0z().b[11][1]++,pluralize)){cov_a1nmlzh0z().b[10][0]++;cov_a1nmlzh0z().s[26]++;newColumnName=pluralize_1.plural(newColumnName);}else{cov_a1nmlzh0z().b[10][1]++;}cov_a1nmlzh0z().s[27]++;return newColumnName;}cov_a1nmlzh0z().s[28]++;exports.relationName=relationName;function entityName(oldEntityName,entity){cov_a1nmlzh0z().f[3]++;cov_a1nmlzh0z().s[29]++;return oldEntityName;}cov_a1nmlzh0z().s[30]++;exports.entityName=entityName;function columnName(oldColumnName,column){cov_a1nmlzh0z().f[4]++;cov_a1nmlzh0z().s[31]++;return oldColumnName;}cov_a1nmlzh0z().s[32]++;exports.columnName=columnName;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvbmVtby93b3JrL2dpdGh1Yi90eXBlb3JtLW1vZGVsLWdlbmVyYXRvci9zcmMvTmFtaW5nU3RyYXRlZ3kudHMiLCJzb3VyY2VzIjpbIi9ob21lL25lbW8vd29yay9naXRodWIvdHlwZW9ybS1tb2RlbC1nZW5lcmF0b3Ivc3JjL05hbWluZ1N0cmF0ZWd5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsc0RBQXNEO0FBQ3RELHlDQUFtQztBQUNuQywwQ0FBMEM7QUFNMUMsSUFBSSxTQUFrQixDQUFDO0FBRXZCLFNBQWdCLG1CQUFtQixDQUFDLEtBQWM7SUFDOUMsU0FBUyxHQUFHLEtBQUssQ0FBQztBQUN0QixDQUFDO0FBRkQsa0RBRUM7QUFFRCxTQUFnQixjQUFjLENBQzFCLFVBQXNCLEVBQ3RCLFFBQWtCLEVBQ2xCLEtBQWM7SUFFZCxNQUFNLGFBQWEsR0FBRyxVQUFVLENBQUMsU0FBUyxDQUFDO0lBRTNDLE1BQU0sZ0JBQWdCLEdBQ2xCLFFBQVEsQ0FBQyxZQUFZLEtBQUssV0FBVztRQUNyQyxRQUFRLENBQUMsWUFBWSxLQUFLLFlBQVksQ0FBQztJQUMzQyxJQUFJLGFBQWEsR0FBRyxVQUFVLENBQUMsU0FBUyxDQUNwQyxhQUFhLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FDdEMsQ0FBQztJQUVGLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFO1FBQ3RFLGFBQWEsR0FBRyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxhQUFhLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO0tBQ3hFO0lBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUU7UUFDdEUsYUFBYSxHQUFHLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7S0FDeEU7SUFDRCxJQUFJLGdCQUFnQixJQUFJLFNBQVMsRUFBRTtRQUMvQixhQUFhLEdBQUcsa0JBQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztLQUN6QztJQUVELE9BQU8sYUFBYSxDQUFDO0FBQ3pCLENBQUM7QUF6QkQsd0NBeUJDO0FBRUQsU0FBZ0IsWUFBWSxDQUFDLFFBQWtCLEVBQUUsS0FBYztJQUMzRCxNQUFNLGFBQWEsR0FBRyxRQUFRLENBQUMsU0FBUyxDQUFDO0lBRXpDLE1BQU0sZ0JBQWdCLEdBQ2xCLFFBQVEsQ0FBQyxZQUFZLEtBQUssV0FBVztRQUNyQyxRQUFRLENBQUMsWUFBWSxLQUFLLFlBQVksQ0FBQztJQUMzQyxJQUFJLGFBQWEsR0FBRyxVQUFVLENBQUMsU0FBUyxDQUNwQyxhQUFhLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FDdEMsQ0FBQztJQUVGLElBQ0ksYUFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUM7UUFDMUMsQ0FBQyxhQUFhLENBQUMsV0FBVyxFQUFFLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUMvQztRQUNFLGFBQWEsR0FBRyxhQUFhLENBQUMsU0FBUyxDQUNuQyxDQUFDLEVBQ0QsYUFBYSxDQUFDLFdBQVcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FDaEQsQ0FBQztLQUNMO0lBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxhQUFhLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUU7UUFDdEUsYUFBYSxHQUFHLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7S0FDeEU7SUFDRCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRTtRQUN0RSxhQUFhLEdBQUcsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsYUFBYSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztLQUN4RTtJQUNELElBQUksZ0JBQWdCLElBQUksU0FBUyxFQUFFO1FBQy9CLGFBQWEsR0FBRyxrQkFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0tBQ3pDO0lBQ0QsT0FBTyxhQUFhLENBQUM7QUFDekIsQ0FBQztBQTdCRCxvQ0E2QkM7QUFFRCxTQUFnQixVQUFVLENBQUMsYUFBcUIsRUFBRSxNQUFlO0lBQzdELE9BQU8sYUFBYSxDQUFDO0FBQ3pCLENBQUM7QUFGRCxnQ0FFQztBQUVELFNBQWdCLFVBQVUsQ0FBQyxhQUFxQixFQUFFLE1BQWU7SUFDN0QsT0FBTyxhQUFhLENBQUM7QUFDekIsQ0FBQztBQUZELGdDQUVDIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzICovXG5pbXBvcnQgeyBwbHVyYWwgfSBmcm9tIFwicGx1cmFsaXplXCI7XG5pbXBvcnQgKiBhcyBjaGFuZ2VDYXNlIGZyb20gXCJjaGFuZ2UtY2FzZVwiO1xuaW1wb3J0IHsgUmVsYXRpb24gfSBmcm9tIFwiLi9tb2RlbHMvUmVsYXRpb25cIjtcbmltcG9ydCB7IFJlbGF0aW9uSWQgfSBmcm9tIFwiLi9tb2RlbHMvUmVsYXRpb25JZFwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4vbW9kZWxzL0VudGl0eVwiO1xuaW1wb3J0IHsgQ29sdW1uIH0gZnJvbSBcIi4vbW9kZWxzL0NvbHVtblwiO1xuXG5sZXQgcGx1cmFsaXplOiBib29sZWFuO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlUGx1cmFsaXphdGlvbih2YWx1ZTogYm9vbGVhbikge1xuICAgIHBsdXJhbGl6ZSA9IHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVsYXRpb25JZE5hbWUoXG4gICAgcmVsYXRpb25JZDogUmVsYXRpb25JZCxcbiAgICByZWxhdGlvbjogUmVsYXRpb24sXG4gICAgb3duZXI/OiBFbnRpdHlcbik6IHN0cmluZyB7XG4gICAgY29uc3QgY29sdW1uT2xkTmFtZSA9IHJlbGF0aW9uSWQuZmllbGROYW1lO1xuXG4gICAgY29uc3QgaXNSZWxhdGlvblRvTWFueSA9XG4gICAgICAgIHJlbGF0aW9uLnJlbGF0aW9uVHlwZSA9PT0gXCJPbmVUb01hbnlcIiB8fFxuICAgICAgICByZWxhdGlvbi5yZWxhdGlvblR5cGUgPT09IFwiTWFueVRvTWFueVwiO1xuICAgIGxldCBuZXdDb2x1bW5OYW1lID0gY2hhbmdlQ2FzZS5jYW1lbENhc2UoXG4gICAgICAgIGNvbHVtbk9sZE5hbWUucmVwbGFjZSgvWzAtOV0kLywgXCJcIilcbiAgICApO1xuXG4gICAgaWYgKCFOdW1iZXIuaXNOYU4ocGFyc2VJbnQobmV3Q29sdW1uTmFtZVtuZXdDb2x1bW5OYW1lLmxlbmd0aCAtIDFdLCAxMCkpKSB7XG4gICAgICAgIG5ld0NvbHVtbk5hbWUgPSBuZXdDb2x1bW5OYW1lLnN1YnN0cmluZygwLCBuZXdDb2x1bW5OYW1lLmxlbmd0aCAtIDEpO1xuICAgIH1cbiAgICBpZiAoIU51bWJlci5pc05hTihwYXJzZUludChuZXdDb2x1bW5OYW1lW25ld0NvbHVtbk5hbWUubGVuZ3RoIC0gMV0sIDEwKSkpIHtcbiAgICAgICAgbmV3Q29sdW1uTmFtZSA9IG5ld0NvbHVtbk5hbWUuc3Vic3RyaW5nKDAsIG5ld0NvbHVtbk5hbWUubGVuZ3RoIC0gMSk7XG4gICAgfVxuICAgIGlmIChpc1JlbGF0aW9uVG9NYW55ICYmIHBsdXJhbGl6ZSkge1xuICAgICAgICBuZXdDb2x1bW5OYW1lID0gcGx1cmFsKG5ld0NvbHVtbk5hbWUpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXdDb2x1bW5OYW1lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVsYXRpb25OYW1lKHJlbGF0aW9uOiBSZWxhdGlvbiwgb3duZXI/OiBFbnRpdHkpOiBzdHJpbmcge1xuICAgIGNvbnN0IGNvbHVtbk9sZE5hbWUgPSByZWxhdGlvbi5maWVsZE5hbWU7XG5cbiAgICBjb25zdCBpc1JlbGF0aW9uVG9NYW55ID1cbiAgICAgICAgcmVsYXRpb24ucmVsYXRpb25UeXBlID09PSBcIk9uZVRvTWFueVwiIHx8XG4gICAgICAgIHJlbGF0aW9uLnJlbGF0aW9uVHlwZSA9PT0gXCJNYW55VG9NYW55XCI7XG4gICAgbGV0IG5ld0NvbHVtbk5hbWUgPSBjaGFuZ2VDYXNlLmNhbWVsQ2FzZShcbiAgICAgICAgY29sdW1uT2xkTmFtZS5yZXBsYWNlKC9bMC05XSQvLCBcIlwiKVxuICAgICk7XG5cbiAgICBpZiAoXG4gICAgICAgIG5ld0NvbHVtbk5hbWUudG9Mb3dlckNhc2UoKS5lbmRzV2l0aChcImlkXCIpICYmXG4gICAgICAgICFuZXdDb2x1bW5OYW1lLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoXCJndWlkXCIpXG4gICAgKSB7XG4gICAgICAgIG5ld0NvbHVtbk5hbWUgPSBuZXdDb2x1bW5OYW1lLnN1YnN0cmluZyhcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBuZXdDb2x1bW5OYW1lLnRvTG93ZXJDYXNlKCkubGFzdEluZGV4T2YoXCJpZFwiKVxuICAgICAgICApO1xuICAgIH1cbiAgICBpZiAoIU51bWJlci5pc05hTihwYXJzZUludChuZXdDb2x1bW5OYW1lW25ld0NvbHVtbk5hbWUubGVuZ3RoIC0gMV0sIDEwKSkpIHtcbiAgICAgICAgbmV3Q29sdW1uTmFtZSA9IG5ld0NvbHVtbk5hbWUuc3Vic3RyaW5nKDAsIG5ld0NvbHVtbk5hbWUubGVuZ3RoIC0gMSk7XG4gICAgfVxuICAgIGlmICghTnVtYmVyLmlzTmFOKHBhcnNlSW50KG5ld0NvbHVtbk5hbWVbbmV3Q29sdW1uTmFtZS5sZW5ndGggLSAxXSwgMTApKSkge1xuICAgICAgICBuZXdDb2x1bW5OYW1lID0gbmV3Q29sdW1uTmFtZS5zdWJzdHJpbmcoMCwgbmV3Q29sdW1uTmFtZS5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgaWYgKGlzUmVsYXRpb25Ub01hbnkgJiYgcGx1cmFsaXplKSB7XG4gICAgICAgIG5ld0NvbHVtbk5hbWUgPSBwbHVyYWwobmV3Q29sdW1uTmFtZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdDb2x1bW5OYW1lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW50aXR5TmFtZShvbGRFbnRpdHlOYW1lOiBzdHJpbmcsIGVudGl0eT86IEVudGl0eSk6IHN0cmluZyB7XG4gICAgcmV0dXJuIG9sZEVudGl0eU5hbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb2x1bW5OYW1lKG9sZENvbHVtbk5hbWU6IHN0cmluZywgY29sdW1uPzogQ29sdW1uKTogc3RyaW5nIHtcbiAgICByZXR1cm4gb2xkQ29sdW1uTmFtZTtcbn1cbiJdfQ==
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL25lbW8vd29yay9naXRodWIvdHlwZW9ybS1tb2RlbC1nZW5lcmF0b3Ivc3JjL05hbWluZ1N0cmF0ZWd5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJ1eFZBQUEsc0RBQ0EsS0FBQSxDQUFBLFdBQUEseUJBQUEsT0FBQSxDQUFBLFdBQUEsQ0FBQSxDQUFBLENBQ0EsS0FBQSxDQUFBLFVBQUEseUJBQUEsT0FBQSxDQUFBLGFBQUEsQ0FBQSxDQUFBLENBTUEsR0FBSSxDQUFBLFNBQUosQ0FFQSxRQUFnQixDQUFBLG1CQUFoQixDQUFvQyxLQUFwQyxDQUFrRCwrQ0FDOUMsU0FBUyxDQUFHLEtBQVosQ0FDSCxDLHVCQUZELE9BQUEsQ0FBQSxtQkFBQSxDQUFBLG1CQUFBLENBSUEsUUFBZ0IsQ0FBQSxjQUFoQixDQUNJLFVBREosQ0FFSSxRQUZKLENBR0ksS0FISixDQUdrQix3QkFFZCxLQUFNLENBQUEsYUFBYSx5QkFBRyxVQUFVLENBQUMsU0FBZCxDQUFuQixDQUVBLEtBQU0sQ0FBQSxnQkFBZ0IseUJBQ2xCLDJCQUFBLFFBQVEsQ0FBQyxZQUFULEdBQTBCLFdBQTFCLDhCQUNBLFFBQVEsQ0FBQyxZQUFULEdBQTBCLFlBRDFCLENBRGtCLENBQXRCLENBR0EsR0FBSSxDQUFBLGFBQWEseUJBQUcsVUFBVSxDQUFDLFNBQVgsQ0FDaEIsYUFBYSxDQUFDLE9BQWQsQ0FBc0IsUUFBdEIsQ0FBZ0MsRUFBaEMsQ0FEZ0IsQ0FBSCxDQUFqQixDQVBjLHVCQVdkLEdBQUksQ0FBQyxNQUFNLENBQUMsS0FBUCxDQUFhLFFBQVEsQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLE1BQWQsQ0FBdUIsQ0FBeEIsQ0FBZCxDQUEwQyxFQUExQyxDQUFyQixDQUFMLENBQTBFLGtEQUN0RSxhQUFhLENBQUcsYUFBYSxDQUFDLFNBQWQsQ0FBd0IsQ0FBeEIsQ0FBMkIsYUFBYSxDQUFDLE1BQWQsQ0FBdUIsQ0FBbEQsQ0FBaEIsQ0FDSCxDQUZELGdDQVhjLHdCQWNkLEdBQUks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c2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCB7IHBsdXJhbCB9IGZyb20gXCJwbHVyYWxpemVcIjtcbmltcG9ydCAqIGFzIGNoYW5nZUNhc2UgZnJvbSBcImNoYW5nZS1jYXNlXCI7XG5pbXBvcnQgeyBSZWxhdGlvbiB9IGZyb20gXCIuL21vZGVscy9SZWxhdGlvblwiO1xuaW1wb3J0IHsgUmVsYXRpb25JZCB9IGZyb20gXCIuL21vZGVscy9SZWxhdGlvbklkXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9tb2RlbHMvRW50aXR5XCI7XG5pbXBvcnQgeyBDb2x1bW4gfSBmcm9tIFwiLi9tb2RlbHMvQ29sdW1uXCI7XG5cbmxldCBwbHVyYWxpemU6IGJvb2xlYW47XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVQbHVyYWxpemF0aW9uKHZhbHVlOiBib29sZWFuKSB7XG4gICAgcGx1cmFsaXplID0gdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWxhdGlvbklkTmFtZShcbiAgICByZWxhdGlvbklkOiBSZWxhdGlvbklkLFxuICAgIHJlbGF0aW9uOiBSZWxhdGlvbixcbiAgICBvd25lcj86IEVudGl0eVxuKTogc3RyaW5nIHtcbiAgICBjb25zdCBjb2x1bW5PbGROYW1lID0gcmVsYXRpb25JZC5maWVsZE5hbWU7XG5cbiAgICBjb25zdCBpc1JlbGF0aW9uVG9NYW55ID1cbiAgICAgICAgcmVsYXRpb24ucmVsYXRpb25UeXBlID09PSBcIk9uZVRvTWFueVwiIHx8XG4gICAgICAgIHJlbGF0aW9uLnJlbGF0aW9uVHlwZSA9PT0gXCJNYW55VG9NYW55XCI7XG4gICAgbGV0IG5ld0NvbHVtbk5hbWUgPSBjaGFuZ2VDYXNlLmNhbWVsQ2FzZShcbiAgICAgICAgY29sdW1uT2xkTmFtZS5yZXBsYWNlKC9bMC05XSQvLCBcIlwiKVxuICAgICk7XG5cbiAgICBpZiAoIU51bWJlci5pc05hTihwYXJzZUludChuZXdDb2x1bW5OYW1lW25ld0NvbHVtbk5hbWUubGVuZ3RoIC0gMV0sIDEwKSkpIHtcbiAgICAgICAgbmV3Q29sdW1uTmFtZSA9IG5ld0NvbHVtbk5hbWUuc3Vic3RyaW5nKDAsIG5ld0NvbHVtbk5hbWUubGVuZ3RoIC0gMSk7XG4gICAgfVxuICAgIGlmICghTnVtYmVyLmlzTmFOKHBhcnNlSW50KG5ld0NvbHVtbk5hbWVbbmV3Q29sdW1uTmFtZS5sZW5ndGggLSAxXSwgMTApKSkge1xuICAgICAgICBuZXdDb2x1bW5OYW1lID0gbmV3Q29sdW1uTmFtZS5zdWJzdHJpbmcoMCwgbmV3Q29sdW1uTmFtZS5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgaWYgKGlzUmVsYXRpb25Ub01hbnkgJiYgcGx1cmFsaXplKSB7XG4gICAgICAgIG5ld0NvbHVtbk5hbWUgPSBwbHVyYWwobmV3Q29sdW1uTmFtZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld0NvbHVtbk5hbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWxhdGlvbk5hbWUocmVsYXRpb246IFJlbGF0aW9uLCBvd25lcj86IEVudGl0eSk6IHN0cmluZyB7XG4gICAgY29uc3QgY29sdW1uT2xkTmFtZSA9IHJlbGF0aW9uLmZpZWxkTmFtZTtcblxuICAgIGNvbnN0IGlzUmVsYXRpb25Ub01hbnkgPVxuICAgICAgICByZWxhdGlvbi5yZWxhdGlvblR5cGUgPT09IFwiT25lVG9NYW55XCIgfHxcbiAgICAgICAgcmVsYXRpb24ucmVsYXRpb25UeXBlID09PSBcIk1hbnlUb01hbnlcIjtcbiAgICBsZXQgbmV3Q29sdW1uTmFtZSA9IGNoYW5nZUNhc2UuY2FtZWxDYXNlKFxuICAgICAgICBjb2x1bW5PbGROYW1lLnJlcGxhY2UoL1swLTldJC8sIFwiXCIpXG4gICAgKTtcblxuICAgIGlmIChcbiAgICAgICAgbmV3Q29sdW1uTmFtZS50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKFwiaWRcIikgJiZcbiAgICAgICAgIW5ld0NvbHVtbk5hbWUudG9Mb3dlckNhc2UoKS5lbmRzV2l0aChcImd1aWRcIilcbiAgICApIHtcbiAgICAgICAgbmV3Q29sdW1uTmFtZSA9IG5ld0NvbHVtbk5hbWUuc3Vic3RyaW5nKFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIG5ld0NvbHVtbk5hbWUudG9Mb3dlckNhc2UoKS5sYXN0SW5kZXhPZihcImlkXCIpXG4gICAgICAgICk7XG4gICAgfVxuICAgIGlmICghTnVtYmVyLmlzTmFOKHBhcnNlSW50KG5ld0NvbHVtbk5hbWVbbmV3Q29sdW1uTmFtZS5sZW5ndGggLSAxXSwgMTApKSkge1xuICAgICAgICBuZXdDb2x1bW5OYW1lID0gbmV3Q29sdW1uTmFtZS5zdWJzdHJpbmcoMCwgbmV3Q29sdW1uTmFtZS5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgaWYgKCFOdW1iZXIuaXNOYU4ocGFyc2VJbnQobmV3Q29sdW1uTmFtZVtuZXdDb2x1bW5OYW1lLmxlbmd0aCAtIDFdLCAxMCkpKSB7XG4gICAgICAgIG5ld0NvbHVtbk5hbWUgPSBuZXdDb2x1bW5OYW1lLnN1YnN0cmluZygwLCBuZXdDb2x1bW5OYW1lLmxlbmd0aCAtIDEpO1xuICAgIH1cbiAgICBpZiAoaXNSZWxhdGlvblRvTWFueSAmJiBwbHVyYWxpemUpIHtcbiAgICAgICAgbmV3Q29sdW1uTmFtZSA9IHBsdXJhbChuZXdDb2x1bW5OYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0NvbHVtbk5hbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnRpdHlOYW1lKG9sZEVudGl0eU5hbWU6IHN0cmluZywgZW50aXR5PzogRW50aXR5KTogc3RyaW5nIHtcbiAgICByZXR1cm4gb2xkRW50aXR5TmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbHVtbk5hbWUob2xkQ29sdW1uTmFtZTogc3RyaW5nLCBjb2x1bW4/OiBDb2x1bW4pOiBzdHJpbmcge1xuICAgIHJldHVybiBvbGRDb2x1bW5OYW1lO1xufVxuIl19