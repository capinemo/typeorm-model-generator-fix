"use strict";function cov_2anxdyvrh(){var path="/home/nemo/work/github/typeorm-model-generator/src/ModelGeneration.ts";var hash="0cf5969f0702346fd18de107fd9bafdb144fa81e";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/nemo/work/github/typeorm-model-generator/src/ModelGeneration.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:19},end:{line:3,column:40}},"2":{start:{line:4,column:17},end:{line:4,column:36}},"3":{start:{line:5,column:19},end:{line:5,column:41}},"4":{start:{line:6,column:11},end:{line:6,column:24}},"5":{start:{line:7,column:13},end:{line:7,column:28}},"6":{start:{line:8,column:13},end:{line:8,column:26}},"7":{start:{line:9,column:29},end:{line:9,column:60}},"8":{start:{line:10,column:24},end:{line:13,column:1}},"9":{start:{line:15,column:4},end:{line:15,column:47}},"10":{start:{line:16,column:23},end:{line:16,column:52}},"11":{start:{line:17,column:4},end:{line:19,column:5}},"12":{start:{line:18,column:8},end:{line:18,column:33}},"13":{start:{line:20,column:23},end:{line:20,column:33}},"14":{start:{line:21,column:4},end:{line:28,column:5}},"15":{start:{line:22,column:8},end:{line:22,column:39}},"16":{start:{line:23,column:8},end:{line:23,column:59}},"17":{start:{line:24,column:8},end:{line:24,column:62}},"18":{start:{line:25,column:8},end:{line:27,column:9}},"19":{start:{line:26,column:12},end:{line:26,column:39}},"20":{start:{line:29,column:4},end:{line:31,column:5}},"21":{start:{line:30,column:8},end:{line:30,column:72}},"22":{start:{line:32,column:4},end:{line:32,column:67}},"23":{start:{line:34,column:0},end:{line:34,column:39}},"24":{start:{line:36,column:31},end:{line:36,column:81}},"25":{start:{line:37,column:27},end:{line:37,column:71}},"26":{start:{line:38,column:35},end:{line:40,column:6}},"27":{start:{line:41,column:4},end:{line:77,column:7}},"28":{start:{line:42,column:28},end:{line:42,column:30}},"29":{start:{line:43,column:8},end:{line:58,column:9}},"30":{start:{line:45,column:16},end:{line:45,column:70}},"31":{start:{line:46,column:16},end:{line:46,column:22}},"32":{start:{line:48,column:16},end:{line:48,column:70}},"33":{start:{line:49,column:16},end:{line:49,column:22}},"34":{start:{line:51,column:16},end:{line:51,column:71}},"35":{start:{line:52,column:16},end:{line:52,column:22}},"36":{start:{line:54,column:16},end:{line:54,column:48}},"37":{start:{line:55,column:16},end:{line:55,column:22}},"38":{start:{line:57,column:16},end:{line:57,column:54}},"39":{start:{line:59,column:31},end:{line:59,column:80}},"40":{start:{line:60,column:25},end:{line:60,column:56}},"41":{start:{line:61,column:37},end:{line:63,column:23}},"42":{start:{line:64,column:24},end:{line:64,column:26}},"43":{start:{line:65,column:8},end:{line:72,column:9}},"44":{start:{line:66,column:12},end:{line:66,column:79}},"45":{start:{line:69,column:12},end:{line:69,column:105}},"46":{start:{line:70,column:12},end:{line:70,column:33}},"47":{start:{line:71,column:12},end:{line:71,column:45}},"48":{start:{line:73,column:8},end:{line:76,column:11}},"49":{start:{line:80,column:25},end:{line:80,column:74}},"50":{start:{line:81,column:21},end:{line:81,column:59}},"51":{start:{line:82,column:29},end:{line:84,column:6}},"52":{start:{line:85,column:21},end:{line:85,column:66}},"53":{start:{line:86,column:22},end:{line:86,column:64}},"54":{start:{line:87,column:19},end:{line:87,column:26}},"55":{start:{line:88,column:4},end:{line:99,column:5}},"56":{start:{line:90,column:12},end:{line:90,column:54}},"57":{start:{line:91,column:12},end:{line:91,column:18}},"58":{start:{line:93,column:12},end:{line:93,column:54}},"59":{start:{line:94,column:12},end:{line:94,column:18}},"60":{start:{line:96,column:12},end:{line:96,column:55}},"61":{start:{line:97,column:12},end:{line:97,column:18}},"62":{start:{line:100,column:27},end:{line:100,column:71}},"63":{start:{line:101,column:4},end:{line:104,column:7}},"64":{start:{line:107,column:29},end:{line:107,column:54}},"65":{start:{line:108,column:30},end:{line:108,column:51}},"66":{start:{line:109,column:20},end:{line:111,column:19}},"67":{start:{line:112,column:35},end:{line:112,column:72}},"68":{start:{line:113,column:28},end:{line:114,column:73}},"69":{start:{line:113,column:50},end:{line:114,column:72}},"70":{start:{line:115,column:4},end:{line:115,column:109}},"71":{start:{line:118,column:4},end:{line:122,column:7}},"72":{start:{line:119,column:21},end:{line:119,column:44}},"73":{start:{line:120,column:30},end:{line:120,column:67}},"74":{start:{line:121,column:8},end:{line:121,column:64}},"75":{start:{line:123,column:4},end:{line:139,column:7}},"76":{start:{line:124,column:21},end:{line:124,column:23}},"77":{start:{line:125,column:8},end:{line:137,column:9}},"78":{start:{line:127,column:16},end:{line:127,column:51}},"79":{start:{line:128,column:16},end:{line:128,column:22}},"80":{start:{line:130,column:16},end:{line:130,column:52}},"81":{start:{line:131,column:16},end:{line:131,column:22}},"82":{start:{line:133,column:16},end:{line:133,column:29}},"83":{start:{line:134,column:16},end:{line:134,column:22}},"84":{start:{line:136,column:16},end:{line:136,column:54}},"85":{start:{line:138,column:8},end:{line:138,column:22}},"86":{start:{line:140,column:4},end:{line:159,column:7}},"87":{start:{line:141,column:21},end:{line:141,column:23}},"88":{start:{line:142,column:8},end:{line:157,column:9}},"89":{start:{line:144,column:16},end:{line:144,column:51}},"90":{start:{line:145,column:16},end:{line:145,column:22}},"91":{start:{line:147,column:16},end:{line:147,column:51}},"92":{start:{line:148,column:16},end:{line:148,column:22}},"93":{start:{line:150,column:16},end:{line:150,column:52}},"94":{start:{line:151,column:16},end:{line:151,column:22}},"95":{start:{line:153,column:16},end:{line:153,column:29}},"96":{start:{line:154,column:16},end:{line:154,column:22}},"97":{start:{line:156,column:16},end:{line:156,column:54}},"98":{start:{line:158,column:8},end:{line:158,column:22}},"99":{start:{line:160,column:4},end:{line:162,column:14}},"100":{start:{line:160,column:63},end:{line:162,column:12}},"101":{start:{line:163,column:4},end:{line:179,column:7}},"102":{start:{line:164,column:21},end:{line:164,column:23}},"103":{start:{line:165,column:8},end:{line:177,column:9}},"104":{start:{line:167,column:16},end:{line:167,column:51}},"105":{start:{line:168,column:16},end:{line:168,column:22}},"106":{start:{line:170,column:16},end:{line:170,column:52}},"107":{start:{line:171,column:16},end:{line:171,column:22}},"108":{start:{line:173,column:16},end:{line:173,column:29}},"109":{start:{line:174,column:16},end:{line:174,column:22}},"110":{start:{line:176,column:16},end:{line:176,column:54}},"111":{start:{line:178,column:8},end:{line:178,column:22}},"112":{start:{line:180,column:4},end:{line:189,column:7}},"113":{start:{line:181,column:21},end:{line:181,column:31}},"114":{start:{line:182,column:8},end:{line:184,column:9}},"115":{start:{line:183,column:12},end:{line:183,column:35}},"116":{start:{line:185,column:8},end:{line:187,column:9}},"117":{start:{line:186,column:12},end:{line:186,column:42}},"118":{start:{line:188,column:8},end:{line:188,column:22}},"119":{start:{line:190,column:4},end:{line:190,column:114}},"120":{start:{line:190,column:53},end:{line:190,column:112}},"121":{start:{line:191,column:4},end:{line:193,column:29}},"122":{start:{line:191,column:61},end:{line:193,column:27}},"123":{start:{line:194,column:4},end:{line:196,column:14}},"124":{start:{line:194,column:50},end:{line:196,column:12}},"125":{start:{line:197,column:4},end:{line:206,column:7}},"126":{start:{line:198,column:25},end:{line:198,column:33}},"127":{start:{line:199,column:24},end:{line:199,column:33}},"128":{start:{line:200,column:24},end:{line:200,column:31}},"129":{start:{line:201,column:25},end:{line:201,column:33}},"130":{start:{line:202,column:24},end:{line:202,column:31}},"131":{start:{line:203,column:25},end:{line:203,column:33}},"132":{start:{line:204,column:24},end:{line:204,column:33}},"133":{start:{line:205,column:24},end:{line:205,column:32}},"134":{start:{line:209,column:25},end:{line:209,column:77}},"135":{start:{line:210,column:21},end:{line:210,column:59}},"136":{start:{line:211,column:29},end:{line:213,column:6}},"137":{start:{line:214,column:21},end:{line:214,column:41}},"138":{start:{line:215,column:22},end:{line:215,column:67}},"139":{start:{line:216,column:27},end:{line:216,column:68}},"140":{start:{line:217,column:4},end:{line:220,column:7}},"141":{start:{line:223,column:25},end:{line:223,column:78}},"142":{start:{line:224,column:21},end:{line:224,column:59}},"143":{start:{line:225,column:29},end:{line:227,column:6}},"144":{start:{line:228,column:21},end:{line:228,column:56}},"145":{start:{line:229,column:22},end:{line:229,column:67}},"146":{start:{line:230,column:27},end:{line:230,column:69}},"147":{start:{line:231,column:4},end:{line:234,column:7}}},fnMap:{"0":{name:"modelGenerationPhase",decl:{start:{line:14,column:9},end:{line:14,column:29}},loc:{start:{line:14,column:83},end:{line:33,column:1}},line:14},"1":{name:"generateModels",decl:{start:{line:35,column:9},end:{line:35,column:23}},loc:{start:{line:35,column:72},end:{line:78,column:1}},line:35},"2":{name:"(anonymous_2)",decl:{start:{line:41,column:26},end:{line:41,column:27}},loc:{start:{line:41,column:39},end:{line:77,column:5}},line:41},"3":{name:"createIndexFile",decl:{start:{line:79,column:9},end:{line:79,column:24}},loc:{start:{line:79,column:73},end:{line:105,column:1}},line:79},"4":{name:"removeUnusedImports",decl:{start:{line:106,column:9},end:{line:106,column:28}},loc:{start:{line:106,column:39},end:{line:116,column:1}},line:106},"5":{name:"(anonymous_5)",decl:{start:{line:113,column:43},end:{line:113,column:44}},loc:{start:{line:113,column:50},end:{line:114,column:72}},line:113},"6":{name:"createHandlebarsHelpers",decl:{start:{line:117,column:9},end:{line:117,column:32}},loc:{start:{line:117,column:52},end:{line:207,column:1}},line:117},"7":{name:"(anonymous_7)",decl:{start:{line:118,column:38},end:{line:118,column:39}},loc:{start:{line:118,column:51},end:{line:122,column:5}},line:118},"8":{name:"(anonymous_8)",decl:{start:{line:123,column:46},end:{line:123,column:47}},loc:{start:{line:123,column:55},end:{line:139,column:5}},line:123},"9":{name:"(anonymous_9)",decl:{start:{line:140,column:44},end:{line:140,column:45}},loc:{start:{line:140,column:53},end:{line:159,column:5}},line:140},"10":{name:"(anonymous_10)",decl:{start:{line:160,column:57},end:{line:160,column:58}},loc:{start:{line:160,column:63},end:{line:162,column:12}},line:160},"11":{name:"(anonymous_11)",decl:{start:{line:163,column:48},end:{line:163,column:49}},loc:{start:{line:163,column:57},end:{line:179,column:5}},line:163},"12":{name:"(anonymous_12)",decl:{start:{line:180,column:44},end:{line:180,column:45}},loc:{start:{line:180,column:74},end:{line:189,column:5}},line:180},"13":{name:"(anonymous_13)",decl:{start:{line:190,column:47},end:{line:190,column:48}},loc:{start:{line:190,column:53},end:{line:190,column:112}},line:190},"14":{name:"(anonymous_14)",decl:{start:{line:191,column:45},end:{line:191,column:46}},loc:{start:{line:191,column:61},end:{line:193,column:27}},line:191},"15":{name:"(anonymous_15)",decl:{start:{line:194,column:44},end:{line:194,column:45}},loc:{start:{line:194,column:50},end:{line:196,column:12}},line:194},"16":{name:"(anonymous_16)",decl:{start:{line:198,column:13},end:{line:198,column:14}},loc:{start:{line:198,column:25},end:{line:198,column:33}},line:198},"17":{name:"(anonymous_17)",decl:{start:{line:199,column:12},end:{line:199,column:13}},loc:{start:{line:199,column:24},end:{line:199,column:33}},line:199},"18":{name:"(anonymous_18)",decl:{start:{line:200,column:12},end:{line:200,column:13}},loc:{start:{line:200,column:24},end:{line:200,column:31}},line:200},"19":{name:"(anonymous_19)",decl:{start:{line:201,column:13},end:{line:201,column:14}},loc:{start:{line:201,column:25},end:{line:201,column:33}},line:201},"20":{name:"(anonymous_20)",decl:{start:{line:202,column:12},end:{line:202,column:13}},loc:{start:{line:202,column:24},end:{line:202,column:31}},line:202},"21":{name:"(anonymous_21)",decl:{start:{line:203,column:13},end:{line:203,column:14}},loc:{start:{line:203,column:25},end:{line:203,column:33}},line:203},"22":{name:"(anonymous_22)",decl:{start:{line:204,column:12},end:{line:204,column:13}},loc:{start:{line:204,column:24},end:{line:204,column:33}},line:204},"23":{name:"(anonymous_23)",decl:{start:{line:205,column:12},end:{line:205,column:13}},loc:{start:{line:205,column:24},end:{line:205,column:32}},line:205},"24":{name:"createTsConfigFile",decl:{start:{line:208,column:9},end:{line:208,column:27}},loc:{start:{line:208,column:40},end:{line:221,column:1}},line:208},"25":{name:"createTypeOrmConfig",decl:{start:{line:222,column:9},end:{line:222,column:28}},loc:{start:{line:222,column:60},end:{line:235,column:1}},line:222}},branchMap:{"0":{loc:{start:{line:17,column:4},end:{line:19,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:19,column:5}},{start:{line:17,column:4},end:{line:19,column:5}}],line:17},"1":{loc:{start:{line:21,column:4},end:{line:28,column:5}},type:"if",locations:[{start:{line:21,column:4},end:{line:28,column:5}},{start:{line:21,column:4},end:{line:28,column:5}}],line:21},"2":{loc:{start:{line:25,column:8},end:{line:27,column:9}},type:"if",locations:[{start:{line:25,column:8},end:{line:27,column:9}},{start:{line:25,column:8},end:{line:27,column:9}}],line:25},"3":{loc:{start:{line:29,column:4},end:{line:31,column:5}},type:"if",locations:[{start:{line:29,column:4},end:{line:31,column:5}},{start:{line:29,column:4},end:{line:31,column:5}}],line:29},"4":{loc:{start:{line:43,column:8},end:{line:58,column:9}},type:"switch",locations:[{start:{line:44,column:12},end:{line:46,column:22}},{start:{line:47,column:12},end:{line:49,column:22}},{start:{line:50,column:12},end:{line:52,column:22}},{start:{line:53,column:12},end:{line:55,column:22}},{start:{line:56,column:12},end:{line:57,column:54}}],line:43},"5":{loc:{start:{line:61,column:57},end:{line:63,column:22}},type:"cond-expr",locations:[{start:{line:62,column:14},end:{line:62,column:113}},{start:{line:63,column:14},end:{line:63,column:22}}],line:61},"6":{loc:{start:{line:88,column:4},end:{line:99,column:5}},type:"switch",locations:[{start:{line:89,column:8},end:{line:91,column:18}},{start:{line:92,column:8},end:{line:94,column:18}},{start:{line:95,column:8},end:{line:97,column:18}},{start:{line:98,column:8},end:{line:98,column:16}}],line:88},"7":{loc:{start:{line:113,column:50},end:{line:114,column:72}},type:"binary-expr",locations:[{start:{line:113,column:50},end:{line:113,column:97}},{start:{line:114,column:9},end:{line:114,column:27}},{start:{line:114,column:31},end:{line:114,column:71}}],line:113},"8":{loc:{start:{line:125,column:8},end:{line:137,column:9}},type:"switch",locations:[{start:{line:126,column:12},end:{line:128,column:22}},{start:{line:129,column:12},end:{line:131,column:22}},{start:{line:132,column:12},end:{line:134,column:22}},{start:{line:135,column:12},end:{line:136,column:54}}],line:125},"9":{loc:{start:{line:142,column:8},end:{line:157,column:9}},type:"switch",locations:[{start:{line:143,column:12},end:{line:145,column:22}},{start:{line:146,column:12},end:{line:148,column:22}},{start:{line:149,column:12},end:{line:151,column:22}},{start:{line:152,column:12},end:{line:154,column:22}},{start:{line:155,column:12},end:{line:156,column:54}}],line:142},"10":{loc:{start:{line:160,column:63},end:{line:162,column:12}},type:"cond-expr",locations:[{start:{line:161,column:10},end:{line:161,column:52}},{start:{line:162,column:10},end:{line:162,column:12}}],line:160},"11":{loc:{start:{line:165,column:8},end:{line:177,column:9}},type:"switch",locations:[{start:{line:166,column:12},end:{line:168,column:22}},{start:{line:169,column:12},end:{line:171,column:22}},{start:{line:172,column:12},end:{line:174,column:22}},{start:{line:175,column:12},end:{line:176,column:54}}],line:165},"12":{loc:{start:{line:182,column:8},end:{line:184,column:9}},type:"if",locations:[{start:{line:182,column:8},end:{line:184,column:9}},{start:{line:182,column:8},end:{line:184,column:9}}],line:182},"13":{loc:{start:{line:182,column:12},end:{line:182,column:73}},type:"binary-expr",locations:[{start:{line:182,column:12},end:{line:182,column:41}},{start:{line:182,column:45},end:{line:182,column:73}}],line:182},"14":{loc:{start:{line:185,column:8},end:{line:187,column:9}},type:"if",locations:[{start:{line:185,column:8},end:{line:187,column:9}},{start:{line:185,column:8},end:{line:187,column:9}}],line:185},"15":{loc:{start:{line:190,column:53},end:{line:190,column:112}},type:"cond-expr",locations:[{start:{line:190,column:98},end:{line:190,column:107}},{start:{line:190,column:110},end:{line:190,column:112}}],line:190},"16":{loc:{start:{line:191,column:61},end:{line:193,column:27}},type:"cond-expr",locations:[{start:{line:192,column:10},end:{line:192,column:20}},{start:{line:193,column:10},end:{line:193,column:27}}],line:191},"17":{loc:{start:{line:194,column:50},end:{line:196,column:12}},type:"cond-expr",locations:[{start:{line:195,column:10},end:{line:195,column:38}},{start:{line:196,column:10},end:{line:196,column:12}}],line:194},"18":{loc:{start:{line:198,column:25},end:{line:198,column:33}},type:"binary-expr",locations:[{start:{line:198,column:25},end:{line:198,column:27}},{start:{line:198,column:31},end:{line:198,column:33}}],line:198},"19":{loc:{start:{line:205,column:24},end:{line:205,column:32}},type:"binary-expr",locations:[{start:{line:205,column:24},end:{line:205,column:26}},{start:{line:205,column:30},end:{line:205,column:32}}],line:205}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0,0,0],"5":[0,0],"6":[0,0,0,0],"7":[0,0,0],"8":[0,0,0,0],"9":[0,0,0,0,0],"10":[0,0],"11":[0,0,0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0]},inputSourceMap:{version:3,file:"/home/nemo/work/github/typeorm-model-generator/src/ModelGeneration.ts",sources:["/home/nemo/work/github/typeorm-model-generator/src/ModelGeneration.ts"],names:[],mappings:"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",sourcesContent:["import * as Handlebars from \"handlebars\";\nimport * as Prettier from \"prettier\";\nimport * as changeCase from \"change-case\";\nimport * as fs from \"fs\";\nimport * as path from \"path\";\nimport { EOL } from \"os\";\nimport IConnectionOptions from \"./IConnectionOptions\";\nimport IGenerationOptions, { eolConverter } from \"./IGenerationOptions\";\nimport { Entity } from \"./models/Entity\";\nimport { Relation } from \"./models/Relation\";\n\nconst prettierOptions: Prettier.Options = {\n    parser: \"typescript\",\n    endOfLine: \"auto\",\n};\n\nexport default function modelGenerationPhase(\n    connectionOptions: IConnectionOptions,\n    generationOptions: IGenerationOptions,\n    databaseModel: Entity[]\n): void {\n    createHandlebarsHelpers(generationOptions);\n\n    const resultPath = generationOptions.resultsPath;\n    if (!fs.existsSync(resultPath)) {\n        fs.mkdirSync(resultPath);\n    }\n    let entitiesPath = resultPath;\n    if (!generationOptions.noConfigs) {\n        createTsConfigFile(resultPath);\n        createTypeOrmConfig(resultPath, connectionOptions);\n        entitiesPath = path.resolve(resultPath, \"./entities\");\n        if (!fs.existsSync(entitiesPath)) {\n            fs.mkdirSync(entitiesPath);\n        }\n    }\n    if (generationOptions.indexFile) {\n        createIndexFile(databaseModel, generationOptions, entitiesPath);\n    }\n    generateModels(databaseModel, generationOptions, entitiesPath);\n}\n\nfunction generateModels(\n    databaseModel: Entity[],\n    generationOptions: IGenerationOptions,\n    entitiesPath: string\n) {\n    const entityTemplatePath = path.resolve(\n        __dirname,\n        \"templates\",\n        \"entity.mst\"\n    );\n    const entityTemplate = fs.readFileSync(entityTemplatePath, \"UTF-8\");\n    const entityCompliedTemplate = Handlebars.compile(entityTemplate, {\n        noEscape: true,\n    });\n    databaseModel.forEach((element) => {\n        let casedFileName = \"\";\n        switch (generationOptions.convertCaseFile) {\n            case \"camel\":\n                casedFileName = changeCase.camelCase(element.tscName);\n                break;\n            case \"param\":\n                casedFileName = changeCase.paramCase(element.tscName);\n                break;\n            case \"pascal\":\n                casedFileName = changeCase.pascalCase(element.tscName);\n                break;\n            case \"none\":\n                casedFileName = element.tscName;\n                break;\n            default:\n                throw new Error(\"Unknown case style\");\n        }\n        const resultFilePath = path.resolve(\n            entitiesPath,\n            `${casedFileName}.ts`\n        );\n        const rendered = entityCompliedTemplate(element);\n        const withImportStatements = removeUnusedImports(\n            EOL !== eolConverter[generationOptions.convertEol]\n                ? rendered.replace(\n                      /(\\r\\n|\\n|\\r)/gm,\n                      eolConverter[generationOptions.convertEol]\n                  )\n                : rendered\n        );\n        let formatted = \"\";\n        try {\n            formatted = Prettier.format(withImportStatements, prettierOptions);\n        } catch (error) {\n            console.error(\n                \"There were some problems with model generation for table: \",\n                element.sqlName\n            );\n            console.error(error);\n            formatted = withImportStatements;\n        }\n        fs.writeFileSync(resultFilePath, formatted, {\n            encoding: \"UTF-8\",\n            flag: \"w\",\n        });\n    });\n}\n\nfunction createIndexFile(\n    databaseModel: Entity[],\n    generationOptions: IGenerationOptions,\n    entitiesPath: string\n) {\n    const templatePath = path.resolve(__dirname, \"templates\", \"index.mst\");\n    const template = fs.readFileSync(templatePath, \"UTF-8\");\n    const compliedTemplate = Handlebars.compile(template, {\n        noEscape: true,\n    });\n    const rendered = compliedTemplate({ entities: databaseModel });\n    const formatted = Prettier.format(rendered, prettierOptions);\n    let fileName = \"index\";\n    switch (generationOptions.convertCaseFile) {\n        case \"camel\":\n            fileName = changeCase.camelCase(fileName);\n            break;\n        case \"param\":\n            fileName = changeCase.paramCase(fileName);\n            break;\n        case \"pascal\":\n            fileName = changeCase.pascalCase(fileName);\n            break;\n        default:\n    }\n    const resultFilePath = path.resolve(entitiesPath, `${fileName}.ts`);\n    fs.writeFileSync(resultFilePath, formatted, {\n        encoding: \"UTF-8\",\n        flag: \"w\",\n    });\n}\n\nfunction removeUnusedImports(rendered: string) {\n    const openBracketIndex = rendered.indexOf(\"{\") + 1;\n    const closeBracketIndex = rendered.indexOf(\"}\");\n    const imports = rendered\n        .substring(openBracketIndex, closeBracketIndex)\n        .split(\",\");\n    const restOfEntityDefinition = rendered.substring(closeBracketIndex);\n    const distinctImports = imports.filter(\n        (v) =>\n            restOfEntityDefinition.indexOf(`@${v}(`) !== -1 ||\n            (v === \"BaseEntity\" && restOfEntityDefinition.indexOf(v) !== -1)\n    );\n    return `${rendered.substring(0, openBracketIndex)}${distinctImports.join(\n        \",\"\n    )}${restOfEntityDefinition}`;\n}\n\nfunction createHandlebarsHelpers(generationOptions: IGenerationOptions): void {\n    Handlebars.registerHelper(\"json\", (context) => {\n        const json = JSON.stringify(context);\n        const withoutQuotes = json.replace(/\"([^(\")\"]+)\":/g, \"$1:\");\n        return withoutQuotes.slice(1, withoutQuotes.length - 1);\n    });\n    Handlebars.registerHelper(\"toEntityName\", (str) => {\n        let retStr = \"\";\n        switch (generationOptions.convertCaseEntity) {\n            case \"camel\":\n                retStr = changeCase.camelCase(str);\n                break;\n            case \"pascal\":\n                retStr = changeCase.pascalCase(str);\n                break;\n            case \"none\":\n                retStr = str;\n                break;\n            default:\n                throw new Error(\"Unknown case style\");\n        }\n        return retStr;\n    });\n    Handlebars.registerHelper(\"toFileName\", (str) => {\n        let retStr = \"\";\n        switch (generationOptions.convertCaseFile) {\n            case \"camel\":\n                retStr = changeCase.camelCase(str);\n                break;\n            case \"param\":\n                retStr = changeCase.paramCase(str);\n                break;\n            case \"pascal\":\n                retStr = changeCase.pascalCase(str);\n                break;\n            case \"none\":\n                retStr = str;\n                break;\n            default:\n                throw new Error(\"Unknown case style\");\n        }\n        return retStr;\n    });\n    Handlebars.registerHelper(\"printPropertyVisibility\", () =>\n        generationOptions.propertyVisibility !== \"none\"\n            ? `${generationOptions.propertyVisibility} `\n            : \"\"\n    );\n    Handlebars.registerHelper(\"toPropertyName\", (str) => {\n        let retStr = \"\";\n        switch (generationOptions.convertCaseProperty) {\n            case \"camel\":\n                retStr = changeCase.camelCase(str);\n                break;\n            case \"pascal\":\n                retStr = changeCase.pascalCase(str);\n                break;\n            case \"none\":\n                retStr = str;\n                break;\n            default:\n                throw new Error(\"Unknown case style\");\n        }\n        return retStr;\n    });\n    Handlebars.registerHelper(\n        \"toRelation\",\n        (entityType: string, relationType: Relation[\"relationType\"]) => {\n            let retVal = entityType;\n            if (relationType === \"ManyToMany\" || relationType === \"OneToMany\") {\n                retVal = `${retVal}[]`;\n            }\n            if (generationOptions.lazy) {\n                retVal = `Promise<${retVal}>`;\n            }\n            return retVal;\n        }\n    );\n    Handlebars.registerHelper(\"defaultExport\", () =>\n        generationOptions.exportType === \"default\" ? \"default\" : \"\"\n    );\n    Handlebars.registerHelper(\"localImport\", (entityName: string) =>\n        generationOptions.exportType === \"default\"\n            ? entityName\n            : `{${entityName}}`\n    );\n    Handlebars.registerHelper(\"strictMode\", () =>\n        generationOptions.strictMode !== \"none\"\n            ? generationOptions.strictMode\n            : \"\"\n    );\n    Handlebars.registerHelper({\n        and: (v1, v2) => v1 && v2,\n        eq: (v1, v2) => v1 === v2,\n        gt: (v1, v2) => v1 > v2,\n        gte: (v1, v2) => v1 >= v2,\n        lt: (v1, v2) => v1 < v2,\n        lte: (v1, v2) => v1 <= v2,\n        ne: (v1, v2) => v1 !== v2,\n        or: (v1, v2) => v1 || v2,\n    });\n}\n\nfunction createTsConfigFile(outputPath: string): void {\n    const templatePath = path.resolve(__dirname, \"templates\", \"tsconfig.mst\");\n    const template = fs.readFileSync(templatePath, \"UTF-8\");\n    const compliedTemplate = Handlebars.compile(template, {\n        noEscape: true,\n    });\n    const rendered = compliedTemplate({});\n    const formatted = Prettier.format(rendered, { parser: \"json\" });\n    const resultFilePath = path.resolve(outputPath, \"tsconfig.json\");\n    fs.writeFileSync(resultFilePath, formatted, {\n        encoding: \"UTF-8\",\n        flag: \"w\",\n    });\n}\nfunction createTypeOrmConfig(\n    outputPath: string,\n    connectionOptions: IConnectionOptions\n): void {\n    const templatePath = path.resolve(__dirname, \"templates\", \"ormconfig.mst\");\n    const template = fs.readFileSync(templatePath, \"UTF-8\");\n    const compliedTemplate = Handlebars.compile(template, {\n        noEscape: true,\n    });\n    const rendered = compliedTemplate(connectionOptions);\n    const formatted = Prettier.format(rendered, { parser: \"json\" });\n    const resultFilePath = path.resolve(outputPath, \"ormconfig.json\");\n    fs.writeFileSync(resultFilePath, formatted, {\n        encoding: \"UTF-8\",\n        flag: \"w\",\n    });\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0cf5969f0702346fd18de107fd9bafdb144fa81e"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_2anxdyvrh=function(){return actualCoverage;};return actualCoverage;}cov_2anxdyvrh();cov_2anxdyvrh().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});const Handlebars=(cov_2anxdyvrh().s[1]++,require("handlebars"));const Prettier=(cov_2anxdyvrh().s[2]++,require("prettier"));const changeCase=(cov_2anxdyvrh().s[3]++,require("change-case"));const fs=(cov_2anxdyvrh().s[4]++,require("fs"));const path=(cov_2anxdyvrh().s[5]++,require("path"));const os_1=(cov_2anxdyvrh().s[6]++,require("os"));const IGenerationOptions_1=(cov_2anxdyvrh().s[7]++,require("./IGenerationOptions"));const prettierOptions=(cov_2anxdyvrh().s[8]++,{parser:"typescript",endOfLine:"auto"});function modelGenerationPhase(connectionOptions,generationOptions,databaseModel){cov_2anxdyvrh().f[0]++;cov_2anxdyvrh().s[9]++;createHandlebarsHelpers(generationOptions);const resultPath=(cov_2anxdyvrh().s[10]++,generationOptions.resultsPath);cov_2anxdyvrh().s[11]++;if(!fs.existsSync(resultPath)){cov_2anxdyvrh().b[0][0]++;cov_2anxdyvrh().s[12]++;fs.mkdirSync(resultPath);}else{cov_2anxdyvrh().b[0][1]++;}let entitiesPath=(cov_2anxdyvrh().s[13]++,resultPath);cov_2anxdyvrh().s[14]++;if(!generationOptions.noConfigs){cov_2anxdyvrh().b[1][0]++;cov_2anxdyvrh().s[15]++;createTsConfigFile(resultPath);cov_2anxdyvrh().s[16]++;createTypeOrmConfig(resultPath,connectionOptions);cov_2anxdyvrh().s[17]++;entitiesPath=path.resolve(resultPath,"./entities");cov_2anxdyvrh().s[18]++;if(!fs.existsSync(entitiesPath)){cov_2anxdyvrh().b[2][0]++;cov_2anxdyvrh().s[19]++;fs.mkdirSync(entitiesPath);}else{cov_2anxdyvrh().b[2][1]++;}}else{cov_2anxdyvrh().b[1][1]++;}cov_2anxdyvrh().s[20]++;if(generationOptions.indexFile){cov_2anxdyvrh().b[3][0]++;cov_2anxdyvrh().s[21]++;createIndexFile(databaseModel,generationOptions,entitiesPath);}else{cov_2anxdyvrh().b[3][1]++;}cov_2anxdyvrh().s[22]++;generateModels(databaseModel,generationOptions,entitiesPath);}cov_2anxdyvrh().s[23]++;exports.default=modelGenerationPhase;function generateModels(databaseModel,generationOptions,entitiesPath){cov_2anxdyvrh().f[1]++;const entityTemplatePath=(cov_2anxdyvrh().s[24]++,path.resolve(__dirname,"templates","entity.mst"));const entityTemplate=(cov_2anxdyvrh().s[25]++,fs.readFileSync(entityTemplatePath,"UTF-8"));const entityCompliedTemplate=(cov_2anxdyvrh().s[26]++,Handlebars.compile(entityTemplate,{noEscape:true}));cov_2anxdyvrh().s[27]++;databaseModel.forEach(element=>{cov_2anxdyvrh().f[2]++;let casedFileName=(cov_2anxdyvrh().s[28]++,"");cov_2anxdyvrh().s[29]++;switch(generationOptions.convertCaseFile){case"camel":cov_2anxdyvrh().b[4][0]++;cov_2anxdyvrh().s[30]++;casedFileName=changeCase.camelCase(element.tscName);cov_2anxdyvrh().s[31]++;break;case"param":cov_2anxdyvrh().b[4][1]++;cov_2anxdyvrh().s[32]++;casedFileName=changeCase.paramCase(element.tscName);cov_2anxdyvrh().s[33]++;break;case"pascal":cov_2anxdyvrh().b[4][2]++;cov_2anxdyvrh().s[34]++;casedFileName=changeCase.pascalCase(element.tscName);cov_2anxdyvrh().s[35]++;break;case"none":cov_2anxdyvrh().b[4][3]++;cov_2anxdyvrh().s[36]++;casedFileName=element.tscName;cov_2anxdyvrh().s[37]++;break;default:cov_2anxdyvrh().b[4][4]++;cov_2anxdyvrh().s[38]++;throw new Error("Unknown case style");}const resultFilePath=(cov_2anxdyvrh().s[39]++,path.resolve(entitiesPath,`${casedFileName}.ts`));const rendered=(cov_2anxdyvrh().s[40]++,entityCompliedTemplate(element));const withImportStatements=(cov_2anxdyvrh().s[41]++,removeUnusedImports(os_1.EOL!==IGenerationOptions_1.eolConverter[generationOptions.convertEol]?(cov_2anxdyvrh().b[5][0]++,rendered.replace(/(\r\n|\n|\r)/gm,IGenerationOptions_1.eolConverter[generationOptions.convertEol])):(cov_2anxdyvrh().b[5][1]++,rendered)));let formatted=(cov_2anxdyvrh().s[42]++,"");cov_2anxdyvrh().s[43]++;try{cov_2anxdyvrh().s[44]++;formatted=Prettier.format(withImportStatements,prettierOptions);}catch(error){cov_2anxdyvrh().s[45]++;console.error("There were some problems with model generation for table: ",element.sqlName);cov_2anxdyvrh().s[46]++;console.error(error);cov_2anxdyvrh().s[47]++;formatted=withImportStatements;}cov_2anxdyvrh().s[48]++;fs.writeFileSync(resultFilePath,formatted,{encoding:"UTF-8",flag:"w"});});}function createIndexFile(databaseModel,generationOptions,entitiesPath){cov_2anxdyvrh().f[3]++;const templatePath=(cov_2anxdyvrh().s[49]++,path.resolve(__dirname,"templates","index.mst"));const template=(cov_2anxdyvrh().s[50]++,fs.readFileSync(templatePath,"UTF-8"));const compliedTemplate=(cov_2anxdyvrh().s[51]++,Handlebars.compile(template,{noEscape:true}));const rendered=(cov_2anxdyvrh().s[52]++,compliedTemplate({entities:databaseModel}));const formatted=(cov_2anxdyvrh().s[53]++,Prettier.format(rendered,prettierOptions));let fileName=(cov_2anxdyvrh().s[54]++,"index");cov_2anxdyvrh().s[55]++;switch(generationOptions.convertCaseFile){case"camel":cov_2anxdyvrh().b[6][0]++;cov_2anxdyvrh().s[56]++;fileName=changeCase.camelCase(fileName);cov_2anxdyvrh().s[57]++;break;case"param":cov_2anxdyvrh().b[6][1]++;cov_2anxdyvrh().s[58]++;fileName=changeCase.paramCase(fileName);cov_2anxdyvrh().s[59]++;break;case"pascal":cov_2anxdyvrh().b[6][2]++;cov_2anxdyvrh().s[60]++;fileName=changeCase.pascalCase(fileName);cov_2anxdyvrh().s[61]++;break;default:cov_2anxdyvrh().b[6][3]++;}const resultFilePath=(cov_2anxdyvrh().s[62]++,path.resolve(entitiesPath,`${fileName}.ts`));cov_2anxdyvrh().s[63]++;fs.writeFileSync(resultFilePath,formatted,{encoding:"UTF-8",flag:"w"});}function removeUnusedImports(rendered){cov_2anxdyvrh().f[4]++;const openBracketIndex=(cov_2anxdyvrh().s[64]++,rendered.indexOf("{")+1);const closeBracketIndex=(cov_2anxdyvrh().s[65]++,rendered.indexOf("}"));const imports=(cov_2anxdyvrh().s[66]++,rendered.substring(openBracketIndex,closeBracketIndex).split(","));const restOfEntityDefinition=(cov_2anxdyvrh().s[67]++,rendered.substring(closeBracketIndex));const distinctImports=(cov_2anxdyvrh().s[68]++,imports.filter(v=>{cov_2anxdyvrh().f[5]++;cov_2anxdyvrh().s[69]++;return(cov_2anxdyvrh().b[7][0]++,restOfEntityDefinition.indexOf(`@${v}(`)!==-1)||(cov_2anxdyvrh().b[7][1]++,v==="BaseEntity")&&(cov_2anxdyvrh().b[7][2]++,restOfEntityDefinition.indexOf(v)!==-1);}));cov_2anxdyvrh().s[70]++;return`${rendered.substring(0,openBracketIndex)}${distinctImports.join(",")}${restOfEntityDefinition}`;}function createHandlebarsHelpers(generationOptions){cov_2anxdyvrh().f[6]++;cov_2anxdyvrh().s[71]++;Handlebars.registerHelper("json",context=>{cov_2anxdyvrh().f[7]++;const json=(cov_2anxdyvrh().s[72]++,JSON.stringify(context));const withoutQuotes=(cov_2anxdyvrh().s[73]++,json.replace(/"([^(")"]+)":/g,"$1:"));cov_2anxdyvrh().s[74]++;return withoutQuotes.slice(1,withoutQuotes.length-1);});cov_2anxdyvrh().s[75]++;Handlebars.registerHelper("toEntityName",str=>{cov_2anxdyvrh().f[8]++;let retStr=(cov_2anxdyvrh().s[76]++,"");cov_2anxdyvrh().s[77]++;switch(generationOptions.convertCaseEntity){case"camel":cov_2anxdyvrh().b[8][0]++;cov_2anxdyvrh().s[78]++;retStr=changeCase.camelCase(str);cov_2anxdyvrh().s[79]++;break;case"pascal":cov_2anxdyvrh().b[8][1]++;cov_2anxdyvrh().s[80]++;retStr=changeCase.pascalCase(str);cov_2anxdyvrh().s[81]++;break;case"none":cov_2anxdyvrh().b[8][2]++;cov_2anxdyvrh().s[82]++;retStr=str;cov_2anxdyvrh().s[83]++;break;default:cov_2anxdyvrh().b[8][3]++;cov_2anxdyvrh().s[84]++;throw new Error("Unknown case style");}cov_2anxdyvrh().s[85]++;return retStr;});cov_2anxdyvrh().s[86]++;Handlebars.registerHelper("toFileName",str=>{cov_2anxdyvrh().f[9]++;let retStr=(cov_2anxdyvrh().s[87]++,"");cov_2anxdyvrh().s[88]++;switch(generationOptions.convertCaseFile){case"camel":cov_2anxdyvrh().b[9][0]++;cov_2anxdyvrh().s[89]++;retStr=changeCase.camelCase(str);cov_2anxdyvrh().s[90]++;break;case"param":cov_2anxdyvrh().b[9][1]++;cov_2anxdyvrh().s[91]++;retStr=changeCase.paramCase(str);cov_2anxdyvrh().s[92]++;break;case"pascal":cov_2anxdyvrh().b[9][2]++;cov_2anxdyvrh().s[93]++;retStr=changeCase.pascalCase(str);cov_2anxdyvrh().s[94]++;break;case"none":cov_2anxdyvrh().b[9][3]++;cov_2anxdyvrh().s[95]++;retStr=str;cov_2anxdyvrh().s[96]++;break;default:cov_2anxdyvrh().b[9][4]++;cov_2anxdyvrh().s[97]++;throw new Error("Unknown case style");}cov_2anxdyvrh().s[98]++;return retStr;});cov_2anxdyvrh().s[99]++;Handlebars.registerHelper("printPropertyVisibility",()=>{cov_2anxdyvrh().f[10]++;cov_2anxdyvrh().s[100]++;return generationOptions.propertyVisibility!=="none"?(cov_2anxdyvrh().b[10][0]++,`${generationOptions.propertyVisibility} `):(cov_2anxdyvrh().b[10][1]++,"");});cov_2anxdyvrh().s[101]++;Handlebars.registerHelper("toPropertyName",str=>{cov_2anxdyvrh().f[11]++;let retStr=(cov_2anxdyvrh().s[102]++,"");cov_2anxdyvrh().s[103]++;switch(generationOptions.convertCaseProperty){case"camel":cov_2anxdyvrh().b[11][0]++;cov_2anxdyvrh().s[104]++;retStr=changeCase.camelCase(str);cov_2anxdyvrh().s[105]++;break;case"pascal":cov_2anxdyvrh().b[11][1]++;cov_2anxdyvrh().s[106]++;retStr=changeCase.pascalCase(str);cov_2anxdyvrh().s[107]++;break;case"none":cov_2anxdyvrh().b[11][2]++;cov_2anxdyvrh().s[108]++;retStr=str;cov_2anxdyvrh().s[109]++;break;default:cov_2anxdyvrh().b[11][3]++;cov_2anxdyvrh().s[110]++;throw new Error("Unknown case style");}cov_2anxdyvrh().s[111]++;return retStr;});cov_2anxdyvrh().s[112]++;Handlebars.registerHelper("toRelation",(entityType,relationType)=>{cov_2anxdyvrh().f[12]++;let retVal=(cov_2anxdyvrh().s[113]++,entityType);cov_2anxdyvrh().s[114]++;if((cov_2anxdyvrh().b[13][0]++,relationType==="ManyToMany")||(cov_2anxdyvrh().b[13][1]++,relationType==="OneToMany")){cov_2anxdyvrh().b[12][0]++;cov_2anxdyvrh().s[115]++;retVal=`${retVal}[]`;}else{cov_2anxdyvrh().b[12][1]++;}cov_2anxdyvrh().s[116]++;if(generationOptions.lazy){cov_2anxdyvrh().b[14][0]++;cov_2anxdyvrh().s[117]++;retVal=`Promise<${retVal}>`;}else{cov_2anxdyvrh().b[14][1]++;}cov_2anxdyvrh().s[118]++;return retVal;});cov_2anxdyvrh().s[119]++;Handlebars.registerHelper("defaultExport",()=>{cov_2anxdyvrh().f[13]++;cov_2anxdyvrh().s[120]++;return generationOptions.exportType==="default"?(cov_2anxdyvrh().b[15][0]++,"default"):(cov_2anxdyvrh().b[15][1]++,"");});cov_2anxdyvrh().s[121]++;Handlebars.registerHelper("localImport",entityName=>{cov_2anxdyvrh().f[14]++;cov_2anxdyvrh().s[122]++;return generationOptions.exportType==="default"?(cov_2anxdyvrh().b[16][0]++,entityName):(cov_2anxdyvrh().b[16][1]++,`{${entityName}}`);});cov_2anxdyvrh().s[123]++;Handlebars.registerHelper("strictMode",()=>{cov_2anxdyvrh().f[15]++;cov_2anxdyvrh().s[124]++;return generationOptions.strictMode!=="none"?(cov_2anxdyvrh().b[17][0]++,generationOptions.strictMode):(cov_2anxdyvrh().b[17][1]++,"");});cov_2anxdyvrh().s[125]++;Handlebars.registerHelper({and:(v1,v2)=>{cov_2anxdyvrh().f[16]++;cov_2anxdyvrh().s[126]++;return(cov_2anxdyvrh().b[18][0]++,v1)&&(cov_2anxdyvrh().b[18][1]++,v2);},eq:(v1,v2)=>{cov_2anxdyvrh().f[17]++;cov_2anxdyvrh().s[127]++;return v1===v2;},gt:(v1,v2)=>{cov_2anxdyvrh().f[18]++;cov_2anxdyvrh().s[128]++;return v1>v2;},gte:(v1,v2)=>{cov_2anxdyvrh().f[19]++;cov_2anxdyvrh().s[129]++;return v1>=v2;},lt:(v1,v2)=>{cov_2anxdyvrh().f[20]++;cov_2anxdyvrh().s[130]++;return v1<v2;},lte:(v1,v2)=>{cov_2anxdyvrh().f[21]++;cov_2anxdyvrh().s[131]++;return v1<=v2;},ne:(v1,v2)=>{cov_2anxdyvrh().f[22]++;cov_2anxdyvrh().s[132]++;return v1!==v2;},or:(v1,v2)=>{cov_2anxdyvrh().f[23]++;cov_2anxdyvrh().s[133]++;return(cov_2anxdyvrh().b[19][0]++,v1)||(cov_2anxdyvrh().b[19][1]++,v2);}});}function createTsConfigFile(outputPath){cov_2anxdyvrh().f[24]++;const templatePath=(cov_2anxdyvrh().s[134]++,path.resolve(__dirname,"templates","tsconfig.mst"));const template=(cov_2anxdyvrh().s[135]++,fs.readFileSync(templatePath,"UTF-8"));const compliedTemplate=(cov_2anxdyvrh().s[136]++,Handlebars.compile(template,{noEscape:true}));const rendered=(cov_2anxdyvrh().s[137]++,compliedTemplate({}));const formatted=(cov_2anxdyvrh().s[138]++,Prettier.format(rendered,{parser:"json"}));const resultFilePath=(cov_2anxdyvrh().s[139]++,path.resolve(outputPath,"tsconfig.json"));cov_2anxdyvrh().s[140]++;fs.writeFileSync(resultFilePath,formatted,{encoding:"UTF-8",flag:"w"});}function createTypeOrmConfig(outputPath,connectionOptions){cov_2anxdyvrh().f[25]++;const templatePath=(cov_2anxdyvrh().s[141]++,path.resolve(__dirname,"templates","ormconfig.mst"));const template=(cov_2anxdyvrh().s[142]++,fs.readFileSync(templatePath,"UTF-8"));const compliedTemplate=(cov_2anxdyvrh().s[143]++,Handlebars.compile(template,{noEscape:true}));const rendered=(cov_2anxdyvrh().s[144]++,compliedTemplate(connectionOptions));const formatted=(cov_2anxdyvrh().s[145]++,Prettier.format(rendered,{parser:"json"}));const resultFilePath=(cov_2anxdyvrh().s[146]++,path.resolve(outputPath,"ormconfig.json"));cov_2anxdyvrh().s[147]++;fs.writeFileSync(resultFilePath,formatted,{encoding:"UTF-8",flag:"w"});}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvbmVtby93b3JrL2dpdGh1Yi90eXBlb3JtLW1vZGVsLWdlbmVyYXRvci9zcmMvTW9kZWxHZW5lcmF0aW9uLnRzIiwic291cmNlcyI6WyIvaG9tZS9uZW1vL3dvcmsvZ2l0aHViL3R5cGVvcm0tbW9kZWwtZ2VuZXJhdG9yL3NyYy9Nb2RlbEdlbmVyYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx5Q0FBeUM7QUFDekMscUNBQXFDO0FBQ3JDLDBDQUEwQztBQUMxQyx5QkFBeUI7QUFDekIsNkJBQTZCO0FBQzdCLDJCQUF5QjtBQUV6Qiw2REFBd0U7QUFJeEUsTUFBTSxlQUFlLEdBQXFCO0lBQ3RDLE1BQU0sRUFBRSxZQUFZO0lBQ3BCLFNBQVMsRUFBRSxNQUFNO0NBQ3BCLENBQUM7QUFFRixTQUF3QixvQkFBb0IsQ0FDeEMsaUJBQXFDLEVBQ3JDLGlCQUFxQyxFQUNyQyxhQUF1QjtJQUV2Qix1QkFBdUIsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBRTNDLE1BQU0sVUFBVSxHQUFHLGlCQUFpQixDQUFDLFdBQVcsQ0FBQztJQUNqRCxJQUFJLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsRUFBRTtRQUM1QixFQUFFLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0tBQzVCO0lBQ0QsSUFBSSxZQUFZLEdBQUcsVUFBVSxDQUFDO0lBQzlCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLEVBQUU7UUFDOUIsa0JBQWtCLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDL0IsbUJBQW1CLENBQUMsVUFBVSxFQUFFLGlCQUFpQixDQUFDLENBQUM7UUFDbkQsWUFBWSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLFlBQVksQ0FBQyxDQUFDO1FBQ3RELElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQzlCLEVBQUUsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7U0FD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Q2pCLENBQUMsQ0FBQztJQUNILE1BQU0sUUFBUSxHQUFHLGdCQUFnQixDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDckQsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztJQUNoRSxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ2xFLEVBQUUsQ0FBQyxhQUFhLENBQUMsY0FBYyxFQUFFLFNBQVMsRUFBRTtRQUN4QyxRQUFRLEVBQUUsT0FBTztRQUNqQixJQUFJLEVBQUUsR0FBRztLQUNaLENBQUMsQ0FBQztBQUNQLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBIYW5kbGViYXJzIGZyb20gXCJoYW5kbGViYXJzXCI7XG5pbXBvcnQgKiBhcyBQcmV0dGllciBmcm9tIFwicHJldHRpZXJcIjtcbmltcG9ydCAqIGFzIGNoYW5nZUNhc2UgZnJvbSBcImNoYW5nZS1jYXNlXCI7XG5pbXBvcnQgKiBhcyBmcyBmcm9tIFwiZnNcIjtcbmltcG9ydCAqIGFzIHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCB7IEVPTCB9IGZyb20gXCJvc1wiO1xuaW1wb3J0IElDb25uZWN0aW9uT3B0aW9ucyBmcm9tIFwiLi9JQ29ubmVjdGlvbk9wdGlvbnNcIjtcbmltcG9ydCBJR2VuZXJhdGlvbk9wdGlvbnMsIHsgZW9sQ29udmVydGVyIH0gZnJvbSBcIi4vSUdlbmVyYXRpb25PcHRpb25zXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9tb2RlbHMvRW50aXR5XCI7XG5pbXBvcnQgeyBSZWxhdGlvbiB9IGZyb20gXCIuL21vZGVscy9SZWxhdGlvblwiO1xuXG5jb25zdCBwcmV0dGllck9wdGlvbnM6IFByZXR0aWVyLk9wdGlvbnMgPSB7XG4gICAgcGFyc2VyOiBcInR5cGVzY3JpcHRcIixcbiAgICBlbmRPZkxpbmU6IFwiYXV0b1wiLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbW9kZWxHZW5lcmF0aW9uUGhhc2UoXG4gICAgY29ubmVjdGlvbk9wdGlvbnM6IElDb25uZWN0aW9uT3B0aW9ucyxcbiAgICBnZW5lcmF0aW9uT3B0aW9uczogSUdlbmVyYXRpb25PcHRpb25zLFxuICAgIGRhdGFiYXNlTW9kZWw6IEVudGl0eVtdXG4pOiB2b2lkIHtcbiAgICBjcmVhdGVIYW5kbGViYXJzSGVscGVycyhnZW5lcmF0aW9uT3B0aW9ucyk7XG5cbiAgICBjb25zdCByZXN1bHRQYXRoID0gZ2VuZXJhdGlvbk9wdGlvbnMucmVzdWx0c1BhdGg7XG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKHJlc3VsdFBhdGgpKSB7XG4gICAgICAgIGZzLm1rZGlyU3luYyhyZXN1bHRQYXRoKTtcbiAgICB9XG4gICAgbGV0IGVudGl0aWVzUGF0aCA9IHJlc3VsdFBhdGg7XG4gICAgaWYgKCFnZW5lcmF0aW9uT3B0aW9ucy5ub0NvbmZpZ3MpIHtcbiAgICAgICAgY3JlYXRlVHNDb25maWdGaWxlKHJlc3VsdFBhdGgpO1xuICAgICAgICBjcmVhdGVUeXBlT3JtQ29uZmlnKHJlc3VsdFBhdGgsIGNvbm5lY3Rpb25PcHRpb25zKTtcbiAgICAgICAgZW50aXRpZXNQYXRoID0gcGF0aC5yZXNvbHZlKHJlc3VsdFBhdGgsIFwiLi9lbnRpdGllc1wiKTtcbiAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKGVudGl0aWVzUGF0aCkpIHtcbiAgICAgICAgICAgIGZzLm1rZGlyU3luYyhlbnRpdGllc1BhdGgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChnZW5lcmF0aW9uT3B0aW9ucy5pbmRleEZpbGUpIHtcbiAgICAgICAgY3JlYXRlSW5kZXhGaWxlKGRhdGFiYXNlTW9kZWwsIGdlbmVyYXRpb25PcHRpb25zLCBlbnRpdGllc1BhdGgpO1xuICAgIH1cbiAgICBnZW5lcmF0ZU1vZGVscyhkYXRhYmFzZU1vZGVsLCBnZW5lcmF0aW9uT3B0aW9ucywgZW50aXRpZXNQYXRoKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVNb2RlbHMoXG4gICAgZGF0YWJhc2VNb2RlbDogRW50aXR5W10sXG4gICAgZ2VuZXJhdGlvbk9wdGlvbnM6IElHZW5lcmF0aW9uT3B0aW9ucyxcbiAgICBlbnRpdGllc1BhdGg6IHN0cmluZ1xuKSB7XG4gICAgY29uc3QgZW50aXR5VGVtcGxhdGVQYXRoID0gcGF0aC5yZXNvbHZlKFxuICAgICAgICBfX2Rpcm5hbWUsXG4gICAgICAgIFwidGVtcGxhdGVzXCIsXG4gICAgICAgIFwiZW50aXR5Lm1zdFwiXG4gICAgKTtcbiAgICBjb25zdCBlbnRpdHlUZW1wbGF0ZSA9IGZzLnJlYWRGaWxlU3luYyhlbnRpdHlUZW1wbGF0ZVBhdGgsIFwiVVRGLThcIik7XG4gICAgY29uc3QgZW50aXR5Q29tcGxpZWRUZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShlbnRpdHlUZW1wbGF0ZSwge1xuICAgICAgICBub0VzY2FwZTogdHJ1ZSxcbiAgICB9KTtcbiAgICBkYXRhYmFzZU1vZGVsLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgbGV0IGNhc2VkRmlsZU5hbWUgPSBcIlwiO1xuICAgICAgICBzd2l0Y2ggKGdlbmVyYXRpb25PcHRpb25zLmNvbnZlcnRDYXNlRmlsZSkge1xuICAgICAgICAgICAgY2FzZSBcImNhbWVsXCI6XG4gICAgICAgICAgICAgICAgY2FzZWRGaWxlTmFtZSA9IGNoYW5nZUNhc2UuY2FtZWxDYXNlKGVsZW1lbnQudHNjTmFtZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGFyYW1cIjpcbiAgICAgICAgICAgICAgICBjYXNlZEZpbGVOYW1lID0gY2hhbmdlQ2FzZS5wYXJhbUNhc2UoZWxlbWVudC50c2NOYW1lKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwYXNjYWxcIjpcbiAgICAgICAgICAgICAgICBjYXNlZEZpbGVOYW1lID0gY2hhbmdlQ2FzZS5wYXNjYWxDYXNlKGVsZW1lbnQudHNjTmFtZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICAgICAgICAgIGNhc2VkRmlsZU5hbWUgPSBlbGVtZW50LnRzY05hbWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gY2FzZSBzdHlsZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHRGaWxlUGF0aCA9IHBhdGgucmVzb2x2ZShcbiAgICAgICAgICAgIGVudGl0aWVzUGF0aCxcbiAgICAgICAgICAgIGAke2Nhc2VkRmlsZU5hbWV9LnRzYFxuICAgICAgICApO1xuICAgICAgICBjb25zdCByZW5kZXJlZCA9IGVudGl0eUNvbXBsaWVkVGVtcGxhdGUoZWxlbWVudCk7XG4gICAgICAgIGNvbnN0IHdpdGhJbXBvcnRTdGF0ZW1lbnRzID0gcmVtb3ZlVW51c2VkSW1wb3J0cyhcbiAgICAgICAgICAgIEVPTCAhPT0gZW9sQ29udmVydGVyW2dlbmVyYXRpb25PcHRpb25zLmNvbnZlcnRFb2xdXG4gICAgICAgICAgICAgICAgPyByZW5kZXJlZC5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgIC8oXFxyXFxufFxcbnxcXHIpL2dtLFxuICAgICAgICAgICAgICAgICAgICAgIGVvbENvbnZlcnRlcltnZW5lcmF0aW9uT3B0aW9ucy5jb252ZXJ0RW9sXVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogcmVuZGVyZWRcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGZvcm1hdHRlZCA9IFwiXCI7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWQgPSBQcmV0dGllci5mb3JtYXQod2l0aEltcG9ydFN0YXRlbWVudHMsIHByZXR0aWVyT3B0aW9ucyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiVGhlcmUgd2VyZSBzb21lIHByb2JsZW1zIHdpdGggbW9kZWwgZ2VuZXJhdGlvbiBmb3IgdGFibGU6IFwiLFxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3FsTmFtZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgZm9ybWF0dGVkID0gd2l0aEltcG9ydFN0YXRlbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgZnMud3JpdGVGaWxlU3luYyhyZXN1bHRGaWxlUGF0aCwgZm9ybWF0dGVkLCB7XG4gICAgICAgICAgICBlbmNvZGluZzogXCJVVEYtOFwiLFxuICAgICAgICAgICAgZmxhZzogXCJ3XCIsXG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJbmRleEZpbGUoXG4gICAgZGF0YWJhc2VNb2RlbDogRW50aXR5W10sXG4gICAgZ2VuZXJhdGlvbk9wdGlvbnM6IElHZW5lcmF0aW9uT3B0aW9ucyxcbiAgICBlbnRpdGllc1BhdGg6IHN0cmluZ1xuKSB7XG4gICAgY29uc3QgdGVtcGxhdGVQYXRoID0gcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgXCJ0ZW1wbGF0ZXNcIiwgXCJpbmRleC5tc3RcIik7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBmcy5yZWFkRmlsZVN5bmModGVtcGxhdGVQYXRoLCBcIlVURi04XCIpO1xuICAgIGNvbnN0IGNvbXBsaWVkVGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUodGVtcGxhdGUsIHtcbiAgICAgICAgbm9Fc2NhcGU6IHRydWUsXG4gICAgfSk7XG4gICAgY29uc3QgcmVuZGVyZWQgPSBjb21wbGllZFRlbXBsYXRlKHsgZW50aXRpZXM6IGRhdGFiYXNlTW9kZWwgfSk7XG4gICAgY29uc3QgZm9ybWF0dGVkID0gUHJldHRpZXIuZm9ybWF0KHJlbmRlcmVkLCBwcmV0dGllck9wdGlvbnMpO1xuICAgIGxldCBmaWxlTmFtZSA9IFwiaW5kZXhcIjtcbiAgICBzd2l0Y2ggKGdlbmVyYXRpb25PcHRpb25zLmNvbnZlcnRDYXNlRmlsZSkge1xuICAgICAgICBjYXNlIFwiY2FtZWxcIjpcbiAgICAgICAgICAgIGZpbGVOYW1lID0gY2hhbmdlQ2FzZS5jYW1lbENhc2UoZmlsZU5hbWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwYXJhbVwiOlxuICAgICAgICAgICAgZmlsZU5hbWUgPSBjaGFuZ2VDYXNlLnBhcmFtQ2FzZShmaWxlTmFtZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBhc2NhbFwiOlxuICAgICAgICAgICAgZmlsZU5hbWUgPSBjaGFuZ2VDYXNlLnBhc2NhbENhc2UoZmlsZU5hbWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdEZpbGVQYXRoID0gcGF0aC5yZXNvbHZlKGVudGl0aWVzUGF0aCwgYCR7ZmlsZU5hbWV9LnRzYCk7XG4gICAgZnMud3JpdGVGaWxlU3luYyhyZXN1bHRGaWxlUGF0aCwgZm9ybWF0dGVkLCB7XG4gICAgICAgIGVuY29kaW5nOiBcIlVURi04XCIsXG4gICAgICAgIGZsYWc6IFwid1wiLFxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiByZW1vdmVVbnVzZWRJbXBvcnRzKHJlbmRlcmVkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBvcGVuQnJhY2tldEluZGV4ID0gcmVuZGVyZWQuaW5kZXhPZihcIntcIikgKyAxO1xuICAgIGNvbnN0IGNsb3NlQnJhY2tldEluZGV4ID0gcmVuZGVyZWQuaW5kZXhPZihcIn1cIik7XG4gICAgY29uc3QgaW1wb3J0cyA9IHJlbmRlcmVkXG4gICAgICAgIC5zdWJzdHJpbmcob3BlbkJyYWNrZXRJbmRleCwgY2xvc2VCcmFja2V0SW5kZXgpXG4gICAgICAgIC5zcGxpdChcIixcIik7XG4gICAgY29uc3QgcmVzdE9mRW50aXR5RGVmaW5pdGlvbiA9IHJlbmRlcmVkLnN1YnN0cmluZyhjbG9zZUJyYWNrZXRJbmRleCk7XG4gICAgY29uc3QgZGlzdGluY3RJbXBvcnRzID0gaW1wb3J0cy5maWx0ZXIoXG4gICAgICAgICh2KSA9PlxuICAgICAgICAgICAgcmVzdE9mRW50aXR5RGVmaW5pdGlvbi5pbmRleE9mKGBAJHt2fShgKSAhPT0gLTEgfHxcbiAgICAgICAgICAgICh2ID09PSBcIkJhc2VFbnRpdHlcIiAmJiByZXN0T2ZFbnRpdHlEZWZpbml0aW9uLmluZGV4T2YodikgIT09IC0xKVxuICAgICk7XG4gICAgcmV0dXJuIGAke3JlbmRlcmVkLnN1YnN0cmluZygwLCBvcGVuQnJhY2tldEluZGV4KX0ke2Rpc3RpbmN0SW1wb3J0cy5qb2luKFxuICAgICAgICBcIixcIlxuICAgICl9JHtyZXN0T2ZFbnRpdHlEZWZpbml0aW9ufWA7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUhhbmRsZWJhcnNIZWxwZXJzKGdlbmVyYXRpb25PcHRpb25zOiBJR2VuZXJhdGlvbk9wdGlvbnMpOiB2b2lkIHtcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKFwianNvblwiLCAoY29udGV4dCkgPT4ge1xuICAgICAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkoY29udGV4dCk7XG4gICAgICAgIGNvbnN0IHdpdGhvdXRRdW90ZXMgPSBqc29uLnJlcGxhY2UoL1wiKFteKFwiKVwiXSspXCI6L2csIFwiJDE6XCIpO1xuICAgICAgICByZXR1cm4gd2l0aG91dFF1b3Rlcy5zbGljZSgxLCB3aXRob3V0UXVvdGVzLmxlbmd0aCAtIDEpO1xuICAgIH0pO1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoXCJ0b0VudGl0eU5hbWVcIiwgKHN0cikgPT4ge1xuICAgICAgICBsZXQgcmV0U3RyID0gXCJcIjtcbiAgICAgICAgc3dpdGNoIChnZW5lcmF0aW9uT3B0aW9ucy5jb252ZXJ0Q2FzZUVudGl0eSkge1xuICAgICAgICAgICAgY2FzZSBcImNhbWVsXCI6XG4gICAgICAgICAgICAgICAgcmV0U3RyID0gY2hhbmdlQ2FzZS5jYW1lbENhc2Uoc3RyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwYXNjYWxcIjpcbiAgICAgICAgICAgICAgICByZXRTdHIgPSBjaGFuZ2VDYXNlLnBhc2NhbENhc2Uoc3RyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJub25lXCI6XG4gICAgICAgICAgICAgICAgcmV0U3RyID0gc3RyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGNhc2Ugc3R5bGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldFN0cjtcbiAgICB9KTtcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKFwidG9GaWxlTmFtZVwiLCAoc3RyKSA9PiB7XG4gICAgICAgIGxldCByZXRTdHIgPSBcIlwiO1xuICAgICAgICBzd2l0Y2ggKGdlbmVyYXRpb25PcHRpb25zLmNvbnZlcnRDYXNlRmlsZSkge1xuICAgICAgICAgICAgY2FzZSBcImNhbWVsXCI6XG4gICAgICAgICAgICAgICAgcmV0U3RyID0gY2hhbmdlQ2FzZS5jYW1lbENhc2Uoc3RyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwYXJhbVwiOlxuICAgICAgICAgICAgICAgIHJldFN0ciA9IGNoYW5nZUNhc2UucGFyYW1DYXNlKHN0cik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGFzY2FsXCI6XG4gICAgICAgICAgICAgICAgcmV0U3RyID0gY2hhbmdlQ2FzZS5wYXNjYWxDYXNlKHN0cik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICAgICAgICAgIHJldFN0ciA9IHN0cjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjYXNlIHN0eWxlXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXRTdHI7XG4gICAgfSk7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcihcInByaW50UHJvcGVydHlWaXNpYmlsaXR5XCIsICgpID0+XG4gICAgICAgIGdlbmVyYXRpb25PcHRpb25zLnByb3BlcnR5VmlzaWJpbGl0eSAhPT0gXCJub25lXCJcbiAgICAgICAgICAgID8gYCR7Z2VuZXJhdGlvbk9wdGlvbnMucHJvcGVydHlWaXNpYmlsaXR5fSBgXG4gICAgICAgICAgICA6IFwiXCJcbiAgICApO1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoXCJ0b1Byb3BlcnR5TmFtZVwiLCAoc3RyKSA9PiB7XG4gICAgICAgIGxldCByZXRTdHIgPSBcIlwiO1xuICAgICAgICBzd2l0Y2ggKGdlbmVyYXRpb25PcHRpb25zLmNvbnZlcnRDYXNlUHJvcGVydHkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJjYW1lbFwiOlxuICAgICAgICAgICAgICAgIHJldFN0ciA9IGNoYW5nZUNhc2UuY2FtZWxDYXNlKHN0cik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGFzY2FsXCI6XG4gICAgICAgICAgICAgICAgcmV0U3RyID0gY2hhbmdlQ2FzZS5wYXNjYWxDYXNlKHN0cik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICAgICAgICAgIHJldFN0ciA9IHN0cjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjYXNlIHN0eWxlXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXRTdHI7XG4gICAgfSk7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcihcbiAgICAgICAgXCJ0b1JlbGF0aW9uXCIsXG4gICAgICAgIChlbnRpdHlUeXBlOiBzdHJpbmcsIHJlbGF0aW9uVHlwZTogUmVsYXRpb25bXCJyZWxhdGlvblR5cGVcIl0pID0+IHtcbiAgICAgICAgICAgIGxldCByZXRWYWwgPSBlbnRpdHlUeXBlO1xuICAgICAgICAgICAgaWYgKHJlbGF0aW9uVHlwZSA9PT0gXCJNYW55VG9NYW55XCIgfHwgcmVsYXRpb25UeXBlID09PSBcIk9uZVRvTWFueVwiKSB7XG4gICAgICAgICAgICAgICAgcmV0VmFsID0gYCR7cmV0VmFsfVtdYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnZW5lcmF0aW9uT3B0aW9ucy5sYXp5KSB7XG4gICAgICAgICAgICAgICAgcmV0VmFsID0gYFByb21pc2U8JHtyZXRWYWx9PmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0VmFsO1xuICAgICAgICB9XG4gICAgKTtcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKFwiZGVmYXVsdEV4cG9ydFwiLCAoKSA9PlxuICAgICAgICBnZW5lcmF0aW9uT3B0aW9ucy5leHBvcnRUeXBlID09PSBcImRlZmF1bHRcIiA/IFwiZGVmYXVsdFwiIDogXCJcIlxuICAgICk7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcihcImxvY2FsSW1wb3J0XCIsIChlbnRpdHlOYW1lOiBzdHJpbmcpID0+XG4gICAgICAgIGdlbmVyYXRpb25PcHRpb25zLmV4cG9ydFR5cGUgPT09IFwiZGVmYXVsdFwiXG4gICAgICAgICAgICA/IGVudGl0eU5hbWVcbiAgICAgICAgICAgIDogYHske2VudGl0eU5hbWV9fWBcbiAgICApO1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoXCJzdHJpY3RNb2RlXCIsICgpID0+XG4gICAgICAgIGdlbmVyYXRpb25PcHRpb25zLnN0cmljdE1vZGUgIT09IFwibm9uZVwiXG4gICAgICAgICAgICA/IGdlbmVyYXRpb25PcHRpb25zLnN0cmljdE1vZGVcbiAgICAgICAgICAgIDogXCJcIlxuICAgICk7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcih7XG4gICAgICAgIGFuZDogKHYxLCB2MikgPT4gdjEgJiYgdjIsXG4gICAgICAgIGVxOiAodjEsIHYyKSA9PiB2MSA9PT0gdjIsXG4gICAgICAgIGd0OiAodjEsIHYyKSA9PiB2MSA+IHYyLFxuICAgICAgICBndGU6ICh2MSwgdjIpID0+IHYxID49IHYyLFxuICAgICAgICBsdDogKHYxLCB2MikgPT4gdjEgPCB2MixcbiAgICAgICAgbHRlOiAodjEsIHYyKSA9PiB2MSA8PSB2MixcbiAgICAgICAgbmU6ICh2MSwgdjIpID0+IHYxICE9PSB2MixcbiAgICAgICAgb3I6ICh2MSwgdjIpID0+IHYxIHx8IHYyLFxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUc0NvbmZpZ0ZpbGUob3V0cHV0UGF0aDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgdGVtcGxhdGVQYXRoID0gcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgXCJ0ZW1wbGF0ZXNcIiwgXCJ0c2NvbmZpZy5tc3RcIik7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBmcy5yZWFkRmlsZVN5bmModGVtcGxhdGVQYXRoLCBcIlVURi04XCIpO1xuICAgIGNvbnN0IGNvbXBsaWVkVGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUodGVtcGxhdGUsIHtcbiAgICAgICAgbm9Fc2NhcGU6IHRydWUsXG4gICAgfSk7XG4gICAgY29uc3QgcmVuZGVyZWQgPSBjb21wbGllZFRlbXBsYXRlKHt9KTtcbiAgICBjb25zdCBmb3JtYXR0ZWQgPSBQcmV0dGllci5mb3JtYXQocmVuZGVyZWQsIHsgcGFyc2VyOiBcImpzb25cIiB9KTtcbiAgICBjb25zdCByZXN1bHRGaWxlUGF0aCA9IHBhdGgucmVzb2x2ZShvdXRwdXRQYXRoLCBcInRzY29uZmlnLmpzb25cIik7XG4gICAgZnMud3JpdGVGaWxlU3luYyhyZXN1bHRGaWxlUGF0aCwgZm9ybWF0dGVkLCB7XG4gICAgICAgIGVuY29kaW5nOiBcIlVURi04XCIsXG4gICAgICAgIGZsYWc6IFwid1wiLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlVHlwZU9ybUNvbmZpZyhcbiAgICBvdXRwdXRQYXRoOiBzdHJpbmcsXG4gICAgY29ubmVjdGlvbk9wdGlvbnM6IElDb25uZWN0aW9uT3B0aW9uc1xuKTogdm9pZCB7XG4gICAgY29uc3QgdGVtcGxhdGVQYXRoID0gcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgXCJ0ZW1wbGF0ZXNcIiwgXCJvcm1jb25maWcubXN0XCIpO1xuICAgIGNvbnN0IHRlbXBsYXRlID0gZnMucmVhZEZpbGVTeW5jKHRlbXBsYXRlUGF0aCwgXCJVVEYtOFwiKTtcbiAgICBjb25zdCBjb21wbGllZFRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKHRlbXBsYXRlLCB7XG4gICAgICAgIG5vRXNjYXBlOiB0cnVlLFxuICAgIH0pO1xuICAgIGNvbnN0IHJlbmRlcmVkID0gY29tcGxpZWRUZW1wbGF0ZShjb25uZWN0aW9uT3B0aW9ucyk7XG4gICAgY29uc3QgZm9ybWF0dGVkID0gUHJldHRpZXIuZm9ybWF0KHJlbmRlcmVkLCB7IHBhcnNlcjogXCJqc29uXCIgfSk7XG4gICAgY29uc3QgcmVzdWx0RmlsZVBhdGggPSBwYXRoLnJlc29sdmUob3V0cHV0UGF0aCwgXCJvcm1jb25maWcuanNvblwiKTtcbiAgICBmcy53cml0ZUZpbGVTeW5jKHJlc3VsdEZpbGVQYXRoLCBmb3JtYXR0ZWQsIHtcbiAgICAgICAgZW5jb2Rpbmc6IFwiVVRGLThcIixcbiAgICAgICAgZmxhZzogXCJ3XCIsXG4gICAgfSk7XG59XG4iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL25lbW8vd29yay9naXRodWIvdHlwZW9ybS1tb2RlbC1nZW5lcmF0b3Ivc3JjL01vZGVsR2VuZXJhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiMGtyQ0FBQSxLQUFBLENBQUEsVUFBQSx5QkFBQSxPQUFBLENBQUEsWUFBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsUUFBQSx5QkFBQSxPQUFBLENBQUEsVUFBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsVUFBQSx5QkFBQSxPQUFBLENBQUEsYUFBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsRUFBQSx5QkFBQSxPQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsSUFBQSx5QkFBQSxPQUFBLENBQUEsTUFBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsSUFBQSx5QkFBQSxPQUFBLENBQUEsSUFBQSxDQUFBLENBQUEsQ0FFQSxLQUFBLENBQUEsb0JBQUEseUJBQUEsT0FBQSxDQUFBLHNCQUFBLENBQUEsQ0FBQSxDQUlBLEtBQU0sQ0FBQSxlQUFlLHlCQUFxQixDQUN0QyxNQUFNLENBQUUsWUFEOEIsQ0FFdEMsU0FBUyxDQUFFLE1BRjJCLENBQXJCLENBQXJCLENBS0EsUUFBd0IsQ0FBQSxvQkFBeEIsQ0FDSSxpQkFESixDQUVJLGlCQUZKLENBR0ksYUFISixDQUcyQiwrQ0FFdkIsdUJBQXVCLENBQUMsaUJBQUQsQ0FBdkIsQ0FFQSxLQUFNLENBQUEsVUFBVSwwQkFBRyxpQkFBaUIsQ0FBQyxXQUFyQixDQUFoQixDQUp1Qix3QkFLdkIsR0FBSSxDQUFDLEVBQUUsQ0FBQyxVQUFILENBQWMsVUFBZCxDQUFMLENBQWdDLG1EQUM1QixFQUFFLENBQUMsU0FBSCxDQUFhLFVBQWIsRUFDSCxDQUZELGdDQUdBLEdBQUksQ0FBQSxZQUFZLDBCQUFHLFVBQUgsQ0FBaEIsQ0FSdUIsd0JBU3ZCLEdBQUksQ0FBQyxpQkFBaUIsQ0FBQyxTQUF2QixDQUFrQyxtREFDOUIs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SCxDQUFwQixDQVRxQyx5QkFVckMsRUFBRSxDQUFDLGFBQUgsQ0FBaUIsY0FBakIsQ0FBaUMsU0FBakMsQ0FBNEMsQ0FDeEMsUUFBUSxDQUFFLE9BRDhCLENBRXhDLElBQUksQ0FBRSxHQUZrQyxDQUE1QyxFQUlILEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBIYW5kbGViYXJzIGZyb20gXCJoYW5kbGViYXJzXCI7XG5pbXBvcnQgKiBhcyBQcmV0dGllciBmcm9tIFwicHJldHRpZXJcIjtcbmltcG9ydCAqIGFzIGNoYW5nZUNhc2UgZnJvbSBcImNoYW5nZS1jYXNlXCI7XG5pbXBvcnQgKiBhcyBmcyBmcm9tIFwiZnNcIjtcbmltcG9ydCAqIGFzIHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCB7IEVPTCB9IGZyb20gXCJvc1wiO1xuaW1wb3J0IElDb25uZWN0aW9uT3B0aW9ucyBmcm9tIFwiLi9JQ29ubmVjdGlvbk9wdGlvbnNcIjtcbmltcG9ydCBJR2VuZXJhdGlvbk9wdGlvbnMsIHsgZW9sQ29udmVydGVyIH0gZnJvbSBcIi4vSUdlbmVyYXRpb25PcHRpb25zXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9tb2RlbHMvRW50aXR5XCI7XG5pbXBvcnQgeyBSZWxhdGlvbiB9IGZyb20gXCIuL21vZGVscy9SZWxhdGlvblwiO1xuXG5jb25zdCBwcmV0dGllck9wdGlvbnM6IFByZXR0aWVyLk9wdGlvbnMgPSB7XG4gICAgcGFyc2VyOiBcInR5cGVzY3JpcHRcIixcbiAgICBlbmRPZkxpbmU6IFwiYXV0b1wiLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbW9kZWxHZW5lcmF0aW9uUGhhc2UoXG4gICAgY29ubmVjdGlvbk9wdGlvbnM6IElDb25uZWN0aW9uT3B0aW9ucyxcbiAgICBnZW5lcmF0aW9uT3B0aW9uczogSUdlbmVyYXRpb25PcHRpb25zLFxuICAgIGRhdGFiYXNlTW9kZWw6IEVudGl0eVtdXG4pOiB2b2lkIHtcbiAgICBjcmVhdGVIYW5kbGViYXJzSGVscGVycyhnZW5lcmF0aW9uT3B0aW9ucyk7XG5cbiAgICBjb25zdCByZXN1bHRQYXRoID0gZ2VuZXJhdGlvbk9wdGlvbnMucmVzdWx0c1BhdGg7XG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKHJlc3VsdFBhdGgpKSB7XG4gICAgICAgIGZzLm1rZGlyU3luYyhyZXN1bHRQYXRoKTtcbiAgICB9XG4gICAgbGV0IGVudGl0aWVzUGF0aCA9IHJlc3VsdFBhdGg7XG4gICAgaWYgKCFnZW5lcmF0aW9uT3B0aW9ucy5ub0NvbmZpZ3MpIHtcbiAgICAgICAgY3JlYXRlVHNDb25maWdGaWxlKHJlc3VsdFBhdGgpO1xuICAgICAgICBjcmVhdGVUeXBlT3JtQ29uZmlnKHJlc3VsdFBhdGgsIGNvbm5lY3Rpb25PcHRpb25zKTtcbiAgICAgICAgZW50aXRpZXNQYXRoID0gcGF0aC5yZXNvbHZlKHJlc3VsdFBhdGgsIFwiLi9lbnRpdGllc1wiKTtcbiAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKGVudGl0aWVzUGF0aCkpIHtcbiAgICAgICAgICAgIGZzLm1rZGlyU3luYyhlbnRpdGllc1BhdGgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChnZW5lcmF0aW9uT3B0aW9ucy5pbmRleEZpbGUpIHtcbiAgICAgICAgY3JlYXRlSW5kZXhGaWxlKGRhdGFiYXNlTW9kZWwsIGdlbmVyYXRpb25PcHRpb25zLCBlbnRpdGllc1BhdGgpO1xuICAgIH1cbiAgICBnZW5lcmF0ZU1vZGVscyhkYXRhYmFzZU1vZGVsLCBnZW5lcmF0aW9uT3B0aW9ucywgZW50aXRpZXNQYXRoKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVNb2RlbHMoXG4gICAgZGF0YWJhc2VNb2RlbDogRW50aXR5W10sXG4gICAgZ2VuZXJhdGlvbk9wdGlvbnM6IElHZW5lcmF0aW9uT3B0aW9ucyxcbiAgICBlbnRpdGllc1BhdGg6IHN0cmluZ1xuKSB7XG4gICAgY29uc3QgZW50aXR5VGVtcGxhdGVQYXRoID0gcGF0aC5yZXNvbHZlKFxuICAgICAgICBfX2Rpcm5hbWUsXG4gICAgICAgIFwidGVtcGxhdGVzXCIsXG4gICAgICAgIFwiZW50aXR5Lm1zdFwiXG4gICAgKTtcbiAgICBjb25zdCBlbnRpdHlUZW1wbGF0ZSA9IGZzLnJlYWRGaWxlU3luYyhlbnRpdHlUZW1wbGF0ZVBhdGgsIFwiVVRGLThcIik7XG4gICAgY29uc3QgZW50aXR5Q29tcGxpZWRUZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZShlbnRpdHlUZW1wbGF0ZSwge1xuICAgICAgICBub0VzY2FwZTogdHJ1ZSxcbiAgICB9KTtcbiAgICBkYXRhYmFzZU1vZGVsLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgbGV0IGNhc2VkRmlsZU5hbWUgPSBcIlwiO1xuICAgICAgICBzd2l0Y2ggKGdlbmVyYXRpb25PcHRpb25zLmNvbnZlcnRDYXNlRmlsZSkge1xuICAgICAgICAgICAgY2FzZSBcImNhbWVsXCI6XG4gICAgICAgICAgICAgICAgY2FzZWRGaWxlTmFtZSA9IGNoYW5nZUNhc2UuY2FtZWxDYXNlKGVsZW1lbnQudHNjTmFtZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGFyYW1cIjpcbiAgICAgICAgICAgICAgICBjYXNlZEZpbGVOYW1lID0gY2hhbmdlQ2FzZS5wYXJhbUNhc2UoZWxlbWVudC50c2NOYW1lKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwYXNjYWxcIjpcbiAgICAgICAgICAgICAgICBjYXNlZEZpbGVOYW1lID0gY2hhbmdlQ2FzZS5wYXNjYWxDYXNlKGVsZW1lbnQudHNjTmFtZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICAgICAgICAgIGNhc2VkRmlsZU5hbWUgPSBlbGVtZW50LnRzY05hbWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gY2FzZSBzdHlsZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHRGaWxlUGF0aCA9IHBhdGgucmVzb2x2ZShcbiAgICAgICAgICAgIGVudGl0aWVzUGF0aCxcbiAgICAgICAgICAgIGAke2Nhc2VkRmlsZU5hbWV9LnRzYFxuICAgICAgICApO1xuICAgICAgICBjb25zdCByZW5kZXJlZCA9IGVudGl0eUNvbXBsaWVkVGVtcGxhdGUoZWxlbWVudCk7XG4gICAgICAgIGNvbnN0IHdpdGhJbXBvcnRTdGF0ZW1lbnRzID0gcmVtb3ZlVW51c2VkSW1wb3J0cyhcbiAgICAgICAgICAgIEVPTCAhPT0gZW9sQ29udmVydGVyW2dlbmVyYXRpb25PcHRpb25zLmNvbnZlcnRFb2xdXG4gICAgICAgICAgICAgICAgPyByZW5kZXJlZC5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgIC8oXFxyXFxufFxcbnxcXHIpL2dtLFxuICAgICAgICAgICAgICAgICAgICAgIGVvbENvbnZlcnRlcltnZW5lcmF0aW9uT3B0aW9ucy5jb252ZXJ0RW9sXVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogcmVuZGVyZWRcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGZvcm1hdHRlZCA9IFwiXCI7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWQgPSBQcmV0dGllci5mb3JtYXQod2l0aEltcG9ydFN0YXRlbWVudHMsIHByZXR0aWVyT3B0aW9ucyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiVGhlcmUgd2VyZSBzb21lIHByb2JsZW1zIHdpdGggbW9kZWwgZ2VuZXJhdGlvbiBmb3IgdGFibGU6IFwiLFxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3FsTmFtZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgZm9ybWF0dGVkID0gd2l0aEltcG9ydFN0YXRlbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgZnMud3JpdGVGaWxlU3luYyhyZXN1bHRGaWxlUGF0aCwgZm9ybWF0dGVkLCB7XG4gICAgICAgICAgICBlbmNvZGluZzogXCJVVEYtOFwiLFxuICAgICAgICAgICAgZmxhZzogXCJ3XCIsXG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJbmRleEZpbGUoXG4gICAgZGF0YWJhc2VNb2RlbDogRW50aXR5W10sXG4gICAgZ2VuZXJhdGlvbk9wdGlvbnM6IElHZW5lcmF0aW9uT3B0aW9ucyxcbiAgICBlbnRpdGllc1BhdGg6IHN0cmluZ1xuKSB7XG4gICAgY29uc3QgdGVtcGxhdGVQYXRoID0gcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgXCJ0ZW1wbGF0ZXNcIiwgXCJpbmRleC5tc3RcIik7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBmcy5yZWFkRmlsZVN5bmModGVtcGxhdGVQYXRoLCBcIlVURi04XCIpO1xuICAgIGNvbnN0IGNvbXBsaWVkVGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUodGVtcGxhdGUsIHtcbiAgICAgICAgbm9Fc2NhcGU6IHRydWUsXG4gICAgfSk7XG4gICAgY29uc3QgcmVuZGVyZWQgPSBjb21wbGllZFRlbXBsYXRlKHsgZW50aXRpZXM6IGRhdGFiYXNlTW9kZWwgfSk7XG4gICAgY29uc3QgZm9ybWF0dGVkID0gUHJldHRpZXIuZm9ybWF0KHJlbmRlcmVkLCBwcmV0dGllck9wdGlvbnMpO1xuICAgIGxldCBmaWxlTmFtZSA9IFwiaW5kZXhcIjtcbiAgICBzd2l0Y2ggKGdlbmVyYXRpb25PcHRpb25zLmNvbnZlcnRDYXNlRmlsZSkge1xuICAgICAgICBjYXNlIFwiY2FtZWxcIjpcbiAgICAgICAgICAgIGZpbGVOYW1lID0gY2hhbmdlQ2FzZS5jYW1lbENhc2UoZmlsZU5hbWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwYXJhbVwiOlxuICAgICAgICAgICAgZmlsZU5hbWUgPSBjaGFuZ2VDYXNlLnBhcmFtQ2FzZShmaWxlTmFtZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBhc2NhbFwiOlxuICAgICAgICAgICAgZmlsZU5hbWUgPSBjaGFuZ2VDYXNlLnBhc2NhbENhc2UoZmlsZU5hbWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdEZpbGVQYXRoID0gcGF0aC5yZXNvbHZlKGVudGl0aWVzUGF0aCwgYCR7ZmlsZU5hbWV9LnRzYCk7XG4gICAgZnMud3JpdGVGaWxlU3luYyhyZXN1bHRGaWxlUGF0aCwgZm9ybWF0dGVkLCB7XG4gICAgICAgIGVuY29kaW5nOiBcIlVURi04XCIsXG4gICAgICAgIGZsYWc6IFwid1wiLFxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiByZW1vdmVVbnVzZWRJbXBvcnRzKHJlbmRlcmVkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBvcGVuQnJhY2tldEluZGV4ID0gcmVuZGVyZWQuaW5kZXhPZihcIntcIikgKyAxO1xuICAgIGNvbnN0IGNsb3NlQnJhY2tldEluZGV4ID0gcmVuZGVyZWQuaW5kZXhPZihcIn1cIik7XG4gICAgY29uc3QgaW1wb3J0cyA9IHJlbmRlcmVkXG4gICAgICAgIC5zdWJzdHJpbmcob3BlbkJyYWNrZXRJbmRleCwgY2xvc2VCcmFja2V0SW5kZXgpXG4gICAgICAgIC5zcGxpdChcIixcIik7XG4gICAgY29uc3QgcmVzdE9mRW50aXR5RGVmaW5pdGlvbiA9IHJlbmRlcmVkLnN1YnN0cmluZyhjbG9zZUJyYWNrZXRJbmRleCk7XG4gICAgY29uc3QgZGlzdGluY3RJbXBvcnRzID0gaW1wb3J0cy5maWx0ZXIoXG4gICAgICAgICh2KSA9PlxuICAgICAgICAgICAgcmVzdE9mRW50aXR5RGVmaW5pdGlvbi5pbmRleE9mKGBAJHt2fShgKSAhPT0gLTEgfHxcbiAgICAgICAgICAgICh2ID09PSBcIkJhc2VFbnRpdHlcIiAmJiByZXN0T2ZFbnRpdHlEZWZpbml0aW9uLmluZGV4T2YodikgIT09IC0xKVxuICAgICk7XG4gICAgcmV0dXJuIGAke3JlbmRlcmVkLnN1YnN0cmluZygwLCBvcGVuQnJhY2tldEluZGV4KX0ke2Rpc3RpbmN0SW1wb3J0cy5qb2luKFxuICAgICAgICBcIixcIlxuICAgICl9JHtyZXN0T2ZFbnRpdHlEZWZpbml0aW9ufWA7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUhhbmRsZWJhcnNIZWxwZXJzKGdlbmVyYXRpb25PcHRpb25zOiBJR2VuZXJhdGlvbk9wdGlvbnMpOiB2b2lkIHtcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKFwianNvblwiLCAoY29udGV4dCkgPT4ge1xuICAgICAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkoY29udGV4dCk7XG4gICAgICAgIGNvbnN0IHdpdGhvdXRRdW90ZXMgPSBqc29uLnJlcGxhY2UoL1wiKFteKFwiKVwiXSspXCI6L2csIFwiJDE6XCIpO1xuICAgICAgICByZXR1cm4gd2l0aG91dFF1b3Rlcy5zbGljZSgxLCB3aXRob3V0UXVvdGVzLmxlbmd0aCAtIDEpO1xuICAgIH0pO1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoXCJ0b0VudGl0eU5hbWVcIiwgKHN0cikgPT4ge1xuICAgICAgICBsZXQgcmV0U3RyID0gXCJcIjtcbiAgICAgICAgc3dpdGNoIChnZW5lcmF0aW9uT3B0aW9ucy5jb252ZXJ0Q2FzZUVudGl0eSkge1xuICAgICAgICAgICAgY2FzZSBcImNhbWVsXCI6XG4gICAgICAgICAgICAgICAgcmV0U3RyID0gY2hhbmdlQ2FzZS5jYW1lbENhc2Uoc3RyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwYXNjYWxcIjpcbiAgICAgICAgICAgICAgICByZXRTdHIgPSBjaGFuZ2VDYXNlLnBhc2NhbENhc2Uoc3RyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJub25lXCI6XG4gICAgICAgICAgICAgICAgcmV0U3RyID0gc3RyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGNhc2Ugc3R5bGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldFN0cjtcbiAgICB9KTtcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKFwidG9GaWxlTmFtZVwiLCAoc3RyKSA9PiB7XG4gICAgICAgIGxldCByZXRTdHIgPSBcIlwiO1xuICAgICAgICBzd2l0Y2ggKGdlbmVyYXRpb25PcHRpb25zLmNvbnZlcnRDYXNlRmlsZSkge1xuICAgICAgICAgICAgY2FzZSBcImNhbWVsXCI6XG4gICAgICAgICAgICAgICAgcmV0U3RyID0gY2hhbmdlQ2FzZS5jYW1lbENhc2Uoc3RyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwYXJhbVwiOlxuICAgICAgICAgICAgICAgIHJldFN0ciA9IGNoYW5nZUNhc2UucGFyYW1DYXNlKHN0cik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGFzY2FsXCI6XG4gICAgICAgICAgICAgICAgcmV0U3RyID0gY2hhbmdlQ2FzZS5wYXNjYWxDYXNlKHN0cik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICAgICAgICAgIHJldFN0ciA9IHN0cjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjYXNlIHN0eWxlXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXRTdHI7XG4gICAgfSk7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcihcInByaW50UHJvcGVydHlWaXNpYmlsaXR5XCIsICgpID0+XG4gICAgICAgIGdlbmVyYXRpb25PcHRpb25zLnByb3BlcnR5VmlzaWJpbGl0eSAhPT0gXCJub25lXCJcbiAgICAgICAgICAgID8gYCR7Z2VuZXJhdGlvbk9wdGlvbnMucHJvcGVydHlWaXNpYmlsaXR5fSBgXG4gICAgICAgICAgICA6IFwiXCJcbiAgICApO1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoXCJ0b1Byb3BlcnR5TmFtZVwiLCAoc3RyKSA9PiB7XG4gICAgICAgIGxldCByZXRTdHIgPSBcIlwiO1xuICAgICAgICBzd2l0Y2ggKGdlbmVyYXRpb25PcHRpb25zLmNvbnZlcnRDYXNlUHJvcGVydHkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJjYW1lbFwiOlxuICAgICAgICAgICAgICAgIHJldFN0ciA9IGNoYW5nZUNhc2UuY2FtZWxDYXNlKHN0cik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGFzY2FsXCI6XG4gICAgICAgICAgICAgICAgcmV0U3RyID0gY2hhbmdlQ2FzZS5wYXNjYWxDYXNlKHN0cik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICAgICAgICAgIHJldFN0ciA9IHN0cjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjYXNlIHN0eWxlXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXRTdHI7XG4gICAgfSk7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcihcbiAgICAgICAgXCJ0b1JlbGF0aW9uXCIsXG4gICAgICAgIChlbnRpdHlUeXBlOiBzdHJpbmcsIHJlbGF0aW9uVHlwZTogUmVsYXRpb25bXCJyZWxhdGlvblR5cGVcIl0pID0+IHtcbiAgICAgICAgICAgIGxldCByZXRWYWwgPSBlbnRpdHlUeXBlO1xuICAgICAgICAgICAgaWYgKHJlbGF0aW9uVHlwZSA9PT0gXCJNYW55VG9NYW55XCIgfHwgcmVsYXRpb25UeXBlID09PSBcIk9uZVRvTWFueVwiKSB7XG4gICAgICAgICAgICAgICAgcmV0VmFsID0gYCR7cmV0VmFsfVtdYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnZW5lcmF0aW9uT3B0aW9ucy5sYXp5KSB7XG4gICAgICAgICAgICAgICAgcmV0VmFsID0gYFByb21pc2U8JHtyZXRWYWx9PmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0VmFsO1xuICAgICAgICB9XG4gICAgKTtcbiAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKFwiZGVmYXVsdEV4cG9ydFwiLCAoKSA9PlxuICAgICAgICBnZW5lcmF0aW9uT3B0aW9ucy5leHBvcnRUeXBlID09PSBcImRlZmF1bHRcIiA/IFwiZGVmYXVsdFwiIDogXCJcIlxuICAgICk7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcihcImxvY2FsSW1wb3J0XCIsIChlbnRpdHlOYW1lOiBzdHJpbmcpID0+XG4gICAgICAgIGdlbmVyYXRpb25PcHRpb25zLmV4cG9ydFR5cGUgPT09IFwiZGVmYXVsdFwiXG4gICAgICAgICAgICA/IGVudGl0eU5hbWVcbiAgICAgICAgICAgIDogYHske2VudGl0eU5hbWV9fWBcbiAgICApO1xuICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoXCJzdHJpY3RNb2RlXCIsICgpID0+XG4gICAgICAgIGdlbmVyYXRpb25PcHRpb25zLnN0cmljdE1vZGUgIT09IFwibm9uZVwiXG4gICAgICAgICAgICA/IGdlbmVyYXRpb25PcHRpb25zLnN0cmljdE1vZGVcbiAgICAgICAgICAgIDogXCJcIlxuICAgICk7XG4gICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcih7XG4gICAgICAgIGFuZDogKHYxLCB2MikgPT4gdjEgJiYgdjIsXG4gICAgICAgIGVxOiAodjEsIHYyKSA9PiB2MSA9PT0gdjIsXG4gICAgICAgIGd0OiAodjEsIHYyKSA9PiB2MSA+IHYyLFxuICAgICAgICBndGU6ICh2MSwgdjIpID0+IHYxID49IHYyLFxuICAgICAgICBsdDogKHYxLCB2MikgPT4gdjEgPCB2MixcbiAgICAgICAgbHRlOiAodjEsIHYyKSA9PiB2MSA8PSB2MixcbiAgICAgICAgbmU6ICh2MSwgdjIpID0+IHYxICE9PSB2MixcbiAgICAgICAgb3I6ICh2MSwgdjIpID0+IHYxIHx8IHYyLFxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUc0NvbmZpZ0ZpbGUob3V0cHV0UGF0aDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgdGVtcGxhdGVQYXRoID0gcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgXCJ0ZW1wbGF0ZXNcIiwgXCJ0c2NvbmZpZy5tc3RcIik7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBmcy5yZWFkRmlsZVN5bmModGVtcGxhdGVQYXRoLCBcIlVURi04XCIpO1xuICAgIGNvbnN0IGNvbXBsaWVkVGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUodGVtcGxhdGUsIHtcbiAgICAgICAgbm9Fc2NhcGU6IHRydWUsXG4gICAgfSk7XG4gICAgY29uc3QgcmVuZGVyZWQgPSBjb21wbGllZFRlbXBsYXRlKHt9KTtcbiAgICBjb25zdCBmb3JtYXR0ZWQgPSBQcmV0dGllci5mb3JtYXQocmVuZGVyZWQsIHsgcGFyc2VyOiBcImpzb25cIiB9KTtcbiAgICBjb25zdCByZXN1bHRGaWxlUGF0aCA9IHBhdGgucmVzb2x2ZShvdXRwdXRQYXRoLCBcInRzY29uZmlnLmpzb25cIik7XG4gICAgZnMud3JpdGVGaWxlU3luYyhyZXN1bHRGaWxlUGF0aCwgZm9ybWF0dGVkLCB7XG4gICAgICAgIGVuY29kaW5nOiBcIlVURi04XCIsXG4gICAgICAgIGZsYWc6IFwid1wiLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlVHlwZU9ybUNvbmZpZyhcbiAgICBvdXRwdXRQYXRoOiBzdHJpbmcsXG4gICAgY29ubmVjdGlvbk9wdGlvbnM6IElDb25uZWN0aW9uT3B0aW9uc1xuKTogdm9pZCB7XG4gICAgY29uc3QgdGVtcGxhdGVQYXRoID0gcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgXCJ0ZW1wbGF0ZXNcIiwgXCJvcm1jb25maWcubXN0XCIpO1xuICAgIGNvbnN0IHRlbXBsYXRlID0gZnMucmVhZEZpbGVTeW5jKHRlbXBsYXRlUGF0aCwgXCJVVEYtOFwiKTtcbiAgICBjb25zdCBjb21wbGllZFRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKHRlbXBsYXRlLCB7XG4gICAgICAgIG5vRXNjYXBlOiB0cnVlLFxuICAgIH0pO1xuICAgIGNvbnN0IHJlbmRlcmVkID0gY29tcGxpZWRUZW1wbGF0ZShjb25uZWN0aW9uT3B0aW9ucyk7XG4gICAgY29uc3QgZm9ybWF0dGVkID0gUHJldHRpZXIuZm9ybWF0KHJlbmRlcmVkLCB7IHBhcnNlcjogXCJqc29uXCIgfSk7XG4gICAgY29uc3QgcmVzdWx0RmlsZVBhdGggPSBwYXRoLnJlc29sdmUob3V0cHV0UGF0aCwgXCJvcm1jb25maWcuanNvblwiKTtcbiAgICBmcy53cml0ZUZpbGVTeW5jKHJlc3VsdEZpbGVQYXRoLCBmb3JtYXR0ZWQsIHtcbiAgICAgICAgZW5jb2Rpbmc6IFwiVVRGLThcIixcbiAgICAgICAgZmxhZzogXCJ3XCIsXG4gICAgfSk7XG59XG4iXX0=