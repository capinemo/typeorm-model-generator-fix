"use strict";function cov_1up9qyasv9(){var path="/home/nemo/work/github/typeorm-model-generator/src/drivers/SqliteDriver.ts";var hash="7c4775b33ffe765e20151cf76f66582014ccad33";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/nemo/work/github/typeorm-model-generator/src/drivers/SqliteDriver.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:22},end:{line:3,column:67}},"2":{start:{line:4,column:18},end:{line:4,column:37}},"3":{start:{line:5,column:25},end:{line:5,column:52}},"4":{start:{line:8,column:8},end:{line:8,column:16}},"5":{start:{line:9,column:8},end:{line:11,column:28}},"6":{start:{line:12,column:8},end:{line:12,column:30}},"7":{start:{line:13,column:8},end:{line:13,column:31}},"8":{start:{line:14,column:8},end:{line:14,column:33}},"9":{start:{line:15,column:8},end:{line:15,column:57}},"10":{start:{line:16,column:8},end:{line:24,column:9}},"11":{start:{line:18,column:12},end:{line:18,column:48}},"12":{start:{line:19,column:12},end:{line:19,column:51}},"13":{start:{line:22,column:12},end:{line:22,column:49}},"14":{start:{line:23,column:12},end:{line:23,column:24}},"15":{start:{line:27,column:20},end:{line:27,column:22}},"16":{start:{line:28,column:31},end:{line:30,column:16}},"17":{start:{line:31,column:21},end:{line:31,column:157}},"18":{start:{line:32,column:8},end:{line:45,column:11}},"19":{start:{line:33,column:12},end:{line:35,column:13}},"20":{start:{line:34,column:16},end:{line:34,column:70}},"21":{start:{line:36,column:12},end:{line:44,column:15}},"22":{start:{line:46,column:8},end:{line:46,column:19}},"23":{start:{line:49,column:8},end:{line:182,column:12}},"24":{start:{line:50,column:29},end:{line:50,column:89}},"25":{start:{line:51,column:12},end:{line:181,column:15}},"26":{start:{line:52,column:32},end:{line:52,column:41}},"27":{start:{line:53,column:30},end:{line:53,column:32}},"28":{start:{line:54,column:32},end:{line:54,column:51}},"29":{start:{line:55,column:16},end:{line:56,column:44}},"30":{start:{line:56,column:20},end:{line:56,column:44}},"31":{start:{line:57,column:34},end:{line:57,column:64}},"32":{start:{line:58,column:37},end:{line:58,column:93}},"33":{start:{line:59,column:35},end:{line:62,column:27}},"34":{start:{line:63,column:34},end:{line:66,column:31}},"35":{start:{line:67,column:16},end:{line:153,column:17}},"36":{start:{line:69,column:24},end:{line:69,column:43}},"37":{start:{line:70,column:24},end:{line:70,column:30}},"38":{start:{line:72,column:24},end:{line:72,column:43}},"39":{start:{line:73,column:24},end:{line:73,column:30}},"40":{start:{line:75,column:24},end:{line:75,column:43}},"41":{start:{line:76,column:24},end:{line:76,column:30}},"42":{start:{line:78,column:24},end:{line:78,column:43}},"43":{start:{line:79,column:24},end:{line:79,column:30}},"44":{start:{line:81,column:24},end:{line:81,column:43}},"45":{start:{line:82,column:24},end:{line:82,column:30}},"46":{start:{line:84,column:24},end:{line:84,column:43}},"47":{start:{line:85,column:24},end:{line:85,column:30}},"48":{start:{line:87,column:24},end:{line:87,column:43}},"49":{start:{line:88,column:24},end:{line:88,column:30}},"50":{start:{line:90,column:24},end:{line:90,column:43}},"51":{start:{line:91,column:24},end:{line:91,column:30}},"52":{start:{line:93,column:24},end:{line:93,column:43}},"53":{start:{line:94,column:24},end:{line:94,column:30}},"54":{start:{line:96,column:24},end:{line:96,column:43}},"55":{start:{line:97,column:24},end:{line:97,column:30}},"56":{start:{line:99,column:24},end:{line:99,column:43}},"57":{start:{line:100,column:24},end:{line:100,column:30}},"58":{start:{line:102,column:24},end:{line:102,column:43}},"59":{start:{line:103,column:24},end:{line:103,column:30}},"60":{start:{line:105,column:24},end:{line:105,column:43}},"61":{start:{line:106,column:24},end:{line:106,column:30}},"62":{start:{line:108,column:24},end:{line:108,column:43}},"63":{start:{line:109,column:24},end:{line:109,column:30}},"64":{start:{line:111,column:24},end:{line:111,column:43}},"65":{start:{line:112,column:24},end:{line:112,column:30}},"66":{start:{line:114,column:24},end:{line:114,column:43}},"67":{start:{line:115,column:24},end:{line:115,column:30}},"68":{start:{line:117,column:24},end:{line:117,column:43}},"69":{start:{line:118,column:24},end:{line:118,column:30}},"70":{start:{line:120,column:24},end:{line:120,column:43}},"71":{start:{line:121,column:24},end:{line:121,column:30}},"72":{start:{line:123,column:24},end:{line:123,column:43}},"73":{start:{line:124,column:24},end:{line:124,column:30}},"74":{start:{line:126,column:24},end:{line:126,column:43}},"75":{start:{line:127,column:24},end:{line:127,column:30}},"76":{start:{line:129,column:24},end:{line:129,column:43}},"77":{start:{line:130,column:24},end:{line:130,column:30}},"78":{start:{line:132,column:24},end:{line:132,column:43}},"79":{start:{line:133,column:24},end:{line:133,column:30}},"80":{start:{line:135,column:24},end:{line:135,column:43}},"81":{start:{line:136,column:24},end:{line:136,column:30}},"82":{start:{line:138,column:24},end:{line:138,column:43}},"83":{start:{line:139,column:24},end:{line:139,column:30}},"84":{start:{line:141,column:24},end:{line:141,column:44}},"85":{start:{line:142,column:24},end:{line:142,column:30}},"86":{start:{line:144,column:24},end:{line:144,column:43}},"87":{start:{line:145,column:24},end:{line:145,column:30}},"88":{start:{line:147,column:24},end:{line:147,column:41}},"89":{start:{line:148,column:24},end:{line:148,column:30}},"90":{start:{line:150,column:24},end:{line:150,column:57}},"91":{start:{line:151,column:24},end:{line:151,column:135}},"92":{start:{line:152,column:24},end:{line:152,column:30}},"93":{start:{line:154,column:35},end:{line:154,column:67}},"94":{start:{line:155,column:16},end:{line:163,column:17}},"95":{start:{line:155,column:62},end:{line:155,column:78}},"96":{start:{line:157,column:20},end:{line:159,column:44}},"97":{start:{line:160,column:20},end:{line:162,column:44}},"98":{start:{line:164,column:16},end:{line:167,column:17}},"99":{start:{line:164,column:59},end:{line:164,column:75}},"100":{start:{line:166,column:20},end:{line:166,column:111}},"101":{start:{line:168,column:16},end:{line:171,column:17}},"102":{start:{line:168,column:58},end:{line:168,column:99}},"103":{start:{line:170,column:20},end:{line:170,column:110}},"104":{start:{line:172,column:16},end:{line:180,column:19}},"105":{start:{line:183,column:8},end:{line:183,column:24}},"106":{start:{line:186,column:8},end:{line:211,column:12}},"107":{start:{line:187,column:29},end:{line:187,column:89}},"108":{start:{line:188,column:12},end:{line:210,column:16}},"109":{start:{line:189,column:45},end:{line:189,column:103}},"110":{start:{line:190,column:34},end:{line:194,column:17}},"111":{start:{line:195,column:16},end:{line:196,column:52}},"112":{start:{line:196,column:20},end:{line:196,column:52}},"113":{start:{line:197,column:16},end:{line:199,column:19}},"114":{start:{line:198,column:20},end:{line:198,column:56}},"115":{start:{line:200,column:16},end:{line:208,column:17}},"116":{start:{line:202,column:20},end:{line:207,column:23}},"117":{start:{line:203,column:39},end:{line:203,column:73}},"118":{start:{line:206,column:24},end:{line:206,column:48}},"119":{start:{line:209,column:16},end:{line:209,column:44}},"120":{start:{line:212,column:8},end:{line:212,column:24}},"121":{start:{line:215,column:21},end:{line:215,column:29}},"122":{start:{line:216,column:8},end:{line:247,column:12}},"123":{start:{line:217,column:29},end:{line:217,column:98}},"124":{start:{line:218,column:34},end:{line:218,column:36}},"125":{start:{line:219,column:33},end:{line:219,column:67}},"126":{start:{line:219,column:61},end:{line:219,column:65}},"127":{start:{line:220,column:12},end:{line:245,column:15}},"128":{start:{line:221,column:29},end:{line:221,column:72}},"129":{start:{line:221,column:52},end:{line:221,column:71}},"130":{start:{line:222,column:35},end:{line:222,column:85}},"131":{start:{line:222,column:56},end:{line:222,column:84}},"132":{start:{line:223,column:37},end:{line:223,column:86}},"133":{start:{line:223,column:58},end:{line:223,column:85}},"134":{start:{line:224,column:16},end:{line:227,column:17}},"135":{start:{line:225,column:20},end:{line:225,column:141}},"136":{start:{line:226,column:20},end:{line:226,column:27}},"137":{start:{line:228,column:33},end:{line:233,column:17}},"138":{start:{line:234,column:16},end:{line:236,column:17}},"139":{start:{line:235,column:20},end:{line:235,column:58}},"140":{start:{line:237,column:16},end:{line:239,column:17}},"141":{start:{line:238,column:20},end:{line:238,column:58}},"142":{start:{line:240,column:16},end:{line:243,column:19}},"143":{start:{line:241,column:20},end:{line:241,column:57}},"144":{start:{line:242,column:20},end:{line:242,column:57}},"145":{start:{line:244,column:16},end:{line:244,column:45}},"146":{start:{line:246,column:12},end:{line:246,column:109}},"147":{start:{line:248,column:8},end:{line:248,column:22}},"148":{start:{line:251,column:8},end:{line:251,column:24}},"149":{start:{line:254,column:8},end:{line:254,column:56}},"150":{start:{line:261,column:24},end:{line:270,column:10}},"151":{start:{line:262,column:12},end:{line:269,column:15}},"152":{start:{line:263,column:16},end:{line:267,column:17}},"153":{start:{line:264,column:20},end:{line:264,column:99}},"154":{start:{line:265,column:20},end:{line:265,column:32}},"155":{start:{line:266,column:20},end:{line:266,column:27}},"156":{start:{line:268,column:16},end:{line:268,column:26}},"157":{start:{line:271,column:8},end:{line:271,column:23}},"158":{start:{line:279,column:8},end:{line:279,column:20}},"159":{start:{line:282,column:18},end:{line:282,column:20}},"160":{start:{line:283,column:24},end:{line:296,column:10}},"161":{start:{line:284,column:12},end:{line:295,column:15}},"162":{start:{line:285,column:16},end:{line:294,column:19}},"163":{start:{line:286,column:20},end:{line:293,column:21}},"164":{start:{line:287,column:24},end:{line:287,column:34}},"165":{start:{line:288,column:24},end:{line:288,column:38}},"166":{start:{line:291,column:24},end:{line:291,column:99}},"167":{start:{line:292,column:24},end:{line:292,column:36}},"168":{start:{line:297,column:8},end:{line:297,column:22}},"169":{start:{line:298,column:8},end:{line:298,column:19}},"170":{start:{line:301,column:8},end:{line:303,column:9}},"171":{start:{line:302,column:12},end:{line:302,column:29}},"172":{start:{line:304,column:8},end:{line:304,column:35}},"173":{start:{line:307,column:0},end:{line:307,column:31}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:18},end:{line:25,column:5}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:26,column:4},end:{line:26,column:5}},loc:{start:{line:26,column:52},end:{line:47,column:5}},line:26},"2":{name:"(anonymous_2)",decl:{start:{line:32,column:21},end:{line:32,column:22}},loc:{start:{line:32,column:30},end:{line:45,column:9}},line:32},"3":{name:"(anonymous_3)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:41},end:{line:184,column:5}},line:48},"4":{name:"(anonymous_4)",decl:{start:{line:49,column:39},end:{line:49,column:40}},loc:{start:{line:49,column:54},end:{line:182,column:9}},line:49},"5":{name:"(anonymous_5)",decl:{start:{line:51,column:29},end:{line:51,column:30}},loc:{start:{line:51,column:39},end:{line:181,column:13}},line:51},"6":{name:"(anonymous_6)",decl:{start:{line:155,column:55},end:{line:155,column:56}},loc:{start:{line:155,column:62},end:{line:155,column:78}},line:155},"7":{name:"(anonymous_7)",decl:{start:{line:164,column:52},end:{line:164,column:53}},loc:{start:{line:164,column:59},end:{line:164,column:75}},line:164},"8":{name:"(anonymous_8)",decl:{start:{line:168,column:51},end:{line:168,column:52}},loc:{start:{line:168,column:58},end:{line:168,column:99}},line:168},"9":{name:"(anonymous_9)",decl:{start:{line:185,column:4},end:{line:185,column:5}},loc:{start:{line:185,column:41},end:{line:213,column:5}},line:185},"10":{name:"(anonymous_10)",decl:{start:{line:186,column:39},end:{line:186,column:40}},loc:{start:{line:186,column:54},end:{line:211,column:9}},line:186},"11":{name:"(anonymous_11)",decl:{start:{line:188,column:43},end:{line:188,column:44}},loc:{start:{line:188,column:59},end:{line:210,column:13}},line:188},"12":{name:"(anonymous_12)",decl:{start:{line:197,column:45},end:{line:197,column:46}},loc:{start:{line:197,column:57},end:{line:199,column:17}},line:197},"13":{name:"(anonymous_13)",decl:{start:{line:203,column:32},end:{line:203,column:33}},loc:{start:{line:203,column:39},end:{line:203,column:73}},line:203},"14":{name:"(anonymous_14)",decl:{start:{line:204,column:33},end:{line:204,column:34}},loc:{start:{line:204,column:40},end:{line:207,column:21}},line:204},"15":{name:"(anonymous_15)",decl:{start:{line:214,column:4},end:{line:214,column:5}},loc:{start:{line:214,column:69},end:{line:249,column:5}},line:214},"16":{name:"(anonymous_16)",decl:{start:{line:216,column:37},end:{line:216,column:38}},loc:{start:{line:216,column:55},end:{line:247,column:9}},line:216},"17":{name:"(anonymous_17)",decl:{start:{line:219,column:54},end:{line:219,column:55}},loc:{start:{line:219,column:61},end:{line:219,column:65}},line:219},"18":{name:"(anonymous_18)",decl:{start:{line:220,column:33},end:{line:220,column:34}},loc:{start:{line:220,column:49},end:{line:245,column:13}},line:220},"19":{name:"(anonymous_19)",decl:{start:{line:221,column:45},end:{line:221,column:46}},loc:{start:{line:221,column:52},end:{line:221,column:71}},line:221},"20":{name:"(anonymous_20)",decl:{start:{line:222,column:49},end:{line:222,column:50}},loc:{start:{line:222,column:56},end:{line:222,column:84}},line:222},"21":{name:"(anonymous_21)",decl:{start:{line:223,column:51},end:{line:223,column:52}},loc:{start:{line:223,column:58},end:{line:223,column:85}},line:223},"22":{name:"(anonymous_22)",decl:{start:{line:240,column:29},end:{line:240,column:30}},loc:{start:{line:240,column:38},end:{line:243,column:17}},line:240},"23":{name:"(anonymous_23)",decl:{start:{line:250,column:4},end:{line:250,column:5}},loc:{start:{line:250,column:33},end:{line:252,column:5}},line:250},"24":{name:"(anonymous_24)",decl:{start:{line:253,column:4},end:{line:253,column:5}},loc:{start:{line:253,column:44},end:{line:255,column:5}},line:253},"25":{name:"(anonymous_25)",decl:{start:{line:257,column:4},end:{line:257,column:5}},loc:{start:{line:257,column:21},end:{line:259,column:5}},line:257},"26":{name:"(anonymous_26)",decl:{start:{line:260,column:4},end:{line:260,column:5}},loc:{start:{line:260,column:24},end:{line:272,column:5}},line:260},"27":{name:"(anonymous_27)",decl:{start:{line:261,column:36},end:{line:261,column:37}},loc:{start:{line:261,column:57},end:{line:270,column:9}},line:261},"28":{name:"(anonymous_28)",decl:{start:{line:262,column:55},end:{line:262,column:56}},loc:{start:{line:262,column:64},end:{line:269,column:13}},line:262},"29":{name:"(anonymous_29)",decl:{start:{line:274,column:4},end:{line:274,column:5}},loc:{start:{line:274,column:19},end:{line:276,column:5}},line:274},"30":{name:"(anonymous_30)",decl:{start:{line:278,column:4},end:{line:278,column:5}},loc:{start:{line:278,column:28},end:{line:280,column:5}},line:278},"31":{name:"(anonymous_31)",decl:{start:{line:281,column:4},end:{line:281,column:5}},loc:{start:{line:281,column:25},end:{line:299,column:5}},line:281},"32":{name:"(anonymous_32)",decl:{start:{line:283,column:36},end:{line:283,column:37}},loc:{start:{line:283,column:57},end:{line:296,column:9}},line:283},"33":{name:"(anonymous_33)",decl:{start:{line:284,column:30},end:{line:284,column:31}},loc:{start:{line:284,column:36},end:{line:295,column:13}},line:284},"34":{name:"(anonymous_34)",decl:{start:{line:285,column:37},end:{line:285,column:38}},loc:{start:{line:285,column:51},end:{line:294,column:17}},line:285},"35":{name:"(anonymous_35)",decl:{start:{line:300,column:4},end:{line:300,column:5}},loc:{start:{line:300,column:46},end:{line:305,column:5}},line:300}},branchMap:{"0":{loc:{start:{line:28,column:31},end:{line:30,column:16}},type:"cond-expr",locations:[{start:{line:29,column:14},end:{line:29,column:66}},{start:{line:30,column:14},end:{line:30,column:16}}],line:28},"1":{loc:{start:{line:33,column:12},end:{line:35,column:13}},type:"if",locations:[{start:{line:33,column:12},end:{line:35,column:13}},{start:{line:33,column:12},end:{line:35,column:13}}],line:33},"2":{loc:{start:{line:55,column:16},end:{line:56,column:44}},type:"if",locations:[{start:{line:55,column:16},end:{line:56,column:44}},{start:{line:55,column:16},end:{line:56,column:44}}],line:55},"3":{loc:{start:{line:57,column:34},end:{line:57,column:64}},type:"cond-expr",locations:[{start:{line:57,column:48},end:{line:57,column:52}},{start:{line:57,column:55},end:{line:57,column:64}}],line:57},"4":{loc:{start:{line:63,column:34},end:{line:66,column:31}},type:"cond-expr",locations:[{start:{line:65,column:22},end:{line:65,column:26}},{start:{line:66,column:22},end:{line:66,column:31}}],line:63},"5":{loc:{start:{line:63,column:34},end:{line:64,column:76}},type:"binary-expr",locations:[{start:{line:63,column:34},end:{line:63,column:43}},{start:{line:64,column:20},end:{line:64,column:76}}],line:63},"6":{loc:{start:{line:67,column:16},end:{line:153,column:17}},type:"switch",locations:[{start:{line:68,column:20},end:{line:70,column:30}},{start:{line:71,column:20},end:{line:73,column:30}},{start:{line:74,column:20},end:{line:76,column:30}},{start:{line:77,column:20},end:{line:79,column:30}},{start:{line:80,column:20},end:{line:82,column:30}},{start:{line:83,column:20},end:{line:85,column:30}},{start:{line:86,column:20},end:{line:88,column:30}},{start:{line:89,column:20},end:{line:91,column:30}},{start:{line:92,column:20},end:{line:94,column:30}},{start:{line:95,column:20},end:{line:97,column:30}},{start:{line:98,column:20},end:{line:100,column:30}},{start:{line:101,column:20},end:{line:103,column:30}},{start:{line:104,column:20},end:{line:106,column:30}},{start:{line:107,column:20},end:{line:109,column:30}},{start:{line:110,column:20},end:{line:112,column:30}},{start:{line:113,column:20},end:{line:115,column:30}},{start:{line:116,column:20},end:{line:118,column:30}},{start:{line:119,column:20},end:{line:121,column:30}},{start:{line:122,column:20},end:{line:124,column:30}},{start:{line:125,column:20},end:{line:127,column:30}},{start:{line:128,column:20},end:{line:130,column:30}},{start:{line:131,column:20},end:{line:133,column:30}},{start:{line:134,column:20},end:{line:136,column:30}},{start:{line:137,column:20},end:{line:139,column:30}},{start:{line:140,column:20},end:{line:142,column:30}},{start:{line:143,column:20},end:{line:145,column:30}},{start:{line:146,column:20},end:{line:148,column:30}},{start:{line:149,column:20},end:{line:152,column:30}}],line:67},"7":{loc:{start:{line:155,column:16},end:{line:163,column:17}},type:"if",locations:[{start:{line:155,column:16},end:{line:163,column:17}},{start:{line:155,column:16},end:{line:163,column:17}}],line:155},"8":{loc:{start:{line:155,column:20},end:{line:156,column:30}},type:"binary-expr",locations:[{start:{line:155,column:20},end:{line:155,column:79}},{start:{line:156,column:20},end:{line:156,column:30}}],line:155},"9":{loc:{start:{line:164,column:16},end:{line:167,column:17}},type:"if",locations:[{start:{line:164,column:16},end:{line:167,column:17}},{start:{line:164,column:16},end:{line:167,column:17}}],line:164},"10":{loc:{start:{line:164,column:20},end:{line:165,column:30}},type:"binary-expr",locations:[{start:{line:164,column:20},end:{line:164,column:76}},{start:{line:165,column:20},end:{line:165,column:30}}],line:164},"11":{loc:{start:{line:168,column:16},end:{line:171,column:17}},type:"if",locations:[{start:{line:168,column:16},end:{line:171,column:17}},{start:{line:168,column:16},end:{line:171,column:17}}],line:168},"12":{loc:{start:{line:168,column:20},end:{line:169,column:30}},type:"binary-expr",locations:[{start:{line:168,column:20},end:{line:168,column:100}},{start:{line:169,column:20},end:{line:169,column:30}}],line:168},"13":{loc:{start:{line:168,column:58},end:{line:168,column:99}},type:"binary-expr",locations:[{start:{line:168,column:58},end:{line:168,column:74}},{start:{line:168,column:78},end:{line:168,column:99}}],line:168},"14":{loc:{start:{line:195,column:16},end:{line:196,column:52}},type:"if",locations:[{start:{line:195,column:16},end:{line:196,column:52}},{start:{line:195,column:16},end:{line:196,column:52}}],line:195},"15":{loc:{start:{line:200,column:16},end:{line:208,column:17}},type:"if",locations:[{start:{line:200,column:16},end:{line:208,column:17}},{start:{line:200,column:16},end:{line:208,column:17}}],line:200},"16":{loc:{start:{line:200,column:20},end:{line:201,column:44}},type:"binary-expr",locations:[{start:{line:200,column:20},end:{line:200,column:53}},{start:{line:201,column:20},end:{line:201,column:44}}],line:200},"17":{loc:{start:{line:224,column:16},end:{line:227,column:17}},type:"if",locations:[{start:{line:224,column:16},end:{line:227,column:17}},{start:{line:224,column:16},end:{line:227,column:17}}],line:224},"18":{loc:{start:{line:224,column:20},end:{line:224,column:48}},type:"binary-expr",locations:[{start:{line:224,column:20},end:{line:224,column:31}},{start:{line:224,column:35},end:{line:224,column:48}}],line:224},"19":{loc:{start:{line:234,column:16},end:{line:236,column:17}},type:"if",locations:[{start:{line:234,column:16},end:{line:236,column:17}},{start:{line:234,column:16},end:{line:236,column:17}}],line:234},"20":{loc:{start:{line:237,column:16},end:{line:239,column:17}},type:"if",locations:[{start:{line:237,column:16},end:{line:239,column:17}},{start:{line:237,column:16},end:{line:239,column:17}}],line:237},"21":{loc:{start:{line:263,column:16},end:{line:267,column:17}},type:"if",locations:[{start:{line:263,column:16},end:{line:267,column:17}},{start:{line:263,column:16},end:{line:267,column:17}}],line:263},"22":{loc:{start:{line:286,column:20},end:{line:293,column:21}},type:"if",locations:[{start:{line:286,column:20},end:{line:293,column:21}},{start:{line:286,column:20},end:{line:293,column:21}}],line:286},"23":{loc:{start:{line:301,column:8},end:{line:303,column:9}},type:"if",locations:[{start:{line:301,column:8},end:{line:303,column:9}},{start:{line:301,column:8},end:{line:303,column:9}}],line:301}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0]},inputSourceMap:{version:3,file:"/home/nemo/work/github/typeorm-model-generator/src/drivers/SqliteDriver.ts",sources:["/home/nemo/work/github/typeorm-model-generator/src/drivers/SqliteDriver.ts"],names:[],mappings:"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",sourcesContent:["import { ConnectionOptions } from \"typeorm\";\nimport * as TypeormDriver from \"typeorm/driver/sqlite/SqliteDriver\";\nimport { DataTypeDefaults } from \"typeorm/driver/types/DataTypeDefaults\";\nimport type * as sqliteLib from \"sqlite3\";\nimport * as TomgUtils from \"../Utils\";\nimport AbstractDriver from \"./AbstractDriver\";\nimport IConnectionOptions from \"../IConnectionOptions\";\nimport { Entity } from \"../models/Entity\";\nimport { Column } from \"../models/Column\";\nimport { Index } from \"../models/Index\";\nimport IGenerationOptions from \"../IGenerationOptions\";\nimport { RelationInternal } from \"../models/RelationInternal\";\n\nexport default class SqliteDriver extends AbstractDriver {\n    public defaultValues: DataTypeDefaults = new TypeormDriver.SqliteDriver({\n        options: { database: \"true\" } as ConnectionOptions,\n    } as any).dataTypeDefaults;\n\n    public readonly standardPort = 0;\n\n    public readonly standardUser = \"\";\n\n    public readonly standardSchema = \"\";\n\n    private sqliteLib: typeof sqliteLib;\n\n    private sqlite: sqliteLib.sqlite3;\n\n    private db: sqliteLib.Database;\n\n    private tablesWithGeneratedPrimaryKey: string[] = new Array<string>();\n\n    public GetAllTablesQuery: any;\n\n    public constructor() {\n        super();\n        try {\n            // eslint-disable-next-line import/no-extraneous-dependencies, global-require, import/no-unresolved\n            this.sqliteLib = require(\"sqlite3\");\n            this.sqlite = this.sqliteLib.verbose();\n        } catch (error) {\n            TomgUtils.LogError(\"\", false, error);\n            throw error;\n        }\n    }\n\n    public async GetAllTables(\n        schema: string,\n        dbNames: string,\n        tableNames: string[]\n    ): Promise<Entity[]> {\n        const ret: Entity[] = [] as Entity[];\n        const tableCondition =\n            tableNames.length > 0\n                ? ` AND NOT tbl_name IN ('${tableNames.join(\"','\")}')`\n                : \"\";\n        const rows = await this.ExecQuery<{ tbl_name: string; sql: string }>(\n            `SELECT tbl_name, sql FROM \"sqlite_master\" WHERE \"type\" = 'table'  AND name NOT LIKE 'sqlite_%' ${tableCondition}`\n        );\n        rows.forEach((val) => {\n            if (val.sql.includes(\"AUTOINCREMENT\")) {\n                this.tablesWithGeneratedPrimaryKey.push(val.tbl_name);\n            }\n            ret.push({\n                columns: [],\n                indices: [],\n                relations: [],\n                relationIds: [],\n                sqlName: val.tbl_name,\n                tscName: val.tbl_name,\n                fileImports: [],\n            });\n        });\n        return ret;\n    }\n\n    public async GetCoulmnsFromEntity(entities: Entity[]): Promise<Entity[]> {\n        await Promise.all(\n            entities.map(async (ent) => {\n                const response = await this.ExecQuery<{\n                    cid: number;\n                    name: string;\n                    type: string;\n                    notnull: number;\n                    dflt_value: string;\n                    pk: number;\n                }>(`PRAGMA table_info('${ent.tscName}');`);\n                response.forEach((resp) => {\n                    const tscName = resp.name;\n                    let tscType = \"\";\n                    const options: Column[\"options\"] = { name: resp.name };\n                    if (resp.notnull === 0) options.nullable = true;\n                    const isPrimary = resp.pk > 0 ? true : undefined;\n                    const defaultValue = SqliteDriver.ReturnDefaultValueFunction(\n                        resp.dflt_value\n                    );\n                    const columnType = resp.type\n                        .replace(/\\([0-9 ,]+\\)/g, \"\")\n                        .toLowerCase()\n                        .trim();\n                    const generated =\n                        isPrimary &&\n                        this.tablesWithGeneratedPrimaryKey.includes(ent.tscName)\n                            ? true\n                            : undefined;\n                    switch (columnType) {\n                        case \"int\":\n                            tscType = \"number\";\n                            break;\n                        case \"integer\":\n                            tscType = \"number\";\n                            break;\n                        case \"int2\":\n                            tscType = \"number\";\n                            break;\n                        case \"int8\":\n                            tscType = \"number\";\n                            break;\n                        case \"tinyint\":\n                            tscType = \"number\";\n                            break;\n                        case \"smallint\":\n                            tscType = \"number\";\n                            break;\n                        case \"mediumint\":\n                            tscType = \"number\";\n                            break;\n                        case \"bigint\":\n                            tscType = \"string\";\n                            break;\n                        case \"unsigned big int\":\n                            tscType = \"string\";\n                            break;\n                        case \"character\":\n                            tscType = \"string\";\n                            break;\n                        case \"varchar\":\n                            tscType = \"string\";\n                            break;\n                        case \"varying character\":\n                            tscType = \"string\";\n                            break;\n                        case \"nchar\":\n                            tscType = \"string\";\n                            break;\n                        case \"native character\":\n                            tscType = \"string\";\n                            break;\n                        case \"nvarchar\":\n                            tscType = \"string\";\n                            break;\n                        case \"text\":\n                            tscType = \"string\";\n                            break;\n                        case \"blob\":\n                            tscType = \"Buffer\";\n                            break;\n                        case \"clob\":\n                            tscType = \"string\";\n                            break;\n                        case \"real\":\n                            tscType = \"number\";\n                            break;\n                        case \"double\":\n                            tscType = \"number\";\n                            break;\n                        case \"double precision\":\n                            tscType = \"number\";\n                            break;\n                        case \"float\":\n                            tscType = \"number\";\n                            break;\n                        case \"numeric\":\n                            tscType = \"number\";\n                            break;\n                        case \"decimal\":\n                            tscType = \"number\";\n                            break;\n                        case \"boolean\":\n                            tscType = \"boolean\";\n                            break;\n                        case \"date\":\n                            tscType = \"string\";\n                            break;\n                        case \"datetime\":\n                            tscType = \"Date\";\n                            break;\n                        default:\n                            tscType = \"NonNullable<unknown>\";\n                            TomgUtils.LogError(\n                                `Unknown column type: ${columnType}  table name: ${ent.tscName} column name: ${resp.name}`\n                            );\n                            break;\n                    }\n                    const sqlOptions = resp.type.match(/\\([0-9 ,]+\\)/g);\n                    if (\n                        this.ColumnTypesWithPrecision.some(\n                            (v) => v === columnType\n                        ) &&\n                        sqlOptions\n                    ) {\n                        options.precision = Number.parseInt(\n                            sqlOptions[0]\n                                .substring(1, sqlOptions[0].length - 1)\n                                .split(\",\")[0],\n                            10\n                        );\n                        options.scale = Number.parseInt(\n                            sqlOptions[0]\n                                .substring(1, sqlOptions[0].length - 1)\n                                .split(\",\")[1],\n                            10\n                        );\n                    }\n                    if (\n                        this.ColumnTypesWithLength.some(\n                            (v) => v === columnType\n                        ) &&\n                        sqlOptions\n                    ) {\n                        options.length = Number.parseInt(\n                            sqlOptions[0].substring(\n                                1,\n                                sqlOptions[0].length - 1\n                            ),\n                            10\n                        );\n                    }\n                    if (\n                        this.ColumnTypesWithWidth.some(\n                            (v) => v === columnType && tscType !== \"boolean\"\n                        ) &&\n                        sqlOptions\n                    ) {\n                        options.width = Number.parseInt(\n                            sqlOptions[0].substring(\n                                1,\n                                sqlOptions[0].length - 1\n                            ),\n                            10\n                        );\n                    }\n\n                    ent.columns.push({\n                        generated,\n                        primary: isPrimary,\n                        type: columnType,\n                        default: defaultValue,\n                        options,\n                        tscName,\n                        tscType,\n                    });\n                });\n            })\n        );\n\n        return entities;\n    }\n\n    public async GetIndexesFromEntity(entities: Entity[]): Promise<Entity[]> {\n        await Promise.all(\n            entities.map(async (ent) => {\n                const response = await this.ExecQuery<{\n                    seq: number;\n                    name: string;\n                    unique: number;\n                    origin: string;\n                    partial: number;\n                }>(`PRAGMA index_list('${ent.tscName}');`);\n                await Promise.all(\n                    response.map(async (resp) => {\n                        const indexColumnsResponse = await this.ExecQuery<{\n                            seqno: number;\n                            cid: number;\n                            name: string;\n                        }>(`PRAGMA index_info('${resp.name}');`);\n\n                        const indexInfo: Index = {\n                            name: resp.name,\n                            columns: [],\n                            options: {},\n                        };\n                        if (resp.unique === 1) indexInfo.options.unique = true;\n\n                        indexColumnsResponse.forEach((record) => {\n                            indexInfo.columns.push(record.name);\n                        });\n                        if (\n                            indexColumnsResponse.length === 1 &&\n                            indexInfo.options.unique\n                        ) {\n                            ent.columns\n                                .filter(\n                                    (v) => v.tscName === indexInfo.columns[0]\n                                )\n                                .forEach((v) => {\n                                    // eslint-disable-next-line no-param-reassign\n                                    v.options.unique = true;\n                                });\n                        }\n                        ent.indices.push(indexInfo);\n                    })\n                );\n            })\n        );\n\n        return entities;\n    }\n\n    public async GetRelations(\n        entities: Entity[],\n        schema: string,\n        dbNames: string,\n        generationOptions: IGenerationOptions\n    ): Promise<Entity[]> {\n        let retVal = entities;\n        await Promise.all(\n            retVal.map(async (entity) => {\n                const response = await this.ExecQuery<{\n                    id: number;\n                    seq: number;\n                    table: string;\n                    from: string;\n                    to: string;\n                    on_update:\n                        | \"RESTRICT\"\n                        | \"CASCADE\"\n                        | \"SET NULL\"\n                        | \"NO ACTION\";\n                    on_delete:\n                        | \"RESTRICT\"\n                        | \"CASCADE\"\n                        | \"SET NULL\"\n                        | \"NO ACTION\";\n                    match: string;\n                }>(`PRAGMA foreign_key_list('${entity.tscName}');`);\n\n                const relationsTemp: RelationInternal[] = [] as RelationInternal[];\n                const relationKeys = new Set(response.map((v) => v.id));\n\n                relationKeys.forEach((relationId) => {\n                    const rows = response.filter((v) => v.id === relationId);\n                    const ownerTable = entities.find(\n                        (v) => v.sqlName === entity.tscName\n                    );\n                    const relatedTable = entities.find(\n                        (v) => v.sqlName === rows[0].table\n                    );\n                    if (!ownerTable || !relatedTable) {\n                        TomgUtils.LogError(\n                            `Relation between tables ${entity.tscName} and ${rows[0].table} wasn't found in entity model.`,\n                            true\n                        );\n                        return;\n                    }\n                    const internal: RelationInternal = {\n                        ownerColumns: [],\n                        relatedColumns: [],\n                        ownerTable,\n                        relatedTable,\n                    };\n                    if (rows[0].on_delete !== \"NO ACTION\") {\n                        internal.onDelete = rows[0].on_delete;\n                    }\n                    if (rows[0].on_update !== \"NO ACTION\") {\n                        internal.onUpdate = rows[0].on_update;\n                    }\n                    rows.forEach((row) => {\n                        internal.ownerColumns.push(row.from);\n                        internal.relatedColumns.push(row.to);\n                    });\n                    relationsTemp.push(internal);\n                });\n\n                retVal = SqliteDriver.GetRelationsFromRelationTempInfo(\n                    relationsTemp,\n                    retVal,\n                    generationOptions\n                );\n            })\n        );\n        return retVal;\n    }\n\n    public async DisconnectFromServer() {\n        this.db.close();\n    }\n\n    public async ConnectToServer(connectionOptons: IConnectionOptions) {\n        await this.UseDB(connectionOptons.databaseName);\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    public async CreateDB() {\n        // not supported\n    }\n\n    public async UseDB(dbName: string) {\n        const promise = new Promise<boolean>((resolve, reject) => {\n            this.db = new this.sqlite.Database(dbName, (err) => {\n                if (err) {\n                    TomgUtils.LogError(\n                        \"Error connecting to SQLite database.\",\n                        false,\n                        err.message\n                    );\n                    reject(err);\n                    return;\n                }\n                resolve();\n            });\n        });\n        return promise;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    public async DropDB() {\n        // not supported\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    public async CheckIfDBExists(): Promise<boolean> {\n        return true;\n    }\n\n    public async ExecQuery<T>(sql: string): Promise<T[]> {\n        let ret: T[] = [];\n        const promise = new Promise<boolean>((resolve, reject) => {\n            this.db.serialize(() => {\n                this.db.all(sql, [], (err, row) => {\n                    if (!err) {\n                        ret = row;\n                        resolve(true);\n                    } else {\n                        TomgUtils.LogError(\n                            \"Error executing query on SQLite.\",\n                            false,\n                            err.message\n                        );\n                        reject(err);\n                    }\n                });\n            });\n        });\n        await promise;\n        return ret;\n    }\n\n    private static ReturnDefaultValueFunction(\n        defVal: string | null\n    ): string | undefined {\n        if (!defVal) {\n            return undefined;\n        }\n\n        return `() => \"${defVal}\"`;\n    }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7c4775b33ffe765e20151cf76f66582014ccad33"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_1up9qyasv9=function(){return actualCoverage;};return actualCoverage;}cov_1up9qyasv9();cov_1up9qyasv9().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});const TypeormDriver=(cov_1up9qyasv9().s[1]++,require("typeorm/driver/sqlite/SqliteDriver"));const TomgUtils=(cov_1up9qyasv9().s[2]++,require("../Utils"));const AbstractDriver_1=(cov_1up9qyasv9().s[3]++,require("./AbstractDriver"));class SqliteDriver extends(AbstractDriver_1.default){constructor(){cov_1up9qyasv9().f[0]++;cov_1up9qyasv9().s[4]++;super();cov_1up9qyasv9().s[5]++;this.defaultValues=new TypeormDriver.SqliteDriver({options:{database:"true"}}).dataTypeDefaults;cov_1up9qyasv9().s[6]++;this.standardPort=0;cov_1up9qyasv9().s[7]++;this.standardUser="";cov_1up9qyasv9().s[8]++;this.standardSchema="";cov_1up9qyasv9().s[9]++;this.tablesWithGeneratedPrimaryKey=new Array();cov_1up9qyasv9().s[10]++;try{cov_1up9qyasv9().s[11]++;// eslint-disable-next-line import/no-extraneous-dependencies, global-require, import/no-unresolved
this.sqliteLib=require("sqlite3");cov_1up9qyasv9().s[12]++;this.sqlite=this.sqliteLib.verbose();}catch(error){cov_1up9qyasv9().s[13]++;TomgUtils.LogError("",false,error);cov_1up9qyasv9().s[14]++;throw error;}}async GetAllTables(schema,dbNames,tableNames){cov_1up9qyasv9().f[1]++;const ret=(cov_1up9qyasv9().s[15]++,[]);const tableCondition=(cov_1up9qyasv9().s[16]++,tableNames.length>0?(cov_1up9qyasv9().b[0][0]++,` AND NOT tbl_name IN ('${tableNames.join("','")}')`):(cov_1up9qyasv9().b[0][1]++,""));const rows=(cov_1up9qyasv9().s[17]++,await this.ExecQuery(`SELECT tbl_name, sql FROM "sqlite_master" WHERE "type" = 'table'  AND name NOT LIKE 'sqlite_%' ${tableCondition}`));cov_1up9qyasv9().s[18]++;rows.forEach(val=>{cov_1up9qyasv9().f[2]++;cov_1up9qyasv9().s[19]++;if(val.sql.includes("AUTOINCREMENT")){cov_1up9qyasv9().b[1][0]++;cov_1up9qyasv9().s[20]++;this.tablesWithGeneratedPrimaryKey.push(val.tbl_name);}else{cov_1up9qyasv9().b[1][1]++;}cov_1up9qyasv9().s[21]++;ret.push({columns:[],indices:[],relations:[],relationIds:[],sqlName:val.tbl_name,tscName:val.tbl_name,fileImports:[]});});cov_1up9qyasv9().s[22]++;return ret;}async GetCoulmnsFromEntity(entities){cov_1up9qyasv9().f[3]++;cov_1up9qyasv9().s[23]++;await Promise.all(entities.map(async ent=>{cov_1up9qyasv9().f[4]++;const response=(cov_1up9qyasv9().s[24]++,await this.ExecQuery(`PRAGMA table_info('${ent.tscName}');`));cov_1up9qyasv9().s[25]++;response.forEach(resp=>{cov_1up9qyasv9().f[5]++;const tscName=(cov_1up9qyasv9().s[26]++,resp.name);let tscType=(cov_1up9qyasv9().s[27]++,"");const options=(cov_1up9qyasv9().s[28]++,{name:resp.name});cov_1up9qyasv9().s[29]++;if(resp.notnull===0){cov_1up9qyasv9().b[2][0]++;cov_1up9qyasv9().s[30]++;options.nullable=true;}else{cov_1up9qyasv9().b[2][1]++;}const isPrimary=(cov_1up9qyasv9().s[31]++,resp.pk>0?(cov_1up9qyasv9().b[3][0]++,true):(cov_1up9qyasv9().b[3][1]++,undefined));const defaultValue=(cov_1up9qyasv9().s[32]++,SqliteDriver.ReturnDefaultValueFunction(resp.dflt_value));const columnType=(cov_1up9qyasv9().s[33]++,resp.type.replace(/\([0-9 ,]+\)/g,"").toLowerCase().trim());const generated=(cov_1up9qyasv9().s[34]++,(cov_1up9qyasv9().b[5][0]++,isPrimary)&&(cov_1up9qyasv9().b[5][1]++,this.tablesWithGeneratedPrimaryKey.includes(ent.tscName))?(cov_1up9qyasv9().b[4][0]++,true):(cov_1up9qyasv9().b[4][1]++,undefined));cov_1up9qyasv9().s[35]++;switch(columnType){case"int":cov_1up9qyasv9().b[6][0]++;cov_1up9qyasv9().s[36]++;tscType="number";cov_1up9qyasv9().s[37]++;break;case"integer":cov_1up9qyasv9().b[6][1]++;cov_1up9qyasv9().s[38]++;tscType="number";cov_1up9qyasv9().s[39]++;break;case"int2":cov_1up9qyasv9().b[6][2]++;cov_1up9qyasv9().s[40]++;tscType="number";cov_1up9qyasv9().s[41]++;break;case"int8":cov_1up9qyasv9().b[6][3]++;cov_1up9qyasv9().s[42]++;tscType="number";cov_1up9qyasv9().s[43]++;break;case"tinyint":cov_1up9qyasv9().b[6][4]++;cov_1up9qyasv9().s[44]++;tscType="number";cov_1up9qyasv9().s[45]++;break;case"smallint":cov_1up9qyasv9().b[6][5]++;cov_1up9qyasv9().s[46]++;tscType="number";cov_1up9qyasv9().s[47]++;break;case"mediumint":cov_1up9qyasv9().b[6][6]++;cov_1up9qyasv9().s[48]++;tscType="number";cov_1up9qyasv9().s[49]++;break;case"bigint":cov_1up9qyasv9().b[6][7]++;cov_1up9qyasv9().s[50]++;tscType="string";cov_1up9qyasv9().s[51]++;break;case"unsigned big int":cov_1up9qyasv9().b[6][8]++;cov_1up9qyasv9().s[52]++;tscType="string";cov_1up9qyasv9().s[53]++;break;case"character":cov_1up9qyasv9().b[6][9]++;cov_1up9qyasv9().s[54]++;tscType="string";cov_1up9qyasv9().s[55]++;break;case"varchar":cov_1up9qyasv9().b[6][10]++;cov_1up9qyasv9().s[56]++;tscType="string";cov_1up9qyasv9().s[57]++;break;case"varying character":cov_1up9qyasv9().b[6][11]++;cov_1up9qyasv9().s[58]++;tscType="string";cov_1up9qyasv9().s[59]++;break;case"nchar":cov_1up9qyasv9().b[6][12]++;cov_1up9qyasv9().s[60]++;tscType="string";cov_1up9qyasv9().s[61]++;break;case"native character":cov_1up9qyasv9().b[6][13]++;cov_1up9qyasv9().s[62]++;tscType="string";cov_1up9qyasv9().s[63]++;break;case"nvarchar":cov_1up9qyasv9().b[6][14]++;cov_1up9qyasv9().s[64]++;tscType="string";cov_1up9qyasv9().s[65]++;break;case"text":cov_1up9qyasv9().b[6][15]++;cov_1up9qyasv9().s[66]++;tscType="string";cov_1up9qyasv9().s[67]++;break;case"blob":cov_1up9qyasv9().b[6][16]++;cov_1up9qyasv9().s[68]++;tscType="Buffer";cov_1up9qyasv9().s[69]++;break;case"clob":cov_1up9qyasv9().b[6][17]++;cov_1up9qyasv9().s[70]++;tscType="string";cov_1up9qyasv9().s[71]++;break;case"real":cov_1up9qyasv9().b[6][18]++;cov_1up9qyasv9().s[72]++;tscType="number";cov_1up9qyasv9().s[73]++;break;case"double":cov_1up9qyasv9().b[6][19]++;cov_1up9qyasv9().s[74]++;tscType="number";cov_1up9qyasv9().s[75]++;break;case"double precision":cov_1up9qyasv9().b[6][20]++;cov_1up9qyasv9().s[76]++;tscType="number";cov_1up9qyasv9().s[77]++;break;case"float":cov_1up9qyasv9().b[6][21]++;cov_1up9qyasv9().s[78]++;tscType="number";cov_1up9qyasv9().s[79]++;break;case"numeric":cov_1up9qyasv9().b[6][22]++;cov_1up9qyasv9().s[80]++;tscType="number";cov_1up9qyasv9().s[81]++;break;case"decimal":cov_1up9qyasv9().b[6][23]++;cov_1up9qyasv9().s[82]++;tscType="number";cov_1up9qyasv9().s[83]++;break;case"boolean":cov_1up9qyasv9().b[6][24]++;cov_1up9qyasv9().s[84]++;tscType="boolean";cov_1up9qyasv9().s[85]++;break;case"date":cov_1up9qyasv9().b[6][25]++;cov_1up9qyasv9().s[86]++;tscType="string";cov_1up9qyasv9().s[87]++;break;case"datetime":cov_1up9qyasv9().b[6][26]++;cov_1up9qyasv9().s[88]++;tscType="Date";cov_1up9qyasv9().s[89]++;break;default:cov_1up9qyasv9().b[6][27]++;cov_1up9qyasv9().s[90]++;tscType="NonNullable<unknown>";cov_1up9qyasv9().s[91]++;TomgUtils.LogError(`Unknown column type: ${columnType}  table name: ${ent.tscName} column name: ${resp.name}`);cov_1up9qyasv9().s[92]++;break;}const sqlOptions=(cov_1up9qyasv9().s[93]++,resp.type.match(/\([0-9 ,]+\)/g));cov_1up9qyasv9().s[94]++;if((cov_1up9qyasv9().b[8][0]++,this.ColumnTypesWithPrecision.some(v=>{cov_1up9qyasv9().f[6]++;cov_1up9qyasv9().s[95]++;return v===columnType;}))&&(cov_1up9qyasv9().b[8][1]++,sqlOptions)){cov_1up9qyasv9().b[7][0]++;cov_1up9qyasv9().s[96]++;options.precision=Number.parseInt(sqlOptions[0].substring(1,sqlOptions[0].length-1).split(",")[0],10);cov_1up9qyasv9().s[97]++;options.scale=Number.parseInt(sqlOptions[0].substring(1,sqlOptions[0].length-1).split(",")[1],10);}else{cov_1up9qyasv9().b[7][1]++;}cov_1up9qyasv9().s[98]++;if((cov_1up9qyasv9().b[10][0]++,this.ColumnTypesWithLength.some(v=>{cov_1up9qyasv9().f[7]++;cov_1up9qyasv9().s[99]++;return v===columnType;}))&&(cov_1up9qyasv9().b[10][1]++,sqlOptions)){cov_1up9qyasv9().b[9][0]++;cov_1up9qyasv9().s[100]++;options.length=Number.parseInt(sqlOptions[0].substring(1,sqlOptions[0].length-1),10);}else{cov_1up9qyasv9().b[9][1]++;}cov_1up9qyasv9().s[101]++;if((cov_1up9qyasv9().b[12][0]++,this.ColumnTypesWithWidth.some(v=>{cov_1up9qyasv9().f[8]++;cov_1up9qyasv9().s[102]++;return(cov_1up9qyasv9().b[13][0]++,v===columnType)&&(cov_1up9qyasv9().b[13][1]++,tscType!=="boolean");}))&&(cov_1up9qyasv9().b[12][1]++,sqlOptions)){cov_1up9qyasv9().b[11][0]++;cov_1up9qyasv9().s[103]++;options.width=Number.parseInt(sqlOptions[0].substring(1,sqlOptions[0].length-1),10);}else{cov_1up9qyasv9().b[11][1]++;}cov_1up9qyasv9().s[104]++;ent.columns.push({generated,primary:isPrimary,type:columnType,default:defaultValue,options,tscName,tscType});});}));cov_1up9qyasv9().s[105]++;return entities;}async GetIndexesFromEntity(entities){cov_1up9qyasv9().f[9]++;cov_1up9qyasv9().s[106]++;await Promise.all(entities.map(async ent=>{cov_1up9qyasv9().f[10]++;const response=(cov_1up9qyasv9().s[107]++,await this.ExecQuery(`PRAGMA index_list('${ent.tscName}');`));cov_1up9qyasv9().s[108]++;await Promise.all(response.map(async resp=>{cov_1up9qyasv9().f[11]++;const indexColumnsResponse=(cov_1up9qyasv9().s[109]++,await this.ExecQuery(`PRAGMA index_info('${resp.name}');`));const indexInfo=(cov_1up9qyasv9().s[110]++,{name:resp.name,columns:[],options:{}});cov_1up9qyasv9().s[111]++;if(resp.unique===1){cov_1up9qyasv9().b[14][0]++;cov_1up9qyasv9().s[112]++;indexInfo.options.unique=true;}else{cov_1up9qyasv9().b[14][1]++;}cov_1up9qyasv9().s[113]++;indexColumnsResponse.forEach(record=>{cov_1up9qyasv9().f[12]++;cov_1up9qyasv9().s[114]++;indexInfo.columns.push(record.name);});cov_1up9qyasv9().s[115]++;if((cov_1up9qyasv9().b[16][0]++,indexColumnsResponse.length===1)&&(cov_1up9qyasv9().b[16][1]++,indexInfo.options.unique)){cov_1up9qyasv9().b[15][0]++;cov_1up9qyasv9().s[116]++;ent.columns.filter(v=>{cov_1up9qyasv9().f[13]++;cov_1up9qyasv9().s[117]++;return v.tscName===indexInfo.columns[0];}).forEach(v=>{cov_1up9qyasv9().f[14]++;cov_1up9qyasv9().s[118]++;// eslint-disable-next-line no-param-reassign
v.options.unique=true;});}else{cov_1up9qyasv9().b[15][1]++;}cov_1up9qyasv9().s[119]++;ent.indices.push(indexInfo);}));}));cov_1up9qyasv9().s[120]++;return entities;}async GetRelations(entities,schema,dbNames,generationOptions){cov_1up9qyasv9().f[15]++;let retVal=(cov_1up9qyasv9().s[121]++,entities);cov_1up9qyasv9().s[122]++;await Promise.all(retVal.map(async entity=>{cov_1up9qyasv9().f[16]++;const response=(cov_1up9qyasv9().s[123]++,await this.ExecQuery(`PRAGMA foreign_key_list('${entity.tscName}');`));const relationsTemp=(cov_1up9qyasv9().s[124]++,[]);const relationKeys=(cov_1up9qyasv9().s[125]++,new Set(response.map(v=>{cov_1up9qyasv9().f[17]++;cov_1up9qyasv9().s[126]++;return v.id;})));cov_1up9qyasv9().s[127]++;relationKeys.forEach(relationId=>{cov_1up9qyasv9().f[18]++;const rows=(cov_1up9qyasv9().s[128]++,response.filter(v=>{cov_1up9qyasv9().f[19]++;cov_1up9qyasv9().s[129]++;return v.id===relationId;}));const ownerTable=(cov_1up9qyasv9().s[130]++,entities.find(v=>{cov_1up9qyasv9().f[20]++;cov_1up9qyasv9().s[131]++;return v.sqlName===entity.tscName;}));const relatedTable=(cov_1up9qyasv9().s[132]++,entities.find(v=>{cov_1up9qyasv9().f[21]++;cov_1up9qyasv9().s[133]++;return v.sqlName===rows[0].table;}));cov_1up9qyasv9().s[134]++;if((cov_1up9qyasv9().b[18][0]++,!ownerTable)||(cov_1up9qyasv9().b[18][1]++,!relatedTable)){cov_1up9qyasv9().b[17][0]++;cov_1up9qyasv9().s[135]++;TomgUtils.LogError(`Relation between tables ${entity.tscName} and ${rows[0].table} wasn't found in entity model.`,true);cov_1up9qyasv9().s[136]++;return;}else{cov_1up9qyasv9().b[17][1]++;}const internal=(cov_1up9qyasv9().s[137]++,{ownerColumns:[],relatedColumns:[],ownerTable,relatedTable});cov_1up9qyasv9().s[138]++;if(rows[0].on_delete!=="NO ACTION"){cov_1up9qyasv9().b[19][0]++;cov_1up9qyasv9().s[139]++;internal.onDelete=rows[0].on_delete;}else{cov_1up9qyasv9().b[19][1]++;}cov_1up9qyasv9().s[140]++;if(rows[0].on_update!=="NO ACTION"){cov_1up9qyasv9().b[20][0]++;cov_1up9qyasv9().s[141]++;internal.onUpdate=rows[0].on_update;}else{cov_1up9qyasv9().b[20][1]++;}cov_1up9qyasv9().s[142]++;rows.forEach(row=>{cov_1up9qyasv9().f[22]++;cov_1up9qyasv9().s[143]++;internal.ownerColumns.push(row.from);cov_1up9qyasv9().s[144]++;internal.relatedColumns.push(row.to);});cov_1up9qyasv9().s[145]++;relationsTemp.push(internal);});cov_1up9qyasv9().s[146]++;retVal=SqliteDriver.GetRelationsFromRelationTempInfo(relationsTemp,retVal,generationOptions);}));cov_1up9qyasv9().s[147]++;return retVal;}async DisconnectFromServer(){cov_1up9qyasv9().f[23]++;cov_1up9qyasv9().s[148]++;this.db.close();}async ConnectToServer(connectionOptons){cov_1up9qyasv9().f[24]++;cov_1up9qyasv9().s[149]++;await this.UseDB(connectionOptons.databaseName);}// eslint-disable-next-line class-methods-use-this
async CreateDB(){// not supported
cov_1up9qyasv9().f[25]++;}async UseDB(dbName){cov_1up9qyasv9().f[26]++;const promise=(cov_1up9qyasv9().s[150]++,new Promise((resolve,reject)=>{cov_1up9qyasv9().f[27]++;cov_1up9qyasv9().s[151]++;this.db=new this.sqlite.Database(dbName,err=>{cov_1up9qyasv9().f[28]++;cov_1up9qyasv9().s[152]++;if(err){cov_1up9qyasv9().b[21][0]++;cov_1up9qyasv9().s[153]++;TomgUtils.LogError("Error connecting to SQLite database.",false,err.message);cov_1up9qyasv9().s[154]++;reject(err);cov_1up9qyasv9().s[155]++;return;}else{cov_1up9qyasv9().b[21][1]++;}cov_1up9qyasv9().s[156]++;resolve();});}));cov_1up9qyasv9().s[157]++;return promise;}// eslint-disable-next-line class-methods-use-this
async DropDB(){cov_1up9qyasv9().f[29]++;}// not supported
// eslint-disable-next-line class-methods-use-this
async CheckIfDBExists(){cov_1up9qyasv9().f[30]++;cov_1up9qyasv9().s[158]++;return true;}async ExecQuery(sql){cov_1up9qyasv9().f[31]++;let ret=(cov_1up9qyasv9().s[159]++,[]);const promise=(cov_1up9qyasv9().s[160]++,new Promise((resolve,reject)=>{cov_1up9qyasv9().f[32]++;cov_1up9qyasv9().s[161]++;this.db.serialize(()=>{cov_1up9qyasv9().f[33]++;cov_1up9qyasv9().s[162]++;this.db.all(sql,[],(err,row)=>{cov_1up9qyasv9().f[34]++;cov_1up9qyasv9().s[163]++;if(!err){cov_1up9qyasv9().b[22][0]++;cov_1up9qyasv9().s[164]++;ret=row;cov_1up9qyasv9().s[165]++;resolve(true);}else{cov_1up9qyasv9().b[22][1]++;cov_1up9qyasv9().s[166]++;TomgUtils.LogError("Error executing query on SQLite.",false,err.message);cov_1up9qyasv9().s[167]++;reject(err);}});});}));cov_1up9qyasv9().s[168]++;await promise;cov_1up9qyasv9().s[169]++;return ret;}static ReturnDefaultValueFunction(defVal){cov_1up9qyasv9().f[35]++;cov_1up9qyasv9().s[170]++;if(!defVal){cov_1up9qyasv9().b[23][0]++;cov_1up9qyasv9().s[171]++;return undefined;}else{cov_1up9qyasv9().b[23][1]++;}cov_1up9qyasv9().s[172]++;return`() => "${defVal}"`;}}cov_1up9qyasv9().s[173]++;exports.default=SqliteDriver;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvbmVtby93b3JrL2dpdGh1Yi90eXBlb3JtLW1vZGVsLWdlbmVyYXRvci9zcmMvZHJpdmVycy9TcWxpdGVEcml2ZXIudHMiLCJzb3VyY2VzIjpbIi9ob21lL25lbW8vd29yay9naXRodWIvdHlwZW9ybS1tb2RlbC1nZW5lcmF0b3Ivc3JjL2RyaXZlcnMvU3FsaXRlRHJpdmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0Esb0VBQW9FO0FBR3BFLHNDQUFzQztBQUN0QyxxREFBOEM7QUFROUMsTUFBcUIsWUFBYSxTQUFRLHdCQUFjO0lBcUJwRDtRQUNJLEtBQUssRUFBRSxDQUFDO1FBckJMLGtCQUFhLEdBQXFCLElBQUksYUFBYSxDQUFDLFlBQVksQ0FBQztZQUNwRSxPQUFPLEVBQUUsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUF1QjtTQUM5QyxDQUFDLENBQUMsZ0JBQWdCLENBQUM7UUFFWCxpQkFBWSxHQUFHLENBQUMsQ0FBQztRQUVqQixpQkFBWSxHQUFHLEVBQUUsQ0FBQztRQUVsQixtQkFBYyxHQUFHLEVBQUUsQ0FBQztRQVE1QixrQ0FBNkIsR0FBYSxJQUFJLEtBQUssRUFBVSxDQUFDO1FBTWxFLElBQUk7WUFDQSxtR0FBbUc7WUFDbkcsSUFBSSxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDcEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQzFDO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDWixTQUFTLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDckMsTUFBTSxLQUFLLENBQUM7U0FDZjtJQUNMLENBQUM7SUFFTSxLQUFLLENBQUMsWUFBWSxDQUNyQixNQUFjLEVBQ2QsT0FBZSxFQUNmLFVBQW9CO1FBRXBCLE1BQU0sR0FBRyxHQUFhLEVBQWMsQ0FBQztRQUNyQyxNQUFNLGNBQWMsR0FDaEIsVUFB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O3dCQUNuQixNQUFNO29CQUNWLEtBQUssV0FBVzt3QkFDWixPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssUUFBUTt3QkFDVCxPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssa0JBQWtCO3dCQUNuQixPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssV0FBVzt3QkFDWixPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssU0FBUzt3QkFDVixPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssbUJBQW1CO3dCQUNwQixPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssT0FBTzt3QkFDUixPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssa0JBQWtCO3dCQUNuQixPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssVUFBVTt3QkFDWCxPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssTUFBTTt3QkFDUCxPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssTUFBTTt3QkFDUCxPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssTUFBTTt3QkFDUCxPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssTUFBTTt3QkFDUCxPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssUUFBUTt3QkFDVCxPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssa0JBQWtCO3dCQUNuQixPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssT0FBTzt3QkFDUixPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssU0FBUzt3QkFDVixPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssU0FBUzt3QkFDVixPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssU0FBUzt3QkFDVixPQUFPLEdBQUcsU0FBUyxDQUFDO3dCQUNwQixNQUFNO29CQUNWLEtBQUssTUFBTTt3QkFDUCxPQUFPLEdBQUcsUUFBUSxDQUFDO3dCQUNuQixNQUFNO29CQUNWLEtBQUssVUFBVTt3QkFDWCxPQUFPLEdBQUcsTUFBTSxDQUFDO3dCQUNqQixNQUFNO29CQUNWO3dCQUNJLE9BQU8sR0FBRyxzQkFBc0IsQ0FBQzt3QkFDakMsU0FBUyxDQUFDLFFBQVEsQ0FDZCx3QkFBd0IsVUFBVSxpQkFBaUIsR0FBRyxDQUFDLE9BQU8saUJBQWlCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FDN0YsQ0FBQzt3QkFDRixNQUFNO2lCQUNiO2dCQUNELE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxDQUFDO2dCQUNwRCxJQUNJLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQzlCLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEtBQUssVUFBVSxDQUMxQjtvQkFDRCxVQUFVLEVBQ1o7b0JBQ0UsT0FBTyxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUMvQixVQUFVLENBQUMsQ0FBQyxDQUFDO3lCQUNSLFNBQVMsQ0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7eUJBQ3RDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDbEIsRUFBRSxDQUNMLENBQUM7b0JBQ0YsT0FBTyxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsUUFBUSxDQUMzQixVQUFVLENBQUMsQ0FBQyxDQUFDO3lCQUNSLFNBQVMsQ0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7eUJBQ3RDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDbEIsRUFBRSxDQUNMLENBQUM7aUJBQ0w7Z0JBQ0QsSUFDSSxJQUFJLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUMzQixDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxLQUFLLFVBQVUsQ0FDMUI7b0JBQ0QsVUFBVSxFQUNaO29CQUNFLE9BQU8sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FDNUIsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FDbkIsQ0FBQyxFQUNELFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUMzQixFQUNELEVBQUUsQ0FDTCxDQUFDO2lCQUNMO2dCQUNELElBQ0ksSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FDMUIsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsS0FBSyxVQUFVLElBQUksT0FBTyxLQUFLLFNBQVMsQ0FDbkQ7b0JBQ0QsVUFBVSxFQUNaO29CQUNFLE9BQU8sQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FDM0IsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FDbkIsQ0FBQyxFQUNELFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUMzQixFQUNELEVBQUUsQ0FDTCxDQUFDO2lCQUNMO2dCQUVELEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO29CQUNiLFNBQVM7b0JBQ1QsT0FBTyxFQUFFLFNBQVM7b0JBQ2xCLElBQUksRUFBRSxVQUFVO29CQUNoQixPQUFPLEVBQUUsWUFBWTtvQkFDckIsT0FBTztvQkFDUCxPQUFPO29CQUNQLE9BQU87aUJBQ1YsQ0FBQyxDQUFDO1lBQ1AsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDLENBQUMsQ0FDTCxDQUFDO1FBRUYsT0FBTyxRQUFRLENBQUM7SUFDcEIsQ0FBQztJQUVNLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxRQUFrQjtRQUNoRCxNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQ2IsUUFBUSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUU7WUFDdkIsTUFBTSxRQUFRLEdBQUcsTUFBTSxJQUFJLENBQUMsU0FBUyxDQU1sQyxzQkFBc0IsR0FBRyxDQUFDLE9BQU8sS0FBSyxDQUFDLENBQUM7WUFDM0MsTUFBTSxPQUFPLENBQUMsR0FBRyxDQUNiLFFBQVEsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFO2dCQUN4QixNQUFNLG9CQUFvQixHQUFHLE1BQU0sSUFBSSxDQUFDLFNBQVMsQ0FJOUMsc0JBQXNCLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDO2dCQUV6QyxNQUFNLFNBQVMsR0FBVTtvQkFDckIsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJO29CQUNmLE9BQU8sRUFBRSxFQUFFO29CQUNYLE9BQU8sRUFBRSxFQUFFO2lCQUNkLENBQUM7Z0JBQ0YsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUM7b0JBQUUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO2dCQUV2RCxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRTtvQkFDcEMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN4QyxDQUFDLENBQUMsQ0FBQztnQkFDSCxJQUNJLG9CQUFvQixDQUFDLE1BQU0sS0FBSyxDQUFDO29CQUNqQyxTQUFTLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFDMUI7b0JBQ0UsR0FBRyxDQUFDLE9BQU87eUJBQ04sTUFBTSxDQUNILENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxLQUFLLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQzVDO3lCQUNBLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO3dCQUNYLDZDQUE2Qzt3QkFDN0MsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO29CQUM1QixDQUFDLENBQUMsQ0FBQztpQkFDVjtnQkFDRCxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUNoQyxDQUFDLENBQUMsQ0FDTCxDQUFDO1FBQ04sQ0FBQyxDQUFDLENBQ0wsQ0FBQztRQUVGLE9BQU8sUUFBUSxDQUFDO0lBQ3BCLENBQUM7SUFFTSxLQUFLLENBQUMsWUFBWSxDQUNyQixRQUFrQixFQUNsQixNQUFjLEVBQ2QsT0FBZSxFQUNmLGlCQUFxQztRQUVyQyxJQUFJLE1BQU0sR0FBRyxRQUFRLENBQUM7UUFDdEIsTUFBTSxPQUFPLENBQUMsR0FBRyxDQUNiLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxFQUFFO1lBQ3hCLE1BQU0sUUFBUSxHQUFHLE1BQU0sSUFBSSxDQUFDLFNBQVMsQ0FpQmxDLDRCQUE0QixNQUFNLENBQUMsT0FBTyxLQUFLLENBQUMsQ0FBQztZQUVwRCxNQUFNLGFBQWEsR0FBdUIsRUFBd0IsQ0FBQztZQUNuRSxNQUFNLFlBQVksR0FBRyxJQUFJLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUV4RCxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBVSxFQUFFLEVBQUU7Z0JBQ2hDLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssVUFBVSxDQUFDLENBQUM7Z0JBQ3pELE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQzVCLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxLQUFLLE1BQU0sQ0FBQyxPQUFPLENBQ3RDLENBQUM7Z0JBQ0YsTUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FDOUIsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FDckMsQ0FBQztnQkFDRixJQUFJLENBQUMsVUFBVSxJQUFJLENBQUMsWUFBWSxFQUFFO29CQUM5QixTQUFTLENBQUMsUUFBUSxDQUNkLDJCQUEyQixNQUFNLENBQUMsT0FBTyxRQUFRLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLGdDQUFnQyxFQUM5RixJQUFJLENBQ1AsQ0FBQztvQkFDRixPQUFPO2lCQUNWO2dCQUNELE1BQU0sUUFBUSxHQUFxQjtvQkFDL0IsWUFBWSxFQUFFLEVBQUU7b0JBQ2hCLGNBQWMsRUFBRSxFQUFFO29CQUNsQixVQUFVO29CQUNWLFlBQVk7aUJBQ2YsQ0FBQztnQkFDRixJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLEtBQUssV0FBVyxFQUFFO29CQUNuQyxRQUFRLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7aUJBQ3pDO2dCQUNELElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsS0FBSyxXQUFXLEVBQUU7b0JBQ25DLFFBQVEsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztpQkFDekM7Z0JBQ0QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO29CQUNqQixRQUFRLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ3JDLFFBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDekMsQ0FBQyxDQUFDLENBQUM7Z0JBQ0gsYUFBYSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNqQyxDQUFDLENBQUMsQ0FBQztZQUVILE1BQU0sR0FBRyxZQUFZLENBQUMsZ0NBQWdDLENBQ2xELGFBQWEsRUFDYixNQUFNLEVBQ04saUJBQWlCLENBQ3BCLENBQUM7UUFDTixDQUFDLENBQUMsQ0FDTCxDQUFDO1FBQ0YsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUVNLEtBQUssQ0FBQyxvQkFBb0I7UUFDN0IsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNwQixDQUFDO0lBRU0sS0FBSyxDQUFDLGVBQWUsQ0FBQyxnQkFBb0M7UUFDN0QsTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFRCxrREFBa0Q7SUFDM0MsS0FBSyxDQUFDLFFBQVE7UUFDakIsZ0JBQWdCO0lBQ3BCLENBQUM7SUFFTSxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQWM7UUFDN0IsTUFBTSxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQVUsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUU7WUFDckQsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFO2dCQUMvQyxJQUFJLEdBQUcsRUFBRTtvQkFDTCxTQUFTLENBQUMsUUFBUSxDQUNkLHNDQUFzQyxFQUN0QyxLQUFLLEVBQ0wsR0FBRyxDQUFDLE9BQU8sQ0FDZCxDQUFDO29CQUNGLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDWixPQUFPO2lCQUNWO2dCQUNELE9BQU8sRUFBRSxDQUFDO1lBQ2QsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDLENBQUMsQ0FBQztRQUNILE9BQU8sT0FBTyxDQUFDO0lBQ25CLENBQUM7SUFFRCxrREFBa0Q7SUFDM0MsS0FBSyxDQUFDLE1BQU07UUFDZixnQkFBZ0I7SUFDcEIsQ0FBQztJQUVELGtEQUFrRDtJQUMzQyxLQUFLLENBQUMsZUFBZTtRQUN4QixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sS0FBSyxDQUFDLFNBQVMsQ0FBSSxHQUFXO1FBQ2pDLElBQUksR0FBRyxHQUFRLEVBQUUsQ0FBQztRQUNsQixNQUFNLE9BQU8sR0FBRyxJQUFJLE9BQU8sQ0FBVSxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsRUFBRTtZQUNyRCxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7Z0JBQ25CLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUU7b0JBQzlCLElBQUksQ0FBQyxHQUFHLEVBQUU7d0JBQ04sR0FBRyxHQUFHLEdBQUcsQ0FBQzt3QkFDVixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7cUJBQ2pCO3lCQUFNO3dCQUNILFNBQVMsQ0FBQyxRQUFRLENBQ2Qsa0NBQWtDLEVBQ2xDLEtBQUssRUFDTCxHQUFHLENBQUMsT0FBTyxDQUNkLENBQUM7d0JBQ0YsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO3FCQUNmO2dCQUNMLENBQUMsQ0FBQyxDQUFDO1lBQ1AsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDLENBQUMsQ0FBQztRQUNILE1BQU0sT0FBTyxDQUFDO1FBQ2QsT0FBTyxHQUFHLENBQUM7SUFDZixDQUFDO0lBRU8sTUFBTSxDQUFDLDBCQUEwQixDQUNyQyxNQUFxQjtRQUVyQixJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ1QsT0FBTyxTQUFTLENBQUM7U0FDcEI7UUFFRCxPQUFPLFVBQVUsTUFBTSxHQUFHLENBQUM7SUFDL0IsQ0FBQztDQUNKO0FBNWJELCtCQTRiQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbm5lY3Rpb25PcHRpb25zIH0gZnJvbSBcInR5cGVvcm1cIjtcbmltcG9ydCAqIGFzIFR5cGVvcm1Ecml2ZXIgZnJvbSBcInR5cGVvcm0vZHJpdmVyL3NxbGl0ZS9TcWxpdGVEcml2ZXJcIjtcbmltcG9ydCB7IERhdGFUeXBlRGVmYXVsdHMgfSBmcm9tIFwidHlwZW9ybS9kcml2ZXIvdHlwZXMvRGF0YVR5cGVEZWZhdWx0c1wiO1xuaW1wb3J0IHR5cGUgKiBhcyBzcWxpdGVMaWIgZnJvbSBcInNxbGl0ZTNcIjtcbmltcG9ydCAqIGFzIFRvbWdVdGlscyBmcm9tIFwiLi4vVXRpbHNcIjtcbmltcG9ydCBBYnN0cmFjdERyaXZlciBmcm9tIFwiLi9BYnN0cmFjdERyaXZlclwiO1xuaW1wb3J0IElDb25uZWN0aW9uT3B0aW9ucyBmcm9tIFwiLi4vSUNvbm5lY3Rpb25PcHRpb25zXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vbW9kZWxzL0VudGl0eVwiO1xuaW1wb3J0IHsgQ29sdW1uIH0gZnJvbSBcIi4uL21vZGVscy9Db2x1bW5cIjtcbmltcG9ydCB7IEluZGV4IH0gZnJvbSBcIi4uL21vZGVscy9JbmRleFwiO1xuaW1wb3J0IElHZW5lcmF0aW9uT3B0aW9ucyBmcm9tIFwiLi4vSUdlbmVyYXRpb25PcHRpb25zXCI7XG5pbXBvcnQgeyBSZWxhdGlvbkludGVybmFsIH0gZnJvbSBcIi4uL21vZGVscy9SZWxhdGlvbkludGVybmFsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNxbGl0ZURyaXZlciBleHRlbmRzIEFic3RyYWN0RHJpdmVyIHtcbiAgICBwdWJsaWMgZGVmYXVsdFZhbHVlczogRGF0YVR5cGVEZWZhdWx0cyA9IG5ldyBUeXBlb3JtRHJpdmVyLlNxbGl0ZURyaXZlcih7XG4gICAgICAgIG9wdGlvbnM6IHsgZGF0YWJhc2U6IFwidHJ1ZVwiIH0gYXMgQ29ubmVjdGlvbk9wdGlvbnMsXG4gICAgfSBhcyBhbnkpLmRhdGFUeXBlRGVmYXVsdHM7XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhbmRhcmRQb3J0ID0gMDtcblxuICAgIHB1YmxpYyByZWFkb25seSBzdGFuZGFyZFVzZXIgPSBcIlwiO1xuXG4gICAgcHVibGljIHJlYWRvbmx5IHN0YW5kYXJkU2NoZW1hID0gXCJcIjtcblxuICAgIHByaXZhdGUgc3FsaXRlTGliOiB0eXBlb2Ygc3FsaXRlTGliO1xuXG4gICAgcHJpdmF0ZSBzcWxpdGU6IHNxbGl0ZUxpYi5zcWxpdGUzO1xuXG4gICAgcHJpdmF0ZSBkYjogc3FsaXRlTGliLkRhdGFiYXNlO1xuXG4gICAgcHJpdmF0ZSB0YWJsZXNXaXRoR2VuZXJhdGVkUHJpbWFyeUtleTogc3RyaW5nW10gPSBuZXcgQXJyYXk8c3RyaW5nPigpO1xuXG4gICAgcHVibGljIEdldEFsbFRhYmxlc1F1ZXJ5OiBhbnk7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLWV4dHJhbmVvdXMtZGVwZW5kZW5jaWVzLCBnbG9iYWwtcmVxdWlyZSwgaW1wb3J0L25vLXVucmVzb2x2ZWRcbiAgICAgICAgICAgIHRoaXMuc3FsaXRlTGliID0gcmVxdWlyZShcInNxbGl0ZTNcIik7XG4gICAgICAgICAgICB0aGlzLnNxbGl0ZSA9IHRoaXMuc3FsaXRlTGliLnZlcmJvc2UoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIFRvbWdVdGlscy5Mb2dFcnJvcihcIlwiLCBmYWxzZSwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgR2V0QWxsVGFibGVzKFxuICAgICAgICBzY2hlbWE6IHN0cmluZyxcbiAgICAgICAgZGJOYW1lczogc3RyaW5nLFxuICAgICAgICB0YWJsZU5hbWVzOiBzdHJpbmdbXVxuICAgICk6IFByb21pc2U8RW50aXR5W10+IHtcbiAgICAgICAgY29uc3QgcmV0OiBFbnRpdHlbXSA9IFtdIGFzIEVudGl0eVtdO1xuICAgICAgICBjb25zdCB0YWJsZUNvbmRpdGlvbiA9XG4gICAgICAgICAgICB0YWJsZU5hbWVzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICA/IGAgQU5EIE5PVCB0YmxfbmFtZSBJTiAoJyR7dGFibGVOYW1lcy5qb2luKFwiJywnXCIpfScpYFxuICAgICAgICAgICAgICAgIDogXCJcIjtcbiAgICAgICAgY29uc3Qgcm93cyA9IGF3YWl0IHRoaXMuRXhlY1F1ZXJ5PHsgdGJsX25hbWU6IHN0cmluZzsgc3FsOiBzdHJpbmcgfT4oXG4gICAgICAgICAgICBgU0VMRUNUIHRibF9uYW1lLCBzcWwgRlJPTSBcInNxbGl0ZV9tYXN0ZXJcIiBXSEVSRSBcInR5cGVcIiA9ICd0YWJsZScgIEFORCBuYW1lIE5PVCBMSUtFICdzcWxpdGVfJScgJHt0YWJsZUNvbmRpdGlvbn1gXG4gICAgICAgICk7XG4gICAgICAgIHJvd3MuZm9yRWFjaCgodmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAodmFsLnNxbC5pbmNsdWRlcyhcIkFVVE9JTkNSRU1FTlRcIikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlc1dpdGhHZW5lcmF0ZWRQcmltYXJ5S2V5LnB1c2godmFsLnRibF9uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldC5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2x1bW5zOiBbXSxcbiAgICAgICAgICAgICAgICBpbmRpY2VzOiBbXSxcbiAgICAgICAgICAgICAgICByZWxhdGlvbnM6IFtdLFxuICAgICAgICAgICAgICAgIHJlbGF0aW9uSWRzOiBbXSxcbiAgICAgICAgICAgICAgICBzcWxOYW1lOiB2YWwudGJsX25hbWUsXG4gICAgICAgICAgICAgICAgdHNjTmFtZTogdmFsLnRibF9uYW1lLFxuICAgICAgICAgICAgICAgIGZpbGVJbXBvcnRzOiBbXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgR2V0Q291bG1uc0Zyb21FbnRpdHkoZW50aXRpZXM6IEVudGl0eVtdKTogUHJvbWlzZTxFbnRpdHlbXT4ge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICAgIGVudGl0aWVzLm1hcChhc3luYyAoZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLkV4ZWNRdWVyeTx7XG4gICAgICAgICAgICAgICAgICAgIGNpZDogbnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgbm90bnVsbDogbnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICBkZmx0X3ZhbHVlOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIHBrOiBudW1iZXI7XG4gICAgICAgICAgICAgICAgfT4oYFBSQUdNQSB0YWJsZV9pbmZvKCcke2VudC50c2NOYW1lfScpO2ApO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmZvckVhY2goKHJlc3ApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHNjTmFtZSA9IHJlc3AubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRzY1R5cGUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zOiBDb2x1bW5bXCJvcHRpb25zXCJdID0geyBuYW1lOiByZXNwLm5hbWUgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3Aubm90bnVsbCA9PT0gMCkgb3B0aW9ucy5udWxsYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzUHJpbWFyeSA9IHJlc3AucGsgPiAwID8gdHJ1ZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gU3FsaXRlRHJpdmVyLlJldHVybkRlZmF1bHRWYWx1ZUZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcC5kZmx0X3ZhbHVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbHVtblR5cGUgPSByZXNwLnR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXChbMC05ICxdK1xcKS9nLCBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRlZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1ByaW1hcnkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVzV2l0aEdlbmVyYXRlZFByaW1hcnlLZXkuaW5jbHVkZXMoZW50LnRzY05hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY29sdW1uVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImludFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImludGVnZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnQyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW50OFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRpbnlpbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzbWFsbGludFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1lZGl1bWludFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVuc2lnbmVkIGJpZyBpbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjaGFyYWN0ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ2YXJjaGFyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidmFyeWluZyBjaGFyYWN0ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJuY2hhclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5hdGl2ZSBjaGFyYWN0ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJudmFyY2hhclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJibG9iXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwiQnVmZmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2xvYlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJlYWxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkb3VibGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkb3VibGUgcHJlY2lzaW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZmxvYXRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJudW1lcmljXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGVjaW1hbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJib29sZWFuXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGF0ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRhdGV0aW1lXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwiRGF0ZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJOb25OdWxsYWJsZTx1bmtub3duPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvbWdVdGlscy5Mb2dFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFVua25vd24gY29sdW1uIHR5cGU6ICR7Y29sdW1uVHlwZX0gIHRhYmxlIG5hbWU6ICR7ZW50LnRzY05hbWV9IGNvbHVtbiBuYW1lOiAke3Jlc3AubmFtZX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcWxPcHRpb25zID0gcmVzcC50eXBlLm1hdGNoKC9cXChbMC05ICxdK1xcKS9nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Db2x1bW5UeXBlc1dpdGhQcmVjaXNpb24uc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodikgPT4gdiA9PT0gY29sdW1uVHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgc3FsT3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucHJlY2lzaW9uID0gTnVtYmVyLnBhcnNlSW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbE9wdGlvbnNbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN1YnN0cmluZygxLCBzcWxPcHRpb25zWzBdLmxlbmd0aCAtIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdChcIixcIilbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMTBcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnNjYWxlID0gTnVtYmVyLnBhcnNlSW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbE9wdGlvbnNbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN1YnN0cmluZygxLCBzcWxPcHRpb25zWzBdLmxlbmd0aCAtIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdChcIixcIilbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMTBcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5Db2x1bW5UeXBlc1dpdGhMZW5ndGguc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodikgPT4gdiA9PT0gY29sdW1uVHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgc3FsT3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubGVuZ3RoID0gTnVtYmVyLnBhcnNlSW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbE9wdGlvbnNbMF0uc3Vic3RyaW5nKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxPcHRpb25zWzBdLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQ29sdW1uVHlwZXNXaXRoV2lkdGguc29tZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodikgPT4gdiA9PT0gY29sdW1uVHlwZSAmJiB0c2NUeXBlICE9PSBcImJvb2xlYW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgc3FsT3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMud2lkdGggPSBOdW1iZXIucGFyc2VJbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsT3B0aW9uc1swXS5zdWJzdHJpbmcoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbE9wdGlvbnNbMF0ubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMTBcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbnQuY29sdW1ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnk6IGlzUHJpbWFyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGNvbHVtblR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHNjTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gZW50aXRpZXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIEdldEluZGV4ZXNGcm9tRW50aXR5KGVudGl0aWVzOiBFbnRpdHlbXSk6IFByb21pc2U8RW50aXR5W10+IHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICBlbnRpdGllcy5tYXAoYXN5bmMgKGVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5FeGVjUXVlcnk8e1xuICAgICAgICAgICAgICAgICAgICBzZXE6IG51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICB1bmlxdWU6IG51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRpYWw6IG51bWJlcjtcbiAgICAgICAgICAgICAgICB9PihgUFJBR01BIGluZGV4X2xpc3QoJyR7ZW50LnRzY05hbWV9Jyk7YCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLm1hcChhc3luYyAocmVzcCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXhDb2x1bW5zUmVzcG9uc2UgPSBhd2FpdCB0aGlzLkV4ZWNRdWVyeTx7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vxbm86IG51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaWQ6IG51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9PihgUFJBR01BIGluZGV4X2luZm8oJyR7cmVzcC5uYW1lfScpO2ApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleEluZm86IEluZGV4ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlc3AubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcC51bmlxdWUgPT09IDEpIGluZGV4SW5mby5vcHRpb25zLnVuaXF1ZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Q29sdW1uc1Jlc3BvbnNlLmZvckVhY2goKHJlY29yZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4SW5mby5jb2x1bW5zLnB1c2gocmVjb3JkLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhDb2x1bW5zUmVzcG9uc2UubGVuZ3RoID09PSAxICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhJbmZvLm9wdGlvbnMudW5pcXVlXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnQuY29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHYpID0+IHYudHNjTmFtZSA9PT0gaW5kZXhJbmZvLmNvbHVtbnNbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2Lm9wdGlvbnMudW5pcXVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnQuaW5kaWNlcy5wdXNoKGluZGV4SW5mbyk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIGVudGl0aWVzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBHZXRSZWxhdGlvbnMoXG4gICAgICAgIGVudGl0aWVzOiBFbnRpdHlbXSxcbiAgICAgICAgc2NoZW1hOiBzdHJpbmcsXG4gICAgICAgIGRiTmFtZXM6IHN0cmluZyxcbiAgICAgICAgZ2VuZXJhdGlvbk9wdGlvbnM6IElHZW5lcmF0aW9uT3B0aW9uc1xuICAgICk6IFByb21pc2U8RW50aXR5W10+IHtcbiAgICAgICAgbGV0IHJldFZhbCA9IGVudGl0aWVzO1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICAgIHJldFZhbC5tYXAoYXN5bmMgKGVudGl0eSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5FeGVjUXVlcnk8e1xuICAgICAgICAgICAgICAgICAgICBpZDogbnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICBzZXE6IG51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgdGFibGU6IHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICB0bzogc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICBvbl91cGRhdGU6XG4gICAgICAgICAgICAgICAgICAgICAgICB8IFwiUkVTVFJJQ1RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfCBcIkNBU0NBREVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfCBcIlNFVCBOVUxMXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHwgXCJOTyBBQ1RJT05cIjtcbiAgICAgICAgICAgICAgICAgICAgb25fZGVsZXRlOlxuICAgICAgICAgICAgICAgICAgICAgICAgfCBcIlJFU1RSSUNUXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHwgXCJDQVNDQURFXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHwgXCJTRVQgTlVMTFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB8IFwiTk8gQUNUSU9OXCI7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgfT4oYFBSQUdNQSBmb3JlaWduX2tleV9saXN0KCcke2VudGl0eS50c2NOYW1lfScpO2ApO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpb25zVGVtcDogUmVsYXRpb25JbnRlcm5hbFtdID0gW10gYXMgUmVsYXRpb25JbnRlcm5hbFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uS2V5cyA9IG5ldyBTZXQocmVzcG9uc2UubWFwKCh2KSA9PiB2LmlkKSk7XG5cbiAgICAgICAgICAgICAgICByZWxhdGlvbktleXMuZm9yRWFjaCgocmVsYXRpb25JZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByb3dzID0gcmVzcG9uc2UuZmlsdGVyKCh2KSA9PiB2LmlkID09PSByZWxhdGlvbklkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3duZXJUYWJsZSA9IGVudGl0aWVzLmZpbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAodikgPT4gdi5zcWxOYW1lID09PSBlbnRpdHkudHNjTmFtZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxhdGVkVGFibGUgPSBlbnRpdGllcy5maW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgKHYpID0+IHYuc3FsTmFtZSA9PT0gcm93c1swXS50YWJsZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW93bmVyVGFibGUgfHwgIXJlbGF0ZWRUYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgVG9tZ1V0aWxzLkxvZ0Vycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBSZWxhdGlvbiBiZXR3ZWVuIHRhYmxlcyAke2VudGl0eS50c2NOYW1lfSBhbmQgJHtyb3dzWzBdLnRhYmxlfSB3YXNuJ3QgZm91bmQgaW4gZW50aXR5IG1vZGVsLmAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnRlcm5hbDogUmVsYXRpb25JbnRlcm5hbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG93bmVyQ29sdW1uczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkQ29sdW1uczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBvd25lclRhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZFRhYmxlLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAocm93c1swXS5vbl9kZWxldGUgIT09IFwiTk8gQUNUSU9OXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVybmFsLm9uRGVsZXRlID0gcm93c1swXS5vbl9kZWxldGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3NbMF0ub25fdXBkYXRlICE9PSBcIk5PIEFDVElPTlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbC5vblVwZGF0ZSA9IHJvd3NbMF0ub25fdXBkYXRlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJvd3MuZm9yRWFjaCgocm93KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbC5vd25lckNvbHVtbnMucHVzaChyb3cuZnJvbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbC5yZWxhdGVkQ29sdW1ucy5wdXNoKHJvdy50byk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZWxhdGlvbnNUZW1wLnB1c2goaW50ZXJuYWwpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0VmFsID0gU3FsaXRlRHJpdmVyLkdldFJlbGF0aW9uc0Zyb21SZWxhdGlvblRlbXBJbmZvKFxuICAgICAgICAgICAgICAgICAgICByZWxhdGlvbnNUZW1wLFxuICAgICAgICAgICAgICAgICAgICByZXRWYWwsXG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb25PcHRpb25zXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiByZXRWYWw7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIERpc2Nvbm5lY3RGcm9tU2VydmVyKCkge1xuICAgICAgICB0aGlzLmRiLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIENvbm5lY3RUb1NlcnZlcihjb25uZWN0aW9uT3B0b25zOiBJQ29ubmVjdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5Vc2VEQihjb25uZWN0aW9uT3B0b25zLmRhdGFiYXNlTmFtZSk7XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgICBwdWJsaWMgYXN5bmMgQ3JlYXRlREIoKSB7XG4gICAgICAgIC8vIG5vdCBzdXBwb3J0ZWRcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgVXNlREIoZGJOYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlPGJvb2xlYW4+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGIgPSBuZXcgdGhpcy5zcWxpdGUuRGF0YWJhc2UoZGJOYW1lLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBUb21nVXRpbHMuTG9nRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkVycm9yIGNvbm5lY3RpbmcgdG8gU1FMaXRlIGRhdGFiYXNlLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnIubWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gICAgcHVibGljIGFzeW5jIERyb3BEQigpIHtcbiAgICAgICAgLy8gbm90IHN1cHBvcnRlZFxuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gICAgcHVibGljIGFzeW5jIENoZWNrSWZEQkV4aXN0cygpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIEV4ZWNRdWVyeTxUPihzcWw6IHN0cmluZyk6IFByb21pc2U8VFtdPiB7XG4gICAgICAgIGxldCByZXQ6IFRbXSA9IFtdO1xuICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2U8Ym9vbGVhbj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYi5zZXJpYWxpemUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZGIuYWxsKHNxbCwgW10sIChlcnIsIHJvdykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gcm93O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRvbWdVdGlscy5Mb2dFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkVycm9yIGV4ZWN1dGluZyBxdWVyeSBvbiBTUUxpdGUuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCBwcm9taXNlO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIFJldHVybkRlZmF1bHRWYWx1ZUZ1bmN0aW9uKFxuICAgICAgICBkZWZWYWw6IHN0cmluZyB8IG51bGxcbiAgICApOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICBpZiAoIWRlZlZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBgKCkgPT4gXCIke2RlZlZhbH1cImA7XG4gICAgfVxufVxuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL25lbW8vd29yay9naXRodWIvdHlwZW9ybS1tb2RlbC1nZW5lcmF0b3Ivc3JjL2RyaXZlcnMvU3FsaXRlRHJpdmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIrOGxEQUNBLEtBQUEsQ0FBQSxhQUFBLDBCQUFBLE9BQUEsQ0FBQSxvQ0FBQSxDQUFBLENBQUEsQ0FHQSxLQUFBLENBQUEsU0FBQSwwQkFBQSxPQUFBLENBQUEsVUFBQSxDQUFBLENBQUEsQ0FDQSxLQUFBLENBQUEsZ0JBQUEsMEJBQUEsT0FBQSxDQUFBLGtCQUFBLENBQUEsQ0FBQSxDQVFBLEtBQXFCLENBQUEsWUFBckIsU0FBMEMsZ0JBQUEsQ0FBQSxPQUExQyxDQUF3RCxDQXFCcEQsV0FBQSxFQUFBLGlEQUNJLFFBREosd0JBcEJPLEtBQUEsYUFBQSxDQUFrQyxHQUFJLENBQUEsYUFBYSxDQUFDLFlBQWxCLENBQStCLENBQ3BFLE9BQU8sQ0FBRSxDQUFFLFFBQVEsQ0FBRSxNQUFaLENBRDJELENBQS9CLEVBRS9CLGdCQUZILENBb0JQLHdCQWhCZ0IsS0FBQSxZQUFBLENBQWUsQ0FBZixDQWdCaEIsd0JBZGdCLEtBQUEsWUFBQSxDQUFlLEVBQWYsQ0FjaEIsd0JBWmdCLEtBQUEsY0FBQSxDQUFpQixFQUFqQixDQVloQix3QkFKUSxLQUFBLDZCQUFBLENBQTBDLEdBQUksQ0FBQSxLQUFKLEVBQTFDLENBSVIseUJBRUksR0FBSSwwQkFDQTtBQUNBLEtBQUssU0FBTCxDQUFpQixPQUFPLENBQUMsU0FBRCxDQUF4QixDQUZBLHlCQUdBLEtBQUssTUFBTCxDQUFjLEtBQUssU0FBTCxDQUFlLE9BQWYsRUFBZCxDQUNILENBQUMsTUFBTyxLQUFQLENBQWMsMEJBQ1osU0FBUyxDQUFDLFFBQVYsQ0FBbUIsRUFBbkIsQ0FBdUIsS0FBdkIsQ0FBOEIsS0FBOUIsRUFEWSx5QkFFWixLQUFNLENBQUEsS0FBTixDQUNILENBQ0osQ0FFTSxLQUFNLENBQUEsWUFBTixDQUNILE1BREcsQ0FFSCxP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QVYsQ0FESix5QkFFSSxNQUNKLElBQUssVUFBTCxxREFDSSxPQUFPLENBQUcsUUFBVixDQURKLHlCQUVJLE1BQ0osSUFBSyxXQUFMLHFEQUNJLE9BQU8sQ0FBRyxRQUFWLENBREoseUJBRUksTUFDSixJQUFLLFFBQUwscURBQ0ksT0FBTyxDQUFHLFFBQVYsQ0FESix5QkFFSSxNQUNKLElBQUssa0JBQUwscURBQ0ksT0FBTyxDQUFHLFFBQVYsQ0FESix5QkFFSSxNQUNKLElBQUssV0FBTCxxREFDSSxPQUFPLENBQUcsUUFBVixDQURKLHlCQUVJLE1BQ0osSUFBSyxTQUFMLHNEQUNJLE9BQU8sQ0FBRyxRQUFWLENBREoseUJBRUksTUFDSixJQUFLLG1CQUFMLHNEQUNJLE9BQU8sQ0FBRyxRQUFWLENBREoseUJBRUksTUFDSixJQUFLLE9BQUwsc0RBQ0ksT0FBTyxDQUFHLFFBQVYsQ0FESix5QkFFSSxNQUNKLElBQUssa0JBQUwsc0RBQ0ksT0FBTyxDQUFHLFFBQVYsQ0FESix5QkFFSSxNQUNKLElBQUssVUFBTCxzREFDSSxPQUFPLENBQUcsUUFBVixDQURKLHlCQUVJLE1BQ0osSUFBSyxNQUFMLHNEQUNJLE9BQU8sQ0FBRyxRQUFWLENBREoseUJBRUksTUFDSixJQUFLLE1BQUwsc0RBQ0ksT0FBTyxDQUFHLFFBQVYsQ0FESix5QkFFSSxNQUNKLElBQUssTUFBTCxzREFDSSxPQUFPLENBQUcsUUFBVixDQURKLHlCQUVJLE1BQ0osSUFBSyxNQUFMLHNEQUNJLE9BQU8sQ0FBRyxRQUFWLENBREoseUJBRUksTUFDSixJQUFLLFFBQUwsc0RBQ0ksT0FBTyxDQUFHLFFBQVYsQ0FESix5QkFFSSxNQUNKLElBQUssa0JBQUwsc0RBQ0ksT0FBTyxDQUFHLFFBQVYsQ0FESix5QkFFSSxNQUNKLElBQUssT0FBTCxzREFDSSxPQUFPLENBQUcsUUFBVixDQURKLHlCQUVJLE1BQ0osSUFBSyxTQUFMLHNEQUNJLE9BQU8sQ0FBRyxRQUFWLENBREoseUJBRUksTUFDSixJQUFLLFNBQUwsc0RBQ0ksT0FBTyxDQUFHLFFBQVYsQ0FESix5QkFFSSxNQUNKLElBQUssU0FBTCxzREFDSSxPQUFPLENBQUcsU0FBVixDQURKLHlCQUVJLE1BQ0osSUFBSyxNQUFMLHNEQUNJLE9BQU8sQ0FBRyxRQUFWLENBREoseUJBRUksTUFDSixJQUFLLFVBQUwsc0RBQ0ksT0FBTyxDQUFHLE1BQVYsQ0FESix5QkFFSSxNQUNKLDZEQUNJLE9BQU8sQ0FBRyxzQkFBVixDQURKLHlCQUVJLFNBQVMsQ0FBQyxRQUFWLENBQ0ksd0JBQXdCLFVBQVUsaUJBQWlCLEdBQUcsQ0FBQyxPQUFPLGlCQUFpQixJQUFJLENBQUMsSUFBSSxFQUQ1RixFQUZKLHlCQUtJLE1BdkZSLENBeUZBLEtBQU0sQ0FBQSxVQUFVLDJCQUFHLElBQUksQ0FBQyxJQUFMLENBQVUsS0FBVixDQUFnQixlQUFoQixDQUFILENBQWhCLENBM0dzQix5QkE0R3RCLEdBQ0ksaUNBQUssd0JBQUwsQ0FBOEIsSUFBOUIsQ0FDSyxDQUFELEVBQU8sd0RBQUEsQ0FBQSxDQUFDLEdBQUssVUFBTixDQUFnQixDQUQzQixnQ0FHQSxVQUhBLENBREosQ0FLRSxxREFDRSxPQUFPLENBQUMsU0FBUixDQUFvQixNQUFNLENBQUMsUUFBUCxDQUNoQixVQUFVLENBQUMsQ0FBRCxDQUFWLENBQ0ssU0FETCxDQUNlLENBRGYsQ0FDa0IsVUFBVSxDQUFDLENBQUQsQ0FBVixDQUFjLE1BQWQsQ0FBdUIsQ0FEekMsRUFFSyxLQUZMLENBRVcsR0FGWCxFQUVnQixDQUZoQixDQURnQixDQUloQixFQUpnQixDQUFwQixDQURGLHlCQU9FLE9BQU8sQ0FBQyxLQUFSLENBQWdCLE1BQU0sQ0FBQyxRQUFQLENBQ1osVUFBVSxDQUFDLENBQUQsQ0FBVixDQUNLLFNBREwsQ0FDZSxDQURmLENBQ2tCLFVBQVUsQ0FBQyxDQUFELENBQVYsQ0FBYyxNQUFkLENBQXVCLENBRHpDLEVBRUssS0FGTCxDQUVXLEdBRlgsRUFFZ0IsQ0FGaEIsQ0FEWSxDQUlaLEVBSlksQ0FBaEIsQ0FNSCxDQWxCRCxpQ0E1R3NCLHlCQStIdEIsR0FDSSxrQ0FBSyxxQkFBTCxDQUEyQixJQUEzQixDQUNLLENBQUQsRUFBTyx3REFBQSxDQUFBLENBQUMsR0FBSyxVQUFOLENBQWdCLENBRDNCLGlDQUdBLFVBSEEsQ0FESixDQUtFLHNEQUNFLE9BQU8sQ0FBQyxNQUFSLENBQWlCLE1BQU0sQ0FBQyxRQUFQLENBQ2IsVUFBVSxDQUFDLENBQUQsQ0FBVixDQUFjLFNBQWQsQ0FDSSxDQURKLENBRUksVUFBVSxDQUFDLENBQUQsQ0FBVixDQUFjLE1BQWQsQ0FBdUIsQ0FGM0IsQ0FEYSxDQUtiLEVBTGEsQ0FBakIsQ0FPSCxDQWJELGlDQS9Ic0IsMEJBNkl0QixHQUNJLGtDQUFLLG9CQUFMLENBQTBCLElBQTFCLENBQ0ssQ0FBRCxFQUFPLHNGQUFBLENBQUMsR0FBSyxVQUFOLGdDQUFvQixPQUFPLEdBQUssU0FBaEMsRUFBeUMsQ0FEcEQsaUNBR0EsVUFIQSxDQURKLENBS0UsdURBQ0UsT0FBTyxDQUFDLEtBQVIsQ0FBZ0IsTUFBTSxDQUFDLFFBQVAsQ0FDWixVQUFVLENBQUMsQ0FBRCxDQUFWLENBQWMsU0FBZCxDQUNJLENBREosQ0FFSSxVQUFVLENBQUMsQ0FBRCxDQUFWLENBQWMsTUFBZCxDQUF1QixDQUYzQixDQURZLENBS1osRUFMWSxDQUFoQixDQU9ILENBYkQsa0NBN0lzQiwwQkE0SnRCLEdBQUcsQ0FBQyxPQUFKLENBQVksSUFBWixDQUFpQixDQUNiLFNBRGEsQ0FFYixPQUFPLENBQUUsU0FGSSxDQUdiLElBQUksQ0FBRSxVQUhPLENBSWIsT0FBTyxDQUFFLFlBSkksQ0FLYixPQUxhLENBTWIsT0FOYSxDQU9iLE9BUGEsQ0FBakIsRUFTSCxDQXJLRCxFQXNLSCxDQS9LRCxDQURFLENBQU4sQ0FEZ0QsMEJBb0xoRCxNQUFPLENBQUEsUUFBUCxDQUNILENBRU0sS0FBTSxDQUFBLG9CQUFOLENBQTJCLFFBQTNCLENBQTZDLG1EQUNoRCxLQUFNLENBQUEsT0FBTyxDQUFDLEdBQVIsQ0FDRixRQUFRLENBQUMsR0FBVCxDQUFhLEtBQU8sQ0FBQSxHQUFQLEVBQWMsMEJBQ3ZCLEtBQU0sQ0FBQSxRQUFRLDRCQUFHLEtBQU0sTUFBSyxTQUFMLENBTXBCLHNCQUFzQixHQUFHLENBQUMsT0FBTyxLQU5iLENBQVQsQ0FBZCxDQUR1QiwwQkFRdkIsS0FBTSxDQUFBLE9BQU8sQ0FBQyxHQUFSLENBQ0YsUUFBUSxDQUFDLEdBQVQsQ0FBYSxLQUFPLENBQUEsSUFBUCxFQUFlLDBCQUN4QixLQUFNLENBQUEsb0JBQW9CLDRCQUFHLEtBQU0sTUFBSyxTQUFMLENBSWhDLHNCQUFzQixJQUFJLENBQUMsSUFBSSxLQUpDLENBQVQsQ0FBMUIsQ0FNQSxLQUFNLENBQUEsU0FBUyw0QkFBVSxDQUNyQixJQUFJLENBQUUsSUFBSSxDQUFDLElBRFUsQ0FFckIsT0FBTyxDQUFFLEVBRlksQ0FHckIsT0FBTyxDQUFFLEVBSFksQ0FBVixDQUFmLENBUHdCLDBCQVl4QixHQUFJLElBQUksQ0FBQyxNQUFMLEdBQWdCLENBQXBCLENBQXVCLHVEQUFBLFNBQVMsQ0FBQyxPQUFWLENBQWtCLE1BQWxCLENBQTJCLElBQTNCLENBQWdDLENBQXZELGtDQVp3QiwwQkFjeEIsb0JBQW9CLENBQUMsT0FBckIsQ0FBOEIsTUFBRCxFQUFXLG9EQUNwQyxTQUFTLENBQUMsT0FBVixDQUFrQixJQUFsQixDQUF1QixNQUFNLENBQUMsSUFBOUIsRUFDSCxDQUZELEVBZHdCLDBCQWlCeEIsR0FDSSw2QkFBQSxvQkFBb0IsQ0FBQyxNQUFyQixHQUFnQyxDQUFoQyxnQ0FDQSxTQUFTLENBQUMsT0FBVixDQUFrQixNQURsQixDQURKLENBR0UsdURBQ0UsR0FBRyxDQUFDLE9BQUosQ0FDSyxNQURMLENBRVMsQ0FBRCxFQUFPLDBEQUFBLENBQUEsQ0FBQyxDQUFDLE9BQUYsR0FBYyxTQUFTLENBQUMsT0FBVixDQUFrQixDQUFsQixDQUFkLENBQWtDLENBRmpELEVBSUssT0FKTCxDQUljLENBQUQsRUFBTSxvREFDWDtBQUNBLENBQUMsQ0FBQyxPQUFGLENBQVUsTUFBVixDQUFtQixJQUFuQixDQUNILENBUEwsRUFRSCxDQVpELGtDQWpCd0IsMEJBOEJ4QixHQUFHLENBQUMsT0FBSixDQUFZLElBQVosQ0FBaUIsU0FBakIsRUFDSCxDQS9CRCxDQURFLENBQU4sQ0FrQ0gsQ0ExQ0QsQ0FERSxDQUFOLENBRGdELDBCQStDaEQsTUFBTyxDQUFBLFFBQVAsQ0FDSCxDQUVNLEtBQU0sQ0FBQSxZQUFOLENBQ0gsUUFERyxDQUVILE1BRkcsQ0FHSCxPQUhHLENBSUgsaUJBSkcsQ0FJa0MsMEJBRXJDLEdBQUksQ0FBQSxNQUFNLDRCQUFHLFFBQUgsQ0FBVixDQUZxQywwQkFHckMsS0FBTSxDQUFBLE9BQU8sQ0FBQyxHQUFSLENBQ0YsTUFBTSxDQUFDLEdBQVAsQ0FBVyxLQUFPLENBQUEsTUFBUCxFQUFpQiwwQkFDeEIsS0FBTSxDQUFBLFFBQVEsNEJBQUcsS0FBTSxNQUFLLFNBQUwsQ0FpQnBCLDRCQUE0QixNQUFNLENBQUMsT0FBTyxLQWpCdEIsQ0FBVCxDQUFkLENBbUJBLEtBQU0sQ0FBQSxhQUFhLDRCQUF1QixFQUF2QixDQUFuQixDQUNBLEtBQU0sQ0FBQSxZQUFZLDRCQUFHLEdBQUksQ0FBQSxHQUFKLENBQVEsUUFBUSxDQUFDLEdBQVQsQ0FBYyxDQUFELEVBQU8sMERBQUEsQ0FBQSxDQUFDLENBQUMsRUFBRixDQUFJLENBQXhCLENBQVIsQ0FBSCxDQUFsQixDQXJCd0IsMEJBdUJ4QixZQUFZLENBQUMsT0FBYixDQUFzQixVQUFELEVBQWUsMEJBQ2hDLEtBQU0sQ0FBQSxJQUFJLDRCQUFHLFFBQVEsQ0FBQyxNQUFULENBQWlCLENBQUQsRUFBTywwREFBQSxDQUFBLENBQUMsQ0FBQyxFQUFGLEdBQVMsVUFBVCxDQUFtQixDQUExQyxDQUFILENBQVYsQ0FDQSxLQUFNLENBQUEsVUFBVSw0QkFBRyxRQUFRLENBQUMsSUFBVCxDQUNkLENBQUQsRUFBTywwREFBQSxDQUFBLENBQUMsQ0FBQyxPQUFGLEdBQWMsTUFBTSxDQUFDLE9BQXJCLENBQTRCLENBRHBCLENBQUgsQ0FBaEIsQ0FHQSxLQUFNLENBQUEsWUFBWSw0QkFBRyxRQUFRLENBQUMsSUFBVCxDQUNoQixDQUFELEVBQU8sMERBQUEsQ0FBQSxDQUFDLENBQUMsT0FBRixHQUFjLElBQUksQ0FBQyxDQUFELENBQUosQ0FBUSxLQUF0QixDQUEyQixDQURqQixDQUFILENBQWxCLENBTGdDLDBCQVFoQyxHQUFJLDhCQUFDLFVBQUQsZ0NBQWUsQ0FBQyxZQUFoQixDQUFKLENBQWtDLHVEQUM5QixTQUFTLENBQUMsUUFBVixDQUNJLDJCQUEyQixNQUFNLENBQUMsT0FBTyxRQUFRLElBQUksQ0FBQyxDQUFELENBQUosQ0FBUSxLQUFLLGdDQURsRSxDQUVJLElBRkosRUFEOEIsMEJBSzlCLE9BQ0gsQ0FORCxrQ0FPQSxLQUFNLENBQUEsUUFBUSw0QkFBcUIsQ0FDL0IsWUFBWSxDQUFFLEVBRGlCLENBRS9CLGNBQWMsQ0FBRSxFQUZlLENBRy9CLFVBSCtCLENBSS9CLFlBSitCLENBQXJCLENBQWQsQ0FmZ0MsMEJBcUJoQyxHQUFJLElBQUksQ0FBQyxDQUFELENBQUosQ0FBUSxTQUFSLEdBQXNCLFdBQTFCLENBQXVDLHVEQUNuQyxRQUFRLENBQUMsUUFBVCxDQUFvQixJQUFJLENBQUMsQ0FBRCxDQUFKLENBQVEsU0FBNUIsQ0FDSCxDQUZELGtDQXJCZ0MsMEJBd0JoQyxHQUFJLElBQUksQ0FBQyxDQUFELENBQUosQ0FBUSxTQUFSLEdBQXNCLFdBQTFCLENBQXVDLHVEQUNuQyxRQUFRLENBQUMsUUFBVCxDQUFvQixJQUFJLENBQUMsQ0FBRCxDQUFKLENBQVEsU0FBNUIsQ0FDSCxDQUZELGtDQXhCZ0MsMEJBMkJoQyxJQUFJLENBQUMsT0FBTCxDQUFjLEdBQUQsRUFBUSxvREFDakIsUUFBUSxDQUFDLFlBQVQsQ0FBc0IsSUFBdEIsQ0FBMkIsR0FBRyxDQUFDLElBQS9CLEVBRGlCLDBCQUVqQixRQUFRLENBQUMsY0FBVCxDQUF3QixJQUF4QixDQUE2QixHQUFHLENBQUMsRUFBakMsRUFDSCxDQUhELEVBM0JnQywwQkErQmhDLGFBQWEsQ0FBQyxJQUFkLENBQW1CLFFBQW5CLEVBQ0gsQ0FoQ0QsRUF2QndCLDBCQXlEeEIsTUFBTSxDQUFHLFlBQVksQ0FBQyxnQ0FBYixDQUNMLGFBREssQ0FFTCxNQUZLLENBR0wsaUJBSEssQ0FBVCxDQUtILENBOURELENBREUsQ0FBTixDQUhxQywwQkFvRXJDLE1BQU8sQ0FBQSxNQUFQLENBQ0gsQ0FFTSxLQUFNLENBQUEsb0JBQU4sRUFBMEIsb0RBQzdCLEtBQUssRUFBTCxDQUFRLEtBQVIsR0FDSCxDQUVNLEtBQU0sQ0FBQSxlQUFOLENBQXNCLGdCQUF0QixDQUEwRCxvREFDN0QsS0FBTSxNQUFLLEtBQUwsQ0FBVyxnQkFBZ0IsQ0FBQyxZQUE1QixDQUFOLENBQ0gsQ0FFRDtBQUNPLEtBQU0sQ0FBQSxRQUFOLEVBQWMsQ0FDakI7QUFEaUIseUJBRXBCLENBRU0sS0FBTSxDQUFBLEtBQU4sQ0FBWSxNQUFaLENBQTBCLDBCQUM3QixLQUFNLENBQUEsT0FBTyw0QkFBRyxHQUFJLENBQUEsT0FBSixDQUFxQixDQUFDLE9BQUQsQ0FBVSxNQUFWLEdBQW9CLG9EQUNyRCxLQUFLLEVBQUwsQ0FBVSxHQUFJLE1BQUssTUFBTCxDQUFZLFFBQWhCLENBQXlCLE1BQXpCLENBQWtDLEdBQUQsRUFBUSxvREFDL0MsR0FBSSxHQUFKLENBQVMsdURBQ0wsU0FBUyxDQUFDLFFBQVYsQ0FDSSxzQ0FESixDQUVJLEtBRkosQ0FHSSxHQUFHLENBQUMsT0FIUixFQURLLDBCQU1MLE1BQU0sQ0FBQyxHQUFELENBQU4sQ0FOSywwQkFPTCxPQUNILENBUkQsa0NBRCtDLDBCQVUvQyxPQUFPLEdBQ1YsQ0FYUyxDQUFWLENBWUgsQ0FiZSxDQUFILENBQWIsQ0FENkIsMEJBZTdCLE1BQU8sQ0FBQSxPQUFQLENBQ0gsQ0FFRDtBQUNPLEtBQU0sQ0FBQSxNQUFOLEVBQVksMEJBRWxCLENBREc7QUFHSjtBQUNPLEtBQU0sQ0FBQSxlQUFOLEVBQXFCLG9EQUN4QixNQUFPLEtBQVAsQ0FDSCxDQUVNLEtBQU0sQ0FBQSxTQUFOLENBQW1CLEdBQW5CLENBQThCLDBCQUNqQyxHQUFJLENBQUEsR0FBRyw0QkFBUSxFQUFSLENBQVAsQ0FDQSxLQUFNLENBQUEsT0FBTyw0QkFBRyxHQUFJLENBQUEsT0FBSixDQUFxQixDQUFDLE9BQUQsQ0FBVSxNQUFWLEdBQW9CLG9EQUNyRCxLQUFLLEVBQUwsQ0FBUSxTQUFSLENBQWtCLElBQUssb0RBQ25CLEtBQUssRUFBTCxDQUFRLEdBQVIsQ0FBWSxHQUFaLENBQWlCLEVBQWpCLENBQXFCLENBQUMsR0FBRCxDQUFNLEdBQU4sR0FBYSxvREFDOUIsR0FBSSxDQUFDLEdBQUwsQ0FBVSx1REFDTixHQUFHLENBQUcsR0FBTixDQURNLDBCQUVOLE9BQU8sQ0FBQyxJQUFELENBQVAsQ0FDSCxDQUhELElBR08sdURBQ0gsU0FBUyxDQUFDLFFBQVYsQ0FDSSxrQ0FESixDQUVJLEtBRkosQ0FHSSxHQUFHLENBQUMsT0FIUixFQURHLDBCQU1ILE1BQU0sQ0FBQyxHQUFELENBQU4sQ0FDSCxDQUNKLENBWkQsRUFhSCxDQWRELEVBZUgsQ0FoQmUsQ0FBSCxDQUFiLENBRmlDLDBCQW1CakMsS0FBTSxDQUFBLE9BQU4sQ0FuQmlDLDBCQW9CakMsTUFBTyxDQUFBLEdBQVAsQ0FDSCxDQUVPLE1BQU8sQ0FBQSwwQkFBUCxDQUNKLE1BREksQ0FDaUIsb0RBRXJCLEdBQUksQ0FBQyxNQUFMLENBQWEsdURBQ1QsTUFBTyxDQUFBLFNBQVAsQ0FDSCxDQUZELGtDQUZxQiwwQkFNckIsTUFBTyxVQUFVLE1BQU0sR0FBdkIsQ0FDSCxDQTNibUQsQywwQkFBeEQsT0FBQSxDQUFBLE9BQUEsQ0FBQSxZQUFBLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25uZWN0aW9uT3B0aW9ucyB9IGZyb20gXCJ0eXBlb3JtXCI7XG5pbXBvcnQgKiBhcyBUeXBlb3JtRHJpdmVyIGZyb20gXCJ0eXBlb3JtL2RyaXZlci9zcWxpdGUvU3FsaXRlRHJpdmVyXCI7XG5pbXBvcnQgeyBEYXRhVHlwZURlZmF1bHRzIH0gZnJvbSBcInR5cGVvcm0vZHJpdmVyL3R5cGVzL0RhdGFUeXBlRGVmYXVsdHNcIjtcbmltcG9ydCB0eXBlICogYXMgc3FsaXRlTGliIGZyb20gXCJzcWxpdGUzXCI7XG5pbXBvcnQgKiBhcyBUb21nVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XG5pbXBvcnQgQWJzdHJhY3REcml2ZXIgZnJvbSBcIi4vQWJzdHJhY3REcml2ZXJcIjtcbmltcG9ydCBJQ29ubmVjdGlvbk9wdGlvbnMgZnJvbSBcIi4uL0lDb25uZWN0aW9uT3B0aW9uc1wiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uL21vZGVscy9FbnRpdHlcIjtcbmltcG9ydCB7IENvbHVtbiB9IGZyb20gXCIuLi9tb2RlbHMvQ29sdW1uXCI7XG5pbXBvcnQgeyBJbmRleCB9IGZyb20gXCIuLi9tb2RlbHMvSW5kZXhcIjtcbmltcG9ydCBJR2VuZXJhdGlvbk9wdGlvbnMgZnJvbSBcIi4uL0lHZW5lcmF0aW9uT3B0aW9uc1wiO1xuaW1wb3J0IHsgUmVsYXRpb25JbnRlcm5hbCB9IGZyb20gXCIuLi9tb2RlbHMvUmVsYXRpb25JbnRlcm5hbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcWxpdGVEcml2ZXIgZXh0ZW5kcyBBYnN0cmFjdERyaXZlciB7XG4gICAgcHVibGljIGRlZmF1bHRWYWx1ZXM6IERhdGFUeXBlRGVmYXVsdHMgPSBuZXcgVHlwZW9ybURyaXZlci5TcWxpdGVEcml2ZXIoe1xuICAgICAgICBvcHRpb25zOiB7IGRhdGFiYXNlOiBcInRydWVcIiB9IGFzIENvbm5lY3Rpb25PcHRpb25zLFxuICAgIH0gYXMgYW55KS5kYXRhVHlwZURlZmF1bHRzO1xuXG4gICAgcHVibGljIHJlYWRvbmx5IHN0YW5kYXJkUG9ydCA9IDA7XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhbmRhcmRVc2VyID0gXCJcIjtcblxuICAgIHB1YmxpYyByZWFkb25seSBzdGFuZGFyZFNjaGVtYSA9IFwiXCI7XG5cbiAgICBwcml2YXRlIHNxbGl0ZUxpYjogdHlwZW9mIHNxbGl0ZUxpYjtcblxuICAgIHByaXZhdGUgc3FsaXRlOiBzcWxpdGVMaWIuc3FsaXRlMztcblxuICAgIHByaXZhdGUgZGI6IHNxbGl0ZUxpYi5EYXRhYmFzZTtcblxuICAgIHByaXZhdGUgdGFibGVzV2l0aEdlbmVyYXRlZFByaW1hcnlLZXk6IHN0cmluZ1tdID0gbmV3IEFycmF5PHN0cmluZz4oKTtcblxuICAgIHB1YmxpYyBHZXRBbGxUYWJsZXNRdWVyeTogYW55O1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby1leHRyYW5lb3VzLWRlcGVuZGVuY2llcywgZ2xvYmFsLXJlcXVpcmUsIGltcG9ydC9uby11bnJlc29sdmVkXG4gICAgICAgICAgICB0aGlzLnNxbGl0ZUxpYiA9IHJlcXVpcmUoXCJzcWxpdGUzXCIpO1xuICAgICAgICAgICAgdGhpcy5zcWxpdGUgPSB0aGlzLnNxbGl0ZUxpYi52ZXJib3NlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBUb21nVXRpbHMuTG9nRXJyb3IoXCJcIiwgZmFsc2UsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIEdldEFsbFRhYmxlcyhcbiAgICAgICAgc2NoZW1hOiBzdHJpbmcsXG4gICAgICAgIGRiTmFtZXM6IHN0cmluZyxcbiAgICAgICAgdGFibGVOYW1lczogc3RyaW5nW11cbiAgICApOiBQcm9taXNlPEVudGl0eVtdPiB7XG4gICAgICAgIGNvbnN0IHJldDogRW50aXR5W10gPSBbXSBhcyBFbnRpdHlbXTtcbiAgICAgICAgY29uc3QgdGFibGVDb25kaXRpb24gPVxuICAgICAgICAgICAgdGFibGVOYW1lcy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgPyBgIEFORCBOT1QgdGJsX25hbWUgSU4gKCcke3RhYmxlTmFtZXMuam9pbihcIicsJ1wiKX0nKWBcbiAgICAgICAgICAgICAgICA6IFwiXCI7XG4gICAgICAgIGNvbnN0IHJvd3MgPSBhd2FpdCB0aGlzLkV4ZWNRdWVyeTx7IHRibF9uYW1lOiBzdHJpbmc7IHNxbDogc3RyaW5nIH0+KFxuICAgICAgICAgICAgYFNFTEVDVCB0YmxfbmFtZSwgc3FsIEZST00gXCJzcWxpdGVfbWFzdGVyXCIgV0hFUkUgXCJ0eXBlXCIgPSAndGFibGUnICBBTkQgbmFtZSBOT1QgTElLRSAnc3FsaXRlXyUnICR7dGFibGVDb25kaXRpb259YFxuICAgICAgICApO1xuICAgICAgICByb3dzLmZvckVhY2goKHZhbCkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbC5zcWwuaW5jbHVkZXMoXCJBVVRPSU5DUkVNRU5UXCIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YWJsZXNXaXRoR2VuZXJhdGVkUHJpbWFyeUtleS5wdXNoKHZhbC50YmxfbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXQucHVzaCh7XG4gICAgICAgICAgICAgICAgY29sdW1uczogW10sXG4gICAgICAgICAgICAgICAgaW5kaWNlczogW10sXG4gICAgICAgICAgICAgICAgcmVsYXRpb25zOiBbXSxcbiAgICAgICAgICAgICAgICByZWxhdGlvbklkczogW10sXG4gICAgICAgICAgICAgICAgc3FsTmFtZTogdmFsLnRibF9uYW1lLFxuICAgICAgICAgICAgICAgIHRzY05hbWU6IHZhbC50YmxfbmFtZSxcbiAgICAgICAgICAgICAgICBmaWxlSW1wb3J0czogW10sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIEdldENvdWxtbnNGcm9tRW50aXR5KGVudGl0aWVzOiBFbnRpdHlbXSk6IFByb21pc2U8RW50aXR5W10+IHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICBlbnRpdGllcy5tYXAoYXN5bmMgKGVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5FeGVjUXVlcnk8e1xuICAgICAgICAgICAgICAgICAgICBjaWQ6IG51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIG5vdG51bGw6IG51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgZGZsdF92YWx1ZTogc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICBwazogbnVtYmVyO1xuICAgICAgICAgICAgICAgIH0+KGBQUkFHTUEgdGFibGVfaW5mbygnJHtlbnQudHNjTmFtZX0nKTtgKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5mb3JFYWNoKChyZXNwKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRzY05hbWUgPSByZXNwLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0c2NUeXBlID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uczogQ29sdW1uW1wib3B0aW9uc1wiXSA9IHsgbmFtZTogcmVzcC5uYW1lIH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwLm5vdG51bGwgPT09IDApIG9wdGlvbnMubnVsbGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1ByaW1hcnkgPSByZXNwLnBrID4gMCA/IHRydWUgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IFNxbGl0ZURyaXZlci5SZXR1cm5EZWZhdWx0VmFsdWVGdW5jdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3AuZGZsdF92YWx1ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2x1bW5UeXBlID0gcmVzcC50eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFwoWzAtOSAsXStcXCkvZywgXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnZW5lcmF0ZWQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgaXNQcmltYXJ5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlc1dpdGhHZW5lcmF0ZWRQcmltYXJ5S2V5LmluY2x1ZGVzKGVudC50c2NOYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNvbHVtblR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnRlZ2VyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW50MlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImludDhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aW55aW50XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic21hbGxpbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtZWRpdW1pbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1bnNpZ25lZCBiaWcgaW50XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2hhcmFjdGVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidmFyY2hhclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInZhcnlpbmcgY2hhcmFjdGVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibmNoYXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJuYXRpdmUgY2hhcmFjdGVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibnZhcmNoYXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmxvYlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIkJ1ZmZlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNsb2JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZWFsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZG91YmxlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZG91YmxlIHByZWNpc2lvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZsb2F0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibnVtZXJpY1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRlY2ltYWxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwiYm9vbGVhblwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRhdGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkYXRldGltZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIkRhdGVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwiTm9uTnVsbGFibGU8dW5rbm93bj5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb21nVXRpbHMuTG9nRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBVbmtub3duIGNvbHVtbiB0eXBlOiAke2NvbHVtblR5cGV9ICB0YWJsZSBuYW1lOiAke2VudC50c2NOYW1lfSBjb2x1bW4gbmFtZTogJHtyZXNwLm5hbWV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3FsT3B0aW9ucyA9IHJlc3AudHlwZS5tYXRjaCgvXFwoWzAtOSAsXStcXCkvZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQ29sdW1uVHlwZXNXaXRoUHJlY2lzaW9uLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHYpID0+IHYgPT09IGNvbHVtblR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxbE9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnByZWNpc2lvbiA9IE51bWJlci5wYXJzZUludChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxPcHRpb25zWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdWJzdHJpbmcoMSwgc3FsT3B0aW9uc1swXS5sZW5ndGggLSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoXCIsXCIpWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zY2FsZSA9IE51bWJlci5wYXJzZUludChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxPcHRpb25zWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdWJzdHJpbmcoMSwgc3FsT3B0aW9uc1swXS5sZW5ndGggLSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoXCIsXCIpWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQ29sdW1uVHlwZXNXaXRoTGVuZ3RoLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHYpID0+IHYgPT09IGNvbHVtblR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxbE9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmxlbmd0aCA9IE51bWJlci5wYXJzZUludChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxPcHRpb25zWzBdLnN1YnN0cmluZyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3FsT3B0aW9uc1swXS5sZW5ndGggLSAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkNvbHVtblR5cGVzV2l0aFdpZHRoLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHYpID0+IHYgPT09IGNvbHVtblR5cGUgJiYgdHNjVHlwZSAhPT0gXCJib29sZWFuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHNxbE9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLndpZHRoID0gTnVtYmVyLnBhcnNlSW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNxbE9wdGlvbnNbMF0uc3Vic3RyaW5nKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcWxPcHRpb25zWzBdLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZW50LmNvbHVtbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5OiBpc1ByaW1hcnksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBjb2x1bW5UeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRzY05hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIGVudGl0aWVzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBHZXRJbmRleGVzRnJvbUVudGl0eShlbnRpdGllczogRW50aXR5W10pOiBQcm9taXNlPEVudGl0eVtdPiB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgICAgZW50aXRpZXMubWFwKGFzeW5jIChlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuRXhlY1F1ZXJ5PHtcbiAgICAgICAgICAgICAgICAgICAgc2VxOiBudW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgdW5pcXVlOiBudW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbjogc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsOiBudW1iZXI7XG4gICAgICAgICAgICAgICAgfT4oYFBSQUdNQSBpbmRleF9saXN0KCcke2VudC50c2NOYW1lfScpO2ApO1xuICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5tYXAoYXN5bmMgKHJlc3ApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4Q29sdW1uc1Jlc3BvbnNlID0gYXdhaXQgdGhpcy5FeGVjUXVlcnk8e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcW5vOiBudW1iZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lkOiBudW1iZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfT4oYFBSQUdNQSBpbmRleF9pbmZvKCcke3Jlc3AubmFtZX0nKTtgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXhJbmZvOiBJbmRleCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiByZXNwLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3AudW5pcXVlID09PSAxKSBpbmRleEluZm8ub3B0aW9ucy51bmlxdWUgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleENvbHVtbnNSZXNwb25zZS5mb3JFYWNoKChyZWNvcmQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleEluZm8uY29sdW1ucy5wdXNoKHJlY29yZC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Q29sdW1uc1Jlc3BvbnNlLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4SW5mby5vcHRpb25zLnVuaXF1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50LmNvbHVtbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh2KSA9PiB2LnRzY05hbWUgPT09IGluZGV4SW5mby5jb2x1bW5zWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5vcHRpb25zLnVuaXF1ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZW50LmluZGljZXMucHVzaChpbmRleEluZm8pO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBlbnRpdGllcztcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgR2V0UmVsYXRpb25zKFxuICAgICAgICBlbnRpdGllczogRW50aXR5W10sXG4gICAgICAgIHNjaGVtYTogc3RyaW5nLFxuICAgICAgICBkYk5hbWVzOiBzdHJpbmcsXG4gICAgICAgIGdlbmVyYXRpb25PcHRpb25zOiBJR2VuZXJhdGlvbk9wdGlvbnNcbiAgICApOiBQcm9taXNlPEVudGl0eVtdPiB7XG4gICAgICAgIGxldCByZXRWYWwgPSBlbnRpdGllcztcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICByZXRWYWwubWFwKGFzeW5jIChlbnRpdHkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuRXhlY1F1ZXJ5PHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgc2VxOiBudW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxlOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgdG86IHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgb25fdXBkYXRlOlxuICAgICAgICAgICAgICAgICAgICAgICAgfCBcIlJFU1RSSUNUXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHwgXCJDQVNDQURFXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHwgXCJTRVQgTlVMTFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB8IFwiTk8gQUNUSU9OXCI7XG4gICAgICAgICAgICAgICAgICAgIG9uX2RlbGV0ZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHwgXCJSRVNUUklDVFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB8IFwiQ0FTQ0FERVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB8IFwiU0VUIE5VTExcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfCBcIk5PIEFDVElPTlwiO1xuICAgICAgICAgICAgICAgICAgICBtYXRjaDogc3RyaW5nO1xuICAgICAgICAgICAgICAgIH0+KGBQUkFHTUEgZm9yZWlnbl9rZXlfbGlzdCgnJHtlbnRpdHkudHNjTmFtZX0nKTtgKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uc1RlbXA6IFJlbGF0aW9uSW50ZXJuYWxbXSA9IFtdIGFzIFJlbGF0aW9uSW50ZXJuYWxbXTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGlvbktleXMgPSBuZXcgU2V0KHJlc3BvbnNlLm1hcCgodikgPT4gdi5pZCkpO1xuXG4gICAgICAgICAgICAgICAgcmVsYXRpb25LZXlzLmZvckVhY2goKHJlbGF0aW9uSWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm93cyA9IHJlc3BvbnNlLmZpbHRlcigodikgPT4gdi5pZCA9PT0gcmVsYXRpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG93bmVyVGFibGUgPSBlbnRpdGllcy5maW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgKHYpID0+IHYuc3FsTmFtZSA9PT0gZW50aXR5LnRzY05hbWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVsYXRlZFRhYmxlID0gZW50aXRpZXMuZmluZChcbiAgICAgICAgICAgICAgICAgICAgICAgICh2KSA9PiB2LnNxbE5hbWUgPT09IHJvd3NbMF0udGFibGVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvd25lclRhYmxlIHx8ICFyZWxhdGVkVGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRvbWdVdGlscy5Mb2dFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgUmVsYXRpb24gYmV0d2VlbiB0YWJsZXMgJHtlbnRpdHkudHNjTmFtZX0gYW5kICR7cm93c1swXS50YWJsZX0gd2Fzbid0IGZvdW5kIGluIGVudGl0eSBtb2RlbC5gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZXJuYWw6IFJlbGF0aW9uSW50ZXJuYWwgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvd25lckNvbHVtbnM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZENvbHVtbnM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3duZXJUYWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWRUYWJsZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd3NbMF0ub25fZGVsZXRlICE9PSBcIk5PIEFDVElPTlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbC5vbkRlbGV0ZSA9IHJvd3NbMF0ub25fZGVsZXRlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3dzWzBdLm9uX3VwZGF0ZSAhPT0gXCJOTyBBQ1RJT05cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWwub25VcGRhdGUgPSByb3dzWzBdLm9uX3VwZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByb3dzLmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWwub3duZXJDb2x1bW5zLnB1c2gocm93LmZyb20pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWwucmVsYXRlZENvbHVtbnMucHVzaChyb3cudG8pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25zVGVtcC5wdXNoKGludGVybmFsKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldFZhbCA9IFNxbGl0ZURyaXZlci5HZXRSZWxhdGlvbnNGcm9tUmVsYXRpb25UZW1wSW5mbyhcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25zVGVtcCxcbiAgICAgICAgICAgICAgICAgICAgcmV0VmFsLFxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0aW9uT3B0aW9uc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcmV0VmFsO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBEaXNjb25uZWN0RnJvbVNlcnZlcigpIHtcbiAgICAgICAgdGhpcy5kYi5jbG9zZSgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBDb25uZWN0VG9TZXJ2ZXIoY29ubmVjdGlvbk9wdG9uczogSUNvbm5lY3Rpb25PcHRpb25zKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuVXNlREIoY29ubmVjdGlvbk9wdG9ucy5kYXRhYmFzZU5hbWUpO1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gICAgcHVibGljIGFzeW5jIENyZWF0ZURCKCkge1xuICAgICAgICAvLyBub3Qgc3VwcG9ydGVkXG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIFVzZURCKGRiTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZTxib29sZWFuPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRiID0gbmV3IHRoaXMuc3FsaXRlLkRhdGFiYXNlKGRiTmFtZSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgVG9tZ1V0aWxzLkxvZ0Vycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJFcnJvciBjb25uZWN0aW5nIHRvIFNRTGl0ZSBkYXRhYmFzZS5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICAgIHB1YmxpYyBhc3luYyBEcm9wREIoKSB7XG4gICAgICAgIC8vIG5vdCBzdXBwb3J0ZWRcbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICAgIHB1YmxpYyBhc3luYyBDaGVja0lmREJFeGlzdHMoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBFeGVjUXVlcnk8VD4oc3FsOiBzdHJpbmcpOiBQcm9taXNlPFRbXT4ge1xuICAgICAgICBsZXQgcmV0OiBUW10gPSBbXTtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlPGJvb2xlYW4+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGIuc2VyaWFsaXplKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRiLmFsbChzcWwsIFtdLCAoZXJyLCByb3cpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHJvdztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUb21nVXRpbHMuTG9nRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJFcnJvciBleGVjdXRpbmcgcXVlcnkgb24gU1FMaXRlLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyci5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgcHJvbWlzZTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBSZXR1cm5EZWZhdWx0VmFsdWVGdW5jdGlvbihcbiAgICAgICAgZGVmVmFsOiBzdHJpbmcgfCBudWxsXG4gICAgKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgaWYgKCFkZWZWYWwpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYCgpID0+IFwiJHtkZWZWYWx9XCJgO1xuICAgIH1cbn1cbiJdfQ==