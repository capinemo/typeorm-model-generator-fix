"use strict";function cov_1jfepr207i(){var path="/home/nemo/work/github/typeorm-model-generator/src/drivers/MssqlDriver.ts";var hash="038a818f455adff581febfa0f30837195dab4e2f";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/nemo/work/github/typeorm-model-generator/src/drivers/MssqlDriver.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:22},end:{line:3,column:73}},"2":{start:{line:4,column:18},end:{line:4,column:37}},"3":{start:{line:5,column:25},end:{line:5,column:52}},"4":{start:{line:8,column:8},end:{line:8,column:16}},"5":{start:{line:9,column:8},end:{line:11,column:28}},"6":{start:{line:12,column:8},end:{line:12,column:33}},"7":{start:{line:13,column:8},end:{line:13,column:36}},"8":{start:{line:14,column:8},end:{line:14,column:33}},"9":{start:{line:15,column:8},end:{line:23,column:10}},"10":{start:{line:16,column:28},end:{line:16,column:67}},"11":{start:{line:17,column:35},end:{line:19,column:20}},"12":{start:{line:20,column:29},end:{line:21,column:164}},"13":{start:{line:22,column:12},end:{line:22,column:28}},"14":{start:{line:24,column:8},end:{line:31,column:9}},"15":{start:{line:26,column:12},end:{line:26,column:42}},"16":{start:{line:29,column:12},end:{line:29,column:49}},"17":{start:{line:30,column:12},end:{line:30,column:24}},"18":{start:{line:34,column:24},end:{line:34,column:63}},"19":{start:{line:35,column:25},end:{line:49,column:51}},"20":{start:{line:50,column:8},end:{line:197,column:11}},"21":{start:{line:51,column:12},end:{line:196,column:15}},"22":{start:{line:53,column:16},end:{line:54,column:59}},"23":{start:{line:57,column:32},end:{line:57,column:48}},"24":{start:{line:58,column:32},end:{line:60,column:17}},"25":{start:{line:61,column:16},end:{line:62,column:44}},"26":{start:{line:62,column:20},end:{line:62,column:44}},"27":{start:{line:63,column:16},end:{line:64,column:42}},"28":{start:{line:64,column:20},end:{line:64,column:42}},"29":{start:{line:65,column:34},end:{line:65,column:74}},"30":{start:{line:66,column:37},end:{line:66,column:96}},"31":{start:{line:67,column:35},end:{line:67,column:49}},"32":{start:{line:68,column:30},end:{line:68,column:32}},"33":{start:{line:69,column:16},end:{line:173,column:17}},"34":{start:{line:71,column:24},end:{line:71,column:43}},"35":{start:{line:72,column:24},end:{line:72,column:30}},"36":{start:{line:74,column:24},end:{line:74,column:44}},"37":{start:{line:75,column:24},end:{line:75,column:30}},"38":{start:{line:77,column:24},end:{line:77,column:43}},"39":{start:{line:78,column:24},end:{line:78,column:30}},"40":{start:{line:80,column:24},end:{line:80,column:43}},"41":{start:{line:81,column:24},end:{line:81,column:30}},"42":{start:{line:83,column:24},end:{line:83,column:43}},"43":{start:{line:84,column:24},end:{line:84,column:30}},"44":{start:{line:86,column:24},end:{line:86,column:43}},"45":{start:{line:87,column:24},end:{line:87,column:30}},"46":{start:{line:89,column:24},end:{line:89,column:43}},"47":{start:{line:90,column:24},end:{line:90,column:30}},"48":{start:{line:92,column:24},end:{line:92,column:43}},"49":{start:{line:93,column:24},end:{line:93,column:30}},"50":{start:{line:95,column:24},end:{line:95,column:43}},"51":{start:{line:96,column:24},end:{line:96,column:30}},"52":{start:{line:98,column:24},end:{line:98,column:43}},"53":{start:{line:99,column:24},end:{line:99,column:30}},"54":{start:{line:101,column:24},end:{line:101,column:43}},"55":{start:{line:102,column:24},end:{line:102,column:30}},"56":{start:{line:104,column:24},end:{line:104,column:41}},"57":{start:{line:105,column:24},end:{line:105,column:30}},"58":{start:{line:107,column:24},end:{line:107,column:41}},"59":{start:{line:108,column:24},end:{line:108,column:30}},"60":{start:{line:110,column:24},end:{line:110,column:41}},"61":{start:{line:111,column:24},end:{line:111,column:30}},"62":{start:{line:113,column:24},end:{line:113,column:41}},"63":{start:{line:114,column:24},end:{line:114,column:30}},"64":{start:{line:116,column:24},end:{line:116,column:41}},"65":{start:{line:117,column:24},end:{line:117,column:30}},"66":{start:{line:119,column:24},end:{line:119,column:41}},"67":{start:{line:120,column:24},end:{line:120,column:30}},"68":{start:{line:122,column:24},end:{line:122,column:43}},"69":{start:{line:123,column:24},end:{line:123,column:30}},"70":{start:{line:125,column:24},end:{line:125,column:43}},"71":{start:{line:126,column:24},end:{line:126,column:30}},"72":{start:{line:128,column:24},end:{line:128,column:43}},"73":{start:{line:129,column:24},end:{line:129,column:30}},"74":{start:{line:131,column:24},end:{line:131,column:43}},"75":{start:{line:132,column:24},end:{line:132,column:30}},"76":{start:{line:134,column:24},end:{line:134,column:43}},"77":{start:{line:135,column:24},end:{line:135,column:30}},"78":{start:{line:137,column:24},end:{line:137,column:43}},"79":{start:{line:138,column:24},end:{line:138,column:30}},"80":{start:{line:140,column:24},end:{line:140,column:43}},"81":{start:{line:141,column:24},end:{line:141,column:30}},"82":{start:{line:143,column:24},end:{line:143,column:43}},"83":{start:{line:144,column:24},end:{line:144,column:30}},"84":{start:{line:146,column:24},end:{line:146,column:43}},"85":{start:{line:147,column:24},end:{line:147,column:30}},"86":{start:{line:149,column:24},end:{line:149,column:43}},"87":{start:{line:150,column:24},end:{line:150,column:30}},"88":{start:{line:152,column:24},end:{line:152,column:43}},"89":{start:{line:153,column:24},end:{line:153,column:30}},"90":{start:{line:155,column:24},end:{line:155,column:41}},"91":{start:{line:156,column:24},end:{line:156,column:30}},"92":{start:{line:158,column:24},end:{line:158,column:43}},"93":{start:{line:159,column:24},end:{line:159,column:30}},"94":{start:{line:161,column:24},end:{line:161,column:43}},"95":{start:{line:162,column:24},end:{line:162,column:30}},"96":{start:{line:164,column:24},end:{line:164,column:43}},"97":{start:{line:165,column:24},end:{line:165,column:30}},"98":{start:{line:167,column:24},end:{line:167,column:43}},"99":{start:{line:168,column:24},end:{line:168,column:30}},"100":{start:{line:170,column:24},end:{line:170,column:57}},"101":{start:{line:171,column:24},end:{line:171,column:150}},"102":{start:{line:172,column:24},end:{line:172,column:30}},"103":{start:{line:174,column:16},end:{line:181,column:17}},"104":{start:{line:174,column:62},end:{line:174,column:78}},"105":{start:{line:175,column:20},end:{line:177,column:21}},"106":{start:{line:176,column:24},end:{line:176,column:67}},"107":{start:{line:178,column:20},end:{line:180,column:21}},"108":{start:{line:179,column:24},end:{line:179,column:59}},"109":{start:{line:182,column:16},end:{line:187,column:17}},"110":{start:{line:182,column:59},end:{line:182,column:75}},"111":{start:{line:183,column:20},end:{line:186,column:40}},"112":{start:{line:188,column:16},end:{line:195,column:19}},"113":{start:{line:198,column:8},end:{line:198,column:24}},"114":{start:{line:201,column:24},end:{line:201,column:63}},"115":{start:{line:202,column:25},end:{line:202,column:27}},"116":{start:{line:203,column:8},end:{line:229,column:12}},"117":{start:{line:204,column:12},end:{line:206,column:13}},"118":{start:{line:205,column:16},end:{line:205,column:41}},"119":{start:{line:207,column:25},end:{line:227,column:73}},"120":{start:{line:228,column:12},end:{line:228,column:35}},"121":{start:{line:230,column:8},end:{line:250,column:11}},"122":{start:{line:231,column:34},end:{line:232,column:53}},"123":{start:{line:231,column:65},end:{line:232,column:52}},"124":{start:{line:233,column:31},end:{line:233,column:77}},"125":{start:{line:233,column:64},end:{line:233,column:75}},"126":{start:{line:234,column:12},end:{line:249,column:15}},"127":{start:{line:235,column:32},end:{line:235,column:86}},"128":{start:{line:235,column:60},end:{line:235,column:85}},"129":{start:{line:236,column:34},end:{line:240,column:17}},"130":{start:{line:241,column:16},end:{line:242,column:45}},"131":{start:{line:242,column:20},end:{line:242,column:45}},"132":{start:{line:243,column:16},end:{line:244,column:52}},"133":{start:{line:244,column:20},end:{line:244,column:52}},"134":{start:{line:245,column:16},end:{line:247,column:19}},"135":{start:{line:246,column:20},end:{line:246,column:62}},"136":{start:{line:248,column:16},end:{line:248,column:44}},"137":{start:{line:251,column:8},end:{line:251,column:24}},"138":{start:{line:254,column:24},end:{line:254,column:63}},"139":{start:{line:255,column:25},end:{line:255,column:27}},"140":{start:{line:256,column:8},end:{line:288,column:12}},"141":{start:{line:257,column:12},end:{line:259,column:13}},"142":{start:{line:258,column:16},end:{line:258,column:41}},"143":{start:{line:260,column:25},end:{line:286,column:55}},"144":{start:{line:287,column:12},end:{line:287,column:35}},"145":{start:{line:289,column:30},end:{line:289,column:32}},"146":{start:{line:290,column:29},end:{line:290,column:69}},"147":{start:{line:290,column:57},end:{line:290,column:67}},"148":{start:{line:291,column:8},end:{line:330,column:11}},"149":{start:{line:292,column:25},end:{line:292,column:74}},"150":{start:{line:292,column:48},end:{line:292,column:73}},"151":{start:{line:293,column:31},end:{line:293,column:94}},"152":{start:{line:293,column:52},end:{line:293,column:93}},"153":{start:{line:294,column:33},end:{line:294,column:92}},"154":{start:{line:294,column:54},end:{line:294,column:91}},"155":{start:{line:295,column:12},end:{line:298,column:13}},"156":{start:{line:296,column:16},end:{line:296,column:160}},"157":{start:{line:297,column:16},end:{line:297,column:23}},"158":{start:{line:299,column:29},end:{line:304,column:13}},"159":{start:{line:305,column:12},end:{line:314,column:13}},"160":{start:{line:307,column:20},end:{line:307,column:26}},"161":{start:{line:309,column:20},end:{line:309,column:51}},"162":{start:{line:310,column:20},end:{line:310,column:26}},"163":{start:{line:312,column:20},end:{line:312,column:57}},"164":{start:{line:313,column:20},end:{line:313,column:26}},"165":{start:{line:315,column:12},end:{line:324,column:13}},"166":{start:{line:317,column:20},end:{line:317,column:26}},"167":{start:{line:319,column:20},end:{line:319,column:51}},"168":{start:{line:320,column:20},end:{line:320,column:26}},"169":{start:{line:322,column:20},end:{line:322,column:57}},"170":{start:{line:323,column:20},end:{line:323,column:26}},"171":{start:{line:325,column:12},end:{line:328,column:15}},"172":{start:{line:326,column:16},end:{line:326,column:65}},"173":{start:{line:327,column:16},end:{line:327,column:77}},"174":{start:{line:329,column:12},end:{line:329,column:41}},"175":{start:{line:331,column:23},end:{line:331,column:111}},"176":{start:{line:332,column:8},end:{line:332,column:22}},"177":{start:{line:335,column:8},end:{line:337,column:9}},"178":{start:{line:336,column:12},end:{line:336,column:42}},"179":{start:{line:340,column:29},end:{line:340,column:72}},"180":{start:{line:341,column:23},end:{line:352,column:9}},"181":{start:{line:353,column:24},end:{line:363,column:10}},"182":{start:{line:354,column:12},end:{line:362,column:15}},"183":{start:{line:355,column:16},end:{line:361,column:17}},"184":{start:{line:356,column:20},end:{line:356,column:34}},"185":{start:{line:359,column:20},end:{line:359,column:96}},"186":{start:{line:360,column:20},end:{line:360,column:32}},"187":{start:{line:364,column:8},end:{line:364,column:22}},"188":{start:{line:367,column:24},end:{line:367,column:63}},"189":{start:{line:368,column:8},end:{line:368,column:59}},"190":{start:{line:371,column:24},end:{line:371,column:63}},"191":{start:{line:372,column:8},end:{line:372,column:47}},"192":{start:{line:375,column:24},end:{line:375,column:63}},"193":{start:{line:376,column:8},end:{line:376,column:57}},"194":{start:{line:379,column:24},end:{line:379,column:63}},"195":{start:{line:380,column:21},end:{line:380,column:108}},"196":{start:{line:381,column:8},end:{line:381,column:41}},"197":{start:{line:384,column:27},end:{line:384,column:33}},"198":{start:{line:385,column:8},end:{line:387,column:9}},"199":{start:{line:386,column:12},end:{line:386,column:29}},"200":{start:{line:388,column:8},end:{line:390,column:9}},"201":{start:{line:389,column:12},end:{line:389,column:53}},"202":{start:{line:391,column:8},end:{line:391,column:41}},"203":{start:{line:394,column:0},end:{line:394,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:18},end:{line:32,column:5}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:15,column:33},end:{line:15,column:34}},loc:{start:{line:15,column:72},end:{line:23,column:9}},line:15},"2":{name:"(anonymous_2)",decl:{start:{line:33,column:4},end:{line:33,column:5}},loc:{start:{line:33,column:58},end:{line:199,column:5}},line:33},"3":{name:"(anonymous_3)",decl:{start:{line:50,column:25},end:{line:50,column:26}},loc:{start:{line:50,column:34},end:{line:197,column:9}},line:50},"4":{name:"(anonymous_4)",decl:{start:{line:52,column:24},end:{line:52,column:25}},loc:{start:{line:52,column:39},end:{line:55,column:13}},line:52},"5":{name:"(anonymous_5)",decl:{start:{line:56,column:25},end:{line:56,column:26}},loc:{start:{line:56,column:35},end:{line:196,column:13}},line:56},"6":{name:"(anonymous_6)",decl:{start:{line:174,column:55},end:{line:174,column:56}},loc:{start:{line:174,column:62},end:{line:174,column:78}},line:174},"7":{name:"(anonymous_7)",decl:{start:{line:182,column:52},end:{line:182,column:53}},loc:{start:{line:182,column:59},end:{line:182,column:75}},line:182},"8":{name:"(anonymous_8)",decl:{start:{line:200,column:4},end:{line:200,column:5}},loc:{start:{line:200,column:58},end:{line:252,column:5}},line:200},"9":{name:"(anonymous_9)",decl:{start:{line:203,column:49},end:{line:203,column:50}},loc:{start:{line:203,column:67},end:{line:229,column:9}},line:203},"10":{name:"(anonymous_10)",decl:{start:{line:230,column:25},end:{line:230,column:26}},loc:{start:{line:230,column:34},end:{line:250,column:9}},line:230},"11":{name:"(anonymous_11)",decl:{start:{line:231,column:50},end:{line:231,column:51}},loc:{start:{line:231,column:65},end:{line:232,column:52}},line:231},"12":{name:"(anonymous_12)",decl:{start:{line:233,column:57},end:{line:233,column:58}},loc:{start:{line:233,column:64},end:{line:233,column:75}},line:233},"13":{name:"(anonymous_13)",decl:{start:{line:234,column:31},end:{line:234,column:32}},loc:{start:{line:234,column:46},end:{line:249,column:13}},line:234},"14":{name:"(anonymous_14)",decl:{start:{line:235,column:53},end:{line:235,column:54}},loc:{start:{line:235,column:60},end:{line:235,column:85}},line:235},"15":{name:"(anonymous_15)",decl:{start:{line:245,column:32},end:{line:245,column:33}},loc:{start:{line:245,column:44},end:{line:247,column:17}},line:245},"16":{name:"(anonymous_16)",decl:{start:{line:253,column:4},end:{line:253,column:5}},loc:{start:{line:253,column:69},end:{line:333,column:5}},line:253},"17":{name:"(anonymous_17)",decl:{start:{line:256,column:49},end:{line:256,column:50}},loc:{start:{line:256,column:67},end:{line:288,column:9}},line:256},"18":{name:"(anonymous_18)",decl:{start:{line:290,column:50},end:{line:290,column:51}},loc:{start:{line:290,column:57},end:{line:290,column:67}},line:290},"19":{name:"(anonymous_19)",decl:{start:{line:291,column:29},end:{line:291,column:30}},loc:{start:{line:291,column:45},end:{line:330,column:9}},line:291},"20":{name:"(anonymous_20)",decl:{start:{line:292,column:41},end:{line:292,column:42}},loc:{start:{line:292,column:48},end:{line:292,column:73}},line:292},"21":{name:"(anonymous_21)",decl:{start:{line:293,column:45},end:{line:293,column:46}},loc:{start:{line:293,column:52},end:{line:293,column:93}},line:293},"22":{name:"(anonymous_22)",decl:{start:{line:294,column:47},end:{line:294,column:48}},loc:{start:{line:294,column:54},end:{line:294,column:91}},line:294},"23":{name:"(anonymous_23)",decl:{start:{line:325,column:25},end:{line:325,column:26}},loc:{start:{line:325,column:34},end:{line:328,column:13}},line:325},"24":{name:"(anonymous_24)",decl:{start:{line:334,column:4},end:{line:334,column:5}},loc:{start:{line:334,column:33},end:{line:338,column:5}},line:334},"25":{name:"(anonymous_25)",decl:{start:{line:339,column:4},end:{line:339,column:5}},loc:{start:{line:339,column:44},end:{line:365,column:5}},line:339},"26":{name:"(anonymous_26)",decl:{start:{line:353,column:36},end:{line:353,column:37}},loc:{start:{line:353,column:57},end:{line:363,column:9}},line:353},"27":{name:"(anonymous_27)",decl:{start:{line:354,column:68},end:{line:354,column:69}},loc:{start:{line:354,column:77},end:{line:362,column:13}},line:354},"28":{name:"(anonymous_28)",decl:{start:{line:366,column:4},end:{line:366,column:5}},loc:{start:{line:366,column:27},end:{line:369,column:5}},line:366},"29":{name:"(anonymous_29)",decl:{start:{line:370,column:4},end:{line:370,column:5}},loc:{start:{line:370,column:24},end:{line:373,column:5}},line:370},"30":{name:"(anonymous_30)",decl:{start:{line:374,column:4},end:{line:374,column:5}},loc:{start:{line:374,column:25},end:{line:377,column:5}},line:374},"31":{name:"(anonymous_31)",decl:{start:{line:378,column:4},end:{line:378,column:5}},loc:{start:{line:378,column:34},end:{line:382,column:5}},line:378},"32":{name:"(anonymous_32)",decl:{start:{line:383,column:4},end:{line:383,column:5}},loc:{start:{line:383,column:46},end:{line:392,column:5}},line:383}},branchMap:{"0":{loc:{start:{line:17,column:35},end:{line:19,column:20}},type:"cond-expr",locations:[{start:{line:18,column:18},end:{line:18,column:72}},{start:{line:19,column:18},end:{line:19,column:20}}],line:17},"1":{loc:{start:{line:53,column:24},end:{line:54,column:57}},type:"binary-expr",locations:[{start:{line:53,column:24},end:{line:53,column:60}},{start:{line:54,column:20},end:{line:54,column:57}}],line:53},"2":{loc:{start:{line:61,column:16},end:{line:62,column:44}},type:"if",locations:[{start:{line:61,column:16},end:{line:62,column:44}},{start:{line:61,column:16},end:{line:62,column:44}}],line:61},"3":{loc:{start:{line:63,column:16},end:{line:64,column:42}},type:"if",locations:[{start:{line:63,column:16},end:{line:64,column:42}},{start:{line:63,column:16},end:{line:64,column:42}}],line:63},"4":{loc:{start:{line:65,column:34},end:{line:65,column:74}},type:"cond-expr",locations:[{start:{line:65,column:58},end:{line:65,column:62}},{start:{line:65,column:65},end:{line:65,column:74}}],line:65},"5":{loc:{start:{line:69,column:16},end:{line:173,column:17}},type:"switch",locations:[{start:{line:70,column:20},end:{line:72,column:30}},{start:{line:73,column:20},end:{line:75,column:30}},{start:{line:76,column:20},end:{line:78,column:30}},{start:{line:79,column:20},end:{line:81,column:30}},{start:{line:82,column:20},end:{line:84,column:30}},{start:{line:85,column:20},end:{line:87,column:30}},{start:{line:88,column:20},end:{line:90,column:30}},{start:{line:91,column:20},end:{line:93,column:30}},{start:{line:94,column:20},end:{line:96,column:30}},{start:{line:97,column:20},end:{line:99,column:30}},{start:{line:100,column:20},end:{line:102,column:30}},{start:{line:103,column:20},end:{line:105,column:30}},{start:{line:106,column:20},end:{line:108,column:30}},{start:{line:109,column:20},end:{line:111,column:30}},{start:{line:112,column:20},end:{line:114,column:30}},{start:{line:115,column:20},end:{line:117,column:30}},{start:{line:118,column:20},end:{line:120,column:30}},{start:{line:121,column:20},end:{line:123,column:30}},{start:{line:124,column:20},end:{line:126,column:30}},{start:{line:127,column:20},end:{line:129,column:30}},{start:{line:130,column:20},end:{line:132,column:30}},{start:{line:133,column:20},end:{line:135,column:30}},{start:{line:136,column:20},end:{line:138,column:30}},{start:{line:139,column:20},end:{line:141,column:30}},{start:{line:142,column:20},end:{line:144,column:30}},{start:{line:145,column:20},end:{line:147,column:30}},{start:{line:148,column:20},end:{line:150,column:30}},{start:{line:151,column:20},end:{line:153,column:30}},{start:{line:154,column:20},end:{line:156,column:30}},{start:{line:157,column:20},end:{line:159,column:30}},{start:{line:160,column:20},end:{line:162,column:30}},{start:{line:163,column:20},end:{line:165,column:30}},{start:{line:166,column:20},end:{line:168,column:30}},{start:{line:169,column:20},end:{line:172,column:30}}],line:69},"6":{loc:{start:{line:174,column:16},end:{line:181,column:17}},type:"if",locations:[{start:{line:174,column:16},end:{line:181,column:17}},{start:{line:174,column:16},end:{line:181,column:17}}],line:174},"7":{loc:{start:{line:175,column:20},end:{line:177,column:21}},type:"if",locations:[{start:{line:175,column:20},end:{line:177,column:21}},{start:{line:175,column:20},end:{line:177,column:21}}],line:175},"8":{loc:{start:{line:178,column:20},end:{line:180,column:21}},type:"if",locations:[{start:{line:178,column:20},end:{line:180,column:21}},{start:{line:178,column:20},end:{line:180,column:21}}],line:178},"9":{loc:{start:{line:182,column:16},end:{line:187,column:17}},type:"if",locations:[{start:{line:182,column:16},end:{line:187,column:17}},{start:{line:182,column:16},end:{line:187,column:17}}],line:182},"10":{loc:{start:{line:184,column:24},end:{line:186,column:39}},type:"cond-expr",locations:[{start:{line:185,column:30},end:{line:185,column:59}},{start:{line:186,column:30},end:{line:186,column:39}}],line:184},"11":{loc:{start:{line:204,column:12},end:{line:206,column:13}},type:"if",locations:[{start:{line:204,column:12},end:{line:206,column:13}},{start:{line:204,column:12},end:{line:206,column:13}}],line:204},"12":{loc:{start:{line:231,column:65},end:{line:232,column:52}},type:"binary-expr",locations:[{start:{line:231,column:65},end:{line:231,column:100}},{start:{line:232,column:16},end:{line:232,column:52}}],line:231},"13":{loc:{start:{line:241,column:16},end:{line:242,column:45}},type:"if",locations:[{start:{line:241,column:16},end:{line:242,column:45}},{start:{line:241,column:16},end:{line:242,column:45}}],line:241},"14":{loc:{start:{line:243,column:16},end:{line:244,column:52}},type:"if",locations:[{start:{line:243,column:16},end:{line:244,column:52}},{start:{line:243,column:16},end:{line:244,column:52}}],line:243},"15":{loc:{start:{line:257,column:12},end:{line:259,column:13}},type:"if",locations:[{start:{line:257,column:12},end:{line:259,column:13}},{start:{line:257,column:12},end:{line:259,column:13}}],line:257},"16":{loc:{start:{line:295,column:12},end:{line:298,column:13}},type:"if",locations:[{start:{line:295,column:12},end:{line:298,column:13}},{start:{line:295,column:12},end:{line:298,column:13}}],line:295},"17":{loc:{start:{line:295,column:16},end:{line:295,column:44}},type:"binary-expr",locations:[{start:{line:295,column:16},end:{line:295,column:27}},{start:{line:295,column:31},end:{line:295,column:44}}],line:295},"18":{loc:{start:{line:305,column:12},end:{line:314,column:13}},type:"switch",locations:[{start:{line:306,column:16},end:{line:307,column:26}},{start:{line:308,column:16},end:{line:310,column:26}},{start:{line:311,column:16},end:{line:313,column:26}}],line:305},"19":{loc:{start:{line:315,column:12},end:{line:324,column:13}},type:"switch",locations:[{start:{line:316,column:16},end:{line:317,column:26}},{start:{line:318,column:16},end:{line:320,column:26}},{start:{line:321,column:16},end:{line:323,column:26}}],line:315},"20":{loc:{start:{line:335,column:8},end:{line:337,column:9}},type:"if",locations:[{start:{line:335,column:8},end:{line:337,column:9}},{start:{line:335,column:8},end:{line:337,column:9}}],line:335},"21":{loc:{start:{line:355,column:16},end:{line:361,column:17}},type:"if",locations:[{start:{line:355,column:16},end:{line:361,column:17}},{start:{line:355,column:16},end:{line:361,column:17}}],line:355},"22":{loc:{start:{line:385,column:8},end:{line:387,column:9}},type:"if",locations:[{start:{line:385,column:8},end:{line:387,column:9}},{start:{line:385,column:8},end:{line:387,column:9}}],line:385},"23":{loc:{start:{line:388,column:8},end:{line:390,column:9}},type:"if",locations:[{start:{line:388,column:8},end:{line:390,column:9}},{start:{line:388,column:8},end:{line:390,column:9}}],line:388},"24":{loc:{start:{line:388,column:12},end:{line:388,column:70}},type:"binary-expr",locations:[{start:{line:388,column:12},end:{line:388,column:40}},{start:{line:388,column:44},end:{line:388,column:70}}],line:388}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0,0],"19":[0,0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0]},inputSourceMap:{version:3,file:"/home/nemo/work/github/typeorm-model-generator/src/drivers/MssqlDriver.ts",sources:["/home/nemo/work/github/typeorm-model-generator/src/drivers/MssqlDriver.ts"],names:[],mappings:"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",sourcesContent:["import type * as MSSQL from \"mssql\";\nimport { ConnectionOptions } from \"typeorm\";\nimport * as TypeormDriver from \"typeorm/driver/sqlserver/SqlServerDriver\";\nimport { DataTypeDefaults } from \"typeorm/driver/types/DataTypeDefaults\";\nimport * as TomgUtils from \"../Utils\";\nimport AbstractDriver from \"./AbstractDriver\";\nimport IConnectionOptions from \"../IConnectionOptions\";\nimport { Entity } from \"../models/Entity\";\nimport { Column } from \"../models/Column\";\nimport { Index } from \"../models/Index\";\nimport IGenerationOptions from \"../IGenerationOptions\";\nimport { RelationInternal } from \"../models/RelationInternal\";\n\nexport default class MssqlDriver extends AbstractDriver {\n    public defaultValues: DataTypeDefaults = new TypeormDriver.SqlServerDriver({\n        options: { replication: undefined } as ConnectionOptions,\n    } as any).dataTypeDefaults;\n\n    public readonly standardPort = 1433;\n\n    public readonly standardSchema = \"dbo\";\n\n    public readonly standardUser = \"sa\";\n\n    private MSSQL: typeof MSSQL;\n\n    private Connection: MSSQL.ConnectionPool;\n\n    public constructor() {\n        super();\n        try {\n            // eslint-disable-next-line import/no-extraneous-dependencies, global-require, import/no-unresolved\n            this.MSSQL = require(\"mssql\");\n        } catch (error) {\n            TomgUtils.LogError(\"\", false, error);\n            throw error;\n        }\n    }\n\n    public GetAllTablesQuery = async (\n        schema: string,\n        dbNames: string,\n        tableNames: string[]\n    ) => {\n        const request = new this.MSSQL.Request(this.Connection);\n        const tableCondition =\n            tableNames.length > 0\n                ? ` AND NOT TABLE_NAME IN ('${tableNames.join(\"','\")}')`\n                : \"\";\n        const response: {\n            TABLE_SCHEMA: string;\n            TABLE_NAME: string;\n            DB_NAME: string;\n        }[] = (\n            await request.query(\n                `SELECT TABLE_SCHEMA,TABLE_NAME, table_catalog as \"DB_NAME\" FROM INFORMATION_SCHEMA.TABLES\nWHERE TABLE_TYPE='BASE TABLE' and TABLE_SCHEMA in (${schema}) AND TABLE_CATALOG in (${MssqlDriver.escapeCommaSeparatedList(\n                    dbNames\n                )}) ${tableCondition}`\n            )\n        ).recordset;\n        return response;\n    };\n\n    public async GetCoulmnsFromEntity(\n        entities: Entity[],\n        schema: string,\n        dbNames: string\n    ): Promise<Entity[]> {\n        const request = new this.MSSQL.Request(this.Connection);\n        const response: {\n            TABLE_NAME: string;\n            COLUMN_NAME: string;\n            TABLE_SCHEMA: string;\n            COLUMN_DEFAULT: string;\n            IS_NULLABLE: string;\n            DATA_TYPE: string;\n            CHARACTER_MAXIMUM_LENGTH: number;\n            NUMERIC_PRECISION: number;\n            NUMERIC_SCALE: number;\n            IsIdentity: number;\n            IsUnique: number;\n        }[] = (\n            await request.query(`SELECT TABLE_NAME,TABLE_SCHEMA,COLUMN_NAME,COLUMN_DEFAULT,IS_NULLABLE,\n        DATA_TYPE,CHARACTER_MAXIMUM_LENGTH,NUMERIC_PRECISION,NUMERIC_SCALE,\n        COLUMNPROPERTY(object_id(TABLE_NAME), COLUMN_NAME, 'IsIdentity') IsIdentity,\n        (SELECT count(*)\n         FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS tc\n             inner join INFORMATION_SCHEMA.CONSTRAINT_COLUMN_USAGE cu\n                 on cu.CONSTRAINT_NAME = tc.CONSTRAINT_NAME\n         where\n             tc.CONSTRAINT_TYPE = 'UNIQUE'\n             and tc.TABLE_NAME = c.TABLE_NAME\n             and cu.COLUMN_NAME = c.COLUMN_NAME\n             and tc.TABLE_SCHEMA=c.TABLE_SCHEMA) IsUnique\n        FROM INFORMATION_SCHEMA.COLUMNS c\n        where TABLE_SCHEMA in (${schema}) AND TABLE_CATALOG in (${MssqlDriver.escapeCommaSeparatedList(\n                dbNames\n            )})\n             order by ordinal_position`)\n        ).recordset;\n        entities.forEach((ent) => {\n            response\n                .filter((filterVal) => {\n                    return (\n                        filterVal.TABLE_NAME === ent.tscName &&\n                        filterVal.TABLE_SCHEMA === ent.schema\n                    );\n                })\n                .forEach((resp) => {\n                    const tscName = resp.COLUMN_NAME;\n                    const options: Column[\"options\"] = {\n                        name: resp.COLUMN_NAME,\n                    };\n                    if (resp.IS_NULLABLE === \"YES\") options.nullable = true;\n                    if (resp.IsUnique === 1) options.unique = true;\n                    const generated = resp.IsIdentity === 1 ? true : undefined;\n                    const defaultValue = MssqlDriver.ReturnDefaultValueFunction(\n                        resp.COLUMN_DEFAULT\n                    );\n                    const columnType = resp.DATA_TYPE;\n                    let tscType = \"\";\n                    switch (resp.DATA_TYPE) {\n                        case \"bigint\":\n                            tscType = \"string\";\n                            break;\n                        case \"bit\":\n                            tscType = \"boolean\";\n                            break;\n                        case \"decimal\":\n                            tscType = \"number\";\n                            break;\n                        case \"int\":\n                            tscType = \"number\";\n                            break;\n                        case \"money\":\n                            tscType = \"number\";\n                            break;\n                        case \"numeric\":\n                            tscType = \"number\";\n                            break;\n                        case \"smallint\":\n                            tscType = \"number\";\n                            break;\n                        case \"smallmoney\":\n                            tscType = \"number\";\n                            break;\n                        case \"tinyint\":\n                            tscType = \"number\";\n                            break;\n                        case \"float\":\n                            tscType = \"number\";\n                            break;\n                        case \"real\":\n                            tscType = \"number\";\n                            break;\n                        case \"date\":\n                            tscType = \"Date\";\n                            break;\n                        case \"datetime2\":\n                            tscType = \"Date\";\n                            break;\n                        case \"datetime\":\n                            tscType = \"Date\";\n                            break;\n                        case \"datetimeoffset\":\n                            tscType = \"Date\";\n                            break;\n                        case \"smalldatetime\":\n                            tscType = \"Date\";\n                            break;\n                        case \"time\":\n                            tscType = \"Date\";\n                            break;\n                        case \"char\":\n                            tscType = \"string\";\n                            break;\n                        case \"text\":\n                            tscType = \"string\";\n                            break;\n                        case \"varchar\":\n                            tscType = \"string\";\n                            break;\n                        case \"nchar\":\n                            tscType = \"string\";\n                            break;\n                        case \"ntext\":\n                            tscType = \"string\";\n                            break;\n                        case \"nvarchar\":\n                            tscType = \"string\";\n                            break;\n                        case \"binary\":\n                            tscType = \"Buffer\";\n                            break;\n                        case \"image\":\n                            tscType = \"Buffer\";\n                            break;\n                        case \"varbinary\":\n                            tscType = \"Buffer\";\n                            break;\n                        case \"hierarchyid\":\n                            tscType = \"string\";\n                            break;\n                        case \"sql_variant\":\n                            tscType = \"string\";\n                            break;\n                        case \"timestamp\":\n                            tscType = \"Date\";\n                            break;\n                        case \"uniqueidentifier\":\n                            tscType = \"string\";\n                            break;\n                        case \"xml\":\n                            tscType = \"string\";\n                            break;\n                        case \"geometry\":\n                            tscType = \"string\";\n                            break;\n                        case \"geography\":\n                            tscType = \"string\";\n                            break;\n                        default:\n                            tscType = \"NonNullable<unknown>\";\n                            TomgUtils.LogError(\n                                `Unknown column type: ${resp.DATA_TYPE}  table name: ${resp.TABLE_NAME} column name: ${resp.COLUMN_NAME}`\n                            );\n                            break;\n                    }\n\n                    if (\n                        this.ColumnTypesWithPrecision.some(\n                            (v) => v === columnType\n                        )\n                    ) {\n                        if (resp.NUMERIC_PRECISION !== null) {\n                            options.precision = resp.NUMERIC_PRECISION;\n                        }\n                        if (resp.NUMERIC_SCALE !== null) {\n                            options.scale = resp.NUMERIC_SCALE;\n                        }\n                    }\n                    if (\n                        this.ColumnTypesWithLength.some((v) => v === columnType)\n                    ) {\n                        options.length =\n                            resp.CHARACTER_MAXIMUM_LENGTH > 0\n                                ? resp.CHARACTER_MAXIMUM_LENGTH\n                                : undefined;\n                    }\n                    ent.columns.push({\n                        generated,\n                        type: columnType,\n                        default: defaultValue,\n                        options,\n                        tscName,\n                        tscType,\n                    });\n                });\n        });\n        return entities;\n    }\n\n    public async GetIndexesFromEntity(\n        entities: Entity[],\n        schema: string,\n        dbNames: string\n    ): Promise<Entity[]> {\n        const request = new this.MSSQL.Request(this.Connection);\n        const response: {\n            TableName: string;\n            TableSchema: string;\n            IndexName: string;\n            ColumnName: string;\n            is_unique: boolean;\n            is_primary_key: boolean;\n        }[] = [];\n        await Promise.all(\n            dbNames.split(\",\").map(async (dbName) => {\n                if (dbNames.length > 1) {\n                    await this.UseDB(dbName);\n                }\n                const resp: {\n                    TableName: string;\n                    TableSchema: string;\n                    IndexName: string;\n                    ColumnName: string;\n                    is_unique: boolean;\n                    is_primary_key: boolean;\n                }[] = (\n                    await request.query(`SELECT\n             TableName = t.name,\n             TableSchema = s.name,\n             IndexName = ind.name,\n             ColumnName = col.name,\n             ind.is_unique,\n             ind.is_primary_key\n        FROM\n             sys.indexes ind\n        INNER JOIN\n             sys.index_columns ic ON  ind.object_id = ic.object_id and ind.index_id = ic.index_id\n        INNER JOIN\n             sys.columns col ON ic.object_id = col.object_id and ic.column_id = col.column_id\n        INNER JOIN\n             sys.tables t ON ind.object_id = t.object_id\n        INNER JOIN\n             sys.schemas s on s.schema_id=t.schema_id\n        WHERE\n             t.is_ms_shipped = 0 and s.name in (${schema})\n        ORDER BY\n             t.name, ind.name, ind.index_id, ic.key_ordinal;`)\n                ).recordset;\n                response.push(...resp);\n            })\n        );\n\n        entities.forEach((ent) => {\n            const entityIndices = response.filter(\n                (filterVal) =>\n                    filterVal.TableName === ent.tscName &&\n                    filterVal.TableSchema === ent.schema\n            );\n            const indexNames = new Set(entityIndices.map((v) => v.IndexName));\n            indexNames.forEach((indexName) => {\n                const records = entityIndices.filter(\n                    (v) => v.IndexName === indexName\n                );\n                const indexInfo: Index = {\n                    columns: [],\n                    options: {},\n                    name: records[0].IndexName,\n                };\n                if (records[0].is_primary_key) indexInfo.primary = true;\n                if (records[0].is_unique) indexInfo.options.unique = true;\n                records.forEach((record) => {\n                    indexInfo.columns.push(record.ColumnName);\n                });\n                ent.indices.push(indexInfo);\n            });\n        });\n\n        return entities;\n    }\n\n    public async GetRelations(\n        entities: Entity[],\n        schema: string,\n        dbNames: string,\n        generationOptions: IGenerationOptions\n    ): Promise<Entity[]> {\n        const request = new this.MSSQL.Request(this.Connection);\n        const response: {\n            TableWithForeignKey: string;\n            FK_PartNo: number;\n            ForeignKeyColumn: string;\n            TableReferenced: string;\n            ForeignKeyColumnReferenced: string;\n            onDelete: \"RESTRICT\" | \"CASCADE\" | \"SET_NULL\" | \"NO_ACTION\";\n            onUpdate: \"RESTRICT\" | \"CASCADE\" | \"SET_NULL\" | \"NO_ACTION\";\n            objectId: number;\n        }[] = [];\n        await Promise.all(\n            dbNames.split(\",\").map(async (dbName) => {\n                if (dbNames.length > 1) {\n                    await this.UseDB(dbName);\n                }\n                const resp: {\n                    TableWithForeignKey: string;\n                    FK_PartNo: number;\n                    ForeignKeyColumn: string;\n                    TableReferenced: string;\n                    ForeignKeyColumnReferenced: string;\n                    onDelete: \"RESTRICT\" | \"CASCADE\" | \"SET_NULL\" | \"NO_ACTION\";\n                    onUpdate: \"RESTRICT\" | \"CASCADE\" | \"SET_NULL\" | \"NO_ACTION\";\n                    objectId: number;\n                }[] = (\n                    await request.query(`select\n            parentTable.name as TableWithForeignKey,\n            fkc.constraint_column_id as FK_PartNo,\n             parentColumn.name as ForeignKeyColumn,\n             referencedTable.name as TableReferenced,\n             referencedColumn.name as ForeignKeyColumnReferenced,\n             fk.delete_referential_action_desc as onDelete,\n             fk.update_referential_action_desc as onUpdate,\n             fk.object_id as objectId\n        from\n            sys.foreign_keys fk\n        inner join\n            sys.foreign_key_columns as fkc on fkc.constraint_object_id=fk.object_id\n        inner join\n            sys.tables as parentTable on fkc.parent_object_id = parentTable.object_id\n        inner join\n            sys.columns as parentColumn on fkc.parent_object_id = parentColumn.object_id and fkc.parent_column_id = parentColumn.column_id\n        inner join\n            sys.tables as referencedTable on fkc.referenced_object_id = referencedTable.object_id\n        inner join\n            sys.columns as referencedColumn on fkc.referenced_object_id = referencedColumn.object_id and fkc.referenced_column_id = referencedColumn.column_id\n        inner join\n        \tsys.schemas as parentSchema on parentSchema.schema_id=parentTable.schema_id\n        where\n            fk.is_disabled=0 and fk.is_ms_shipped=0 and parentSchema.name in (${schema})\n        order by\n            TableWithForeignKey, FK_PartNo`)\n                ).recordset;\n                response.push(...resp);\n            })\n        );\n        const relationsTemp: RelationInternal[] = [] as RelationInternal[];\n        const relationKeys = new Set(response.map((v) => v.objectId));\n\n        relationKeys.forEach((relationId) => {\n            const rows = response.filter((v) => v.objectId === relationId);\n            const ownerTable = entities.find(\n                (v) => v.sqlName === rows[0].TableWithForeignKey\n            );\n            const relatedTable = entities.find(\n                (v) => v.sqlName === rows[0].TableReferenced\n            );\n            if (!ownerTable || !relatedTable) {\n                TomgUtils.LogError(\n                    `Relation between tables ${rows[0].TableWithForeignKey} and ${rows[0].TableReferenced} wasn't found in entity model.`,\n                    true\n                );\n                return;\n            }\n            const internal: RelationInternal = {\n                ownerColumns: [],\n                relatedColumns: [],\n                ownerTable,\n                relatedTable,\n            };\n            switch (rows[0].onDelete) {\n                case \"NO_ACTION\":\n                    break;\n                case \"SET_NULL\":\n                    internal.onDelete = \"SET NULL\";\n                    break;\n                default:\n                    internal.onDelete = rows[0].onDelete;\n                    break;\n            }\n            switch (rows[0].onUpdate) {\n                case \"NO_ACTION\":\n                    break;\n                case \"SET_NULL\":\n                    internal.onUpdate = \"SET NULL\";\n                    break;\n                default:\n                    internal.onUpdate = rows[0].onUpdate;\n                    break;\n            }\n            rows.forEach((row) => {\n                internal.ownerColumns.push(row.ForeignKeyColumn);\n                internal.relatedColumns.push(row.ForeignKeyColumnReferenced);\n            });\n            relationsTemp.push(internal);\n        });\n\n        const retVal = MssqlDriver.GetRelationsFromRelationTempInfo(\n            relationsTemp,\n            entities,\n            generationOptions\n        );\n        return retVal;\n    }\n\n    public async DisconnectFromServer() {\n        if (this.Connection) {\n            await this.Connection.close();\n        }\n    }\n\n    public async ConnectToServer(connectionOptons: IConnectionOptions) {\n        const databaseName = connectionOptons.databaseName.split(\",\")[0];\n        const config: MSSQL.config = {\n            database: databaseName,\n            options: {\n                appName: \"typeorm-model-generator\",\n                encrypt: connectionOptons.ssl,\n            },\n            password: connectionOptons.password,\n            port: connectionOptons.port,\n            requestTimeout: 60 * 60 * 1000,\n            server: connectionOptons.host,\n            user: connectionOptons.user,\n        };\n\n        const promise = new Promise<boolean>((resolve, reject) => {\n            this.Connection = new this.MSSQL.ConnectionPool(config, (err) => {\n                if (!err) {\n                    resolve(true);\n                } else {\n                    TomgUtils.LogError(\n                        \"Error connecting to MSSQL Server.\",\n                        false,\n                        err.message\n                    );\n                    reject(err);\n                }\n            });\n        });\n\n        await promise;\n    }\n\n    public async CreateDB(dbName: string) {\n        const request = new this.MSSQL.Request(this.Connection);\n        await request.query(`CREATE DATABASE ${dbName}; `);\n    }\n\n    public async UseDB(dbName: string) {\n        const request = new this.MSSQL.Request(this.Connection);\n        await request.query(`USE ${dbName}; `);\n    }\n\n    public async DropDB(dbName: string) {\n        const request = new this.MSSQL.Request(this.Connection);\n        await request.query(`DROP DATABASE ${dbName}; `);\n    }\n\n    public async CheckIfDBExists(dbName: string): Promise<boolean> {\n        const request = new this.MSSQL.Request(this.Connection);\n        const resp = await request.query(\n            `SELECT name FROM master.sys.databases WHERE name = N'${dbName}' `\n        );\n        return resp.recordset.length > 0;\n    }\n\n    private static ReturnDefaultValueFunction(\n        defVal: string | null\n    ): string | undefined {\n        let defaultValue = defVal;\n        if (!defaultValue) {\n            return undefined;\n        }\n        if (defaultValue.startsWith(\"(\") && defaultValue.endsWith(\")\")) {\n            defaultValue = defaultValue.slice(1, -1);\n        }\n\n        return `() => \"${defaultValue}\"`;\n    }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"038a818f455adff581febfa0f30837195dab4e2f"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_1jfepr207i=function(){return actualCoverage;};return actualCoverage;}cov_1jfepr207i();cov_1jfepr207i().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});const TypeormDriver=(cov_1jfepr207i().s[1]++,require("typeorm/driver/sqlserver/SqlServerDriver"));const TomgUtils=(cov_1jfepr207i().s[2]++,require("../Utils"));const AbstractDriver_1=(cov_1jfepr207i().s[3]++,require("./AbstractDriver"));class MssqlDriver extends(AbstractDriver_1.default){constructor(){cov_1jfepr207i().f[0]++;cov_1jfepr207i().s[4]++;super();cov_1jfepr207i().s[5]++;this.defaultValues=new TypeormDriver.SqlServerDriver({options:{replication:undefined}}).dataTypeDefaults;cov_1jfepr207i().s[6]++;this.standardPort=1433;cov_1jfepr207i().s[7]++;this.standardSchema="dbo";cov_1jfepr207i().s[8]++;this.standardUser="sa";cov_1jfepr207i().s[9]++;this.GetAllTablesQuery=async(schema,dbNames,tableNames)=>{cov_1jfepr207i().f[1]++;const request=(cov_1jfepr207i().s[10]++,new this.MSSQL.Request(this.Connection));const tableCondition=(cov_1jfepr207i().s[11]++,tableNames.length>0?(cov_1jfepr207i().b[0][0]++,` AND NOT TABLE_NAME IN ('${tableNames.join("','")}')`):(cov_1jfepr207i().b[0][1]++,""));const response=(cov_1jfepr207i().s[12]++,(await request.query(`SELECT TABLE_SCHEMA,TABLE_NAME, table_catalog as "DB_NAME" FROM INFORMATION_SCHEMA.TABLES
WHERE TABLE_TYPE='BASE TABLE' and TABLE_SCHEMA in (${schema}) AND TABLE_CATALOG in (${MssqlDriver.escapeCommaSeparatedList(dbNames)}) ${tableCondition}`)).recordset);cov_1jfepr207i().s[13]++;return response;};cov_1jfepr207i().s[14]++;try{cov_1jfepr207i().s[15]++;// eslint-disable-next-line import/no-extraneous-dependencies, global-require, import/no-unresolved
this.MSSQL=require("mssql");}catch(error){cov_1jfepr207i().s[16]++;TomgUtils.LogError("",false,error);cov_1jfepr207i().s[17]++;throw error;}}async GetCoulmnsFromEntity(entities,schema,dbNames){cov_1jfepr207i().f[2]++;const request=(cov_1jfepr207i().s[18]++,new this.MSSQL.Request(this.Connection));const response=(cov_1jfepr207i().s[19]++,(await request.query(`SELECT TABLE_NAME,TABLE_SCHEMA,COLUMN_NAME,COLUMN_DEFAULT,IS_NULLABLE,
        DATA_TYPE,CHARACTER_MAXIMUM_LENGTH,NUMERIC_PRECISION,NUMERIC_SCALE,
        COLUMNPROPERTY(object_id(TABLE_NAME), COLUMN_NAME, 'IsIdentity') IsIdentity,
        (SELECT count(*)
         FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS tc
             inner join INFORMATION_SCHEMA.CONSTRAINT_COLUMN_USAGE cu
                 on cu.CONSTRAINT_NAME = tc.CONSTRAINT_NAME
         where
             tc.CONSTRAINT_TYPE = 'UNIQUE'
             and tc.TABLE_NAME = c.TABLE_NAME
             and cu.COLUMN_NAME = c.COLUMN_NAME
             and tc.TABLE_SCHEMA=c.TABLE_SCHEMA) IsUnique
        FROM INFORMATION_SCHEMA.COLUMNS c
        where TABLE_SCHEMA in (${schema}) AND TABLE_CATALOG in (${MssqlDriver.escapeCommaSeparatedList(dbNames)})
             order by ordinal_position`)).recordset);cov_1jfepr207i().s[20]++;entities.forEach(ent=>{cov_1jfepr207i().f[3]++;cov_1jfepr207i().s[21]++;response.filter(filterVal=>{cov_1jfepr207i().f[4]++;cov_1jfepr207i().s[22]++;return(cov_1jfepr207i().b[1][0]++,filterVal.TABLE_NAME===ent.tscName)&&(cov_1jfepr207i().b[1][1]++,filterVal.TABLE_SCHEMA===ent.schema);}).forEach(resp=>{cov_1jfepr207i().f[5]++;const tscName=(cov_1jfepr207i().s[23]++,resp.COLUMN_NAME);const options=(cov_1jfepr207i().s[24]++,{name:resp.COLUMN_NAME});cov_1jfepr207i().s[25]++;if(resp.IS_NULLABLE==="YES"){cov_1jfepr207i().b[2][0]++;cov_1jfepr207i().s[26]++;options.nullable=true;}else{cov_1jfepr207i().b[2][1]++;}cov_1jfepr207i().s[27]++;if(resp.IsUnique===1){cov_1jfepr207i().b[3][0]++;cov_1jfepr207i().s[28]++;options.unique=true;}else{cov_1jfepr207i().b[3][1]++;}const generated=(cov_1jfepr207i().s[29]++,resp.IsIdentity===1?(cov_1jfepr207i().b[4][0]++,true):(cov_1jfepr207i().b[4][1]++,undefined));const defaultValue=(cov_1jfepr207i().s[30]++,MssqlDriver.ReturnDefaultValueFunction(resp.COLUMN_DEFAULT));const columnType=(cov_1jfepr207i().s[31]++,resp.DATA_TYPE);let tscType=(cov_1jfepr207i().s[32]++,"");cov_1jfepr207i().s[33]++;switch(resp.DATA_TYPE){case"bigint":cov_1jfepr207i().b[5][0]++;cov_1jfepr207i().s[34]++;tscType="string";cov_1jfepr207i().s[35]++;break;case"bit":cov_1jfepr207i().b[5][1]++;cov_1jfepr207i().s[36]++;tscType="boolean";cov_1jfepr207i().s[37]++;break;case"decimal":cov_1jfepr207i().b[5][2]++;cov_1jfepr207i().s[38]++;tscType="number";cov_1jfepr207i().s[39]++;break;case"int":cov_1jfepr207i().b[5][3]++;cov_1jfepr207i().s[40]++;tscType="number";cov_1jfepr207i().s[41]++;break;case"money":cov_1jfepr207i().b[5][4]++;cov_1jfepr207i().s[42]++;tscType="number";cov_1jfepr207i().s[43]++;break;case"numeric":cov_1jfepr207i().b[5][5]++;cov_1jfepr207i().s[44]++;tscType="number";cov_1jfepr207i().s[45]++;break;case"smallint":cov_1jfepr207i().b[5][6]++;cov_1jfepr207i().s[46]++;tscType="number";cov_1jfepr207i().s[47]++;break;case"smallmoney":cov_1jfepr207i().b[5][7]++;cov_1jfepr207i().s[48]++;tscType="number";cov_1jfepr207i().s[49]++;break;case"tinyint":cov_1jfepr207i().b[5][8]++;cov_1jfepr207i().s[50]++;tscType="number";cov_1jfepr207i().s[51]++;break;case"float":cov_1jfepr207i().b[5][9]++;cov_1jfepr207i().s[52]++;tscType="number";cov_1jfepr207i().s[53]++;break;case"real":cov_1jfepr207i().b[5][10]++;cov_1jfepr207i().s[54]++;tscType="number";cov_1jfepr207i().s[55]++;break;case"date":cov_1jfepr207i().b[5][11]++;cov_1jfepr207i().s[56]++;tscType="Date";cov_1jfepr207i().s[57]++;break;case"datetime2":cov_1jfepr207i().b[5][12]++;cov_1jfepr207i().s[58]++;tscType="Date";cov_1jfepr207i().s[59]++;break;case"datetime":cov_1jfepr207i().b[5][13]++;cov_1jfepr207i().s[60]++;tscType="Date";cov_1jfepr207i().s[61]++;break;case"datetimeoffset":cov_1jfepr207i().b[5][14]++;cov_1jfepr207i().s[62]++;tscType="Date";cov_1jfepr207i().s[63]++;break;case"smalldatetime":cov_1jfepr207i().b[5][15]++;cov_1jfepr207i().s[64]++;tscType="Date";cov_1jfepr207i().s[65]++;break;case"time":cov_1jfepr207i().b[5][16]++;cov_1jfepr207i().s[66]++;tscType="Date";cov_1jfepr207i().s[67]++;break;case"char":cov_1jfepr207i().b[5][17]++;cov_1jfepr207i().s[68]++;tscType="string";cov_1jfepr207i().s[69]++;break;case"text":cov_1jfepr207i().b[5][18]++;cov_1jfepr207i().s[70]++;tscType="string";cov_1jfepr207i().s[71]++;break;case"varchar":cov_1jfepr207i().b[5][19]++;cov_1jfepr207i().s[72]++;tscType="string";cov_1jfepr207i().s[73]++;break;case"nchar":cov_1jfepr207i().b[5][20]++;cov_1jfepr207i().s[74]++;tscType="string";cov_1jfepr207i().s[75]++;break;case"ntext":cov_1jfepr207i().b[5][21]++;cov_1jfepr207i().s[76]++;tscType="string";cov_1jfepr207i().s[77]++;break;case"nvarchar":cov_1jfepr207i().b[5][22]++;cov_1jfepr207i().s[78]++;tscType="string";cov_1jfepr207i().s[79]++;break;case"binary":cov_1jfepr207i().b[5][23]++;cov_1jfepr207i().s[80]++;tscType="Buffer";cov_1jfepr207i().s[81]++;break;case"image":cov_1jfepr207i().b[5][24]++;cov_1jfepr207i().s[82]++;tscType="Buffer";cov_1jfepr207i().s[83]++;break;case"varbinary":cov_1jfepr207i().b[5][25]++;cov_1jfepr207i().s[84]++;tscType="Buffer";cov_1jfepr207i().s[85]++;break;case"hierarchyid":cov_1jfepr207i().b[5][26]++;cov_1jfepr207i().s[86]++;tscType="string";cov_1jfepr207i().s[87]++;break;case"sql_variant":cov_1jfepr207i().b[5][27]++;cov_1jfepr207i().s[88]++;tscType="string";cov_1jfepr207i().s[89]++;break;case"timestamp":cov_1jfepr207i().b[5][28]++;cov_1jfepr207i().s[90]++;tscType="Date";cov_1jfepr207i().s[91]++;break;case"uniqueidentifier":cov_1jfepr207i().b[5][29]++;cov_1jfepr207i().s[92]++;tscType="string";cov_1jfepr207i().s[93]++;break;case"xml":cov_1jfepr207i().b[5][30]++;cov_1jfepr207i().s[94]++;tscType="string";cov_1jfepr207i().s[95]++;break;case"geometry":cov_1jfepr207i().b[5][31]++;cov_1jfepr207i().s[96]++;tscType="string";cov_1jfepr207i().s[97]++;break;case"geography":cov_1jfepr207i().b[5][32]++;cov_1jfepr207i().s[98]++;tscType="string";cov_1jfepr207i().s[99]++;break;default:cov_1jfepr207i().b[5][33]++;cov_1jfepr207i().s[100]++;tscType="NonNullable<unknown>";cov_1jfepr207i().s[101]++;TomgUtils.LogError(`Unknown column type: ${resp.DATA_TYPE}  table name: ${resp.TABLE_NAME} column name: ${resp.COLUMN_NAME}`);cov_1jfepr207i().s[102]++;break;}cov_1jfepr207i().s[103]++;if(this.ColumnTypesWithPrecision.some(v=>{cov_1jfepr207i().f[6]++;cov_1jfepr207i().s[104]++;return v===columnType;})){cov_1jfepr207i().b[6][0]++;cov_1jfepr207i().s[105]++;if(resp.NUMERIC_PRECISION!==null){cov_1jfepr207i().b[7][0]++;cov_1jfepr207i().s[106]++;options.precision=resp.NUMERIC_PRECISION;}else{cov_1jfepr207i().b[7][1]++;}cov_1jfepr207i().s[107]++;if(resp.NUMERIC_SCALE!==null){cov_1jfepr207i().b[8][0]++;cov_1jfepr207i().s[108]++;options.scale=resp.NUMERIC_SCALE;}else{cov_1jfepr207i().b[8][1]++;}}else{cov_1jfepr207i().b[6][1]++;}cov_1jfepr207i().s[109]++;if(this.ColumnTypesWithLength.some(v=>{cov_1jfepr207i().f[7]++;cov_1jfepr207i().s[110]++;return v===columnType;})){cov_1jfepr207i().b[9][0]++;cov_1jfepr207i().s[111]++;options.length=resp.CHARACTER_MAXIMUM_LENGTH>0?(cov_1jfepr207i().b[10][0]++,resp.CHARACTER_MAXIMUM_LENGTH):(cov_1jfepr207i().b[10][1]++,undefined);}else{cov_1jfepr207i().b[9][1]++;}cov_1jfepr207i().s[112]++;ent.columns.push({generated,type:columnType,default:defaultValue,options,tscName,tscType});});});cov_1jfepr207i().s[113]++;return entities;}async GetIndexesFromEntity(entities,schema,dbNames){cov_1jfepr207i().f[8]++;const request=(cov_1jfepr207i().s[114]++,new this.MSSQL.Request(this.Connection));const response=(cov_1jfepr207i().s[115]++,[]);cov_1jfepr207i().s[116]++;await Promise.all(dbNames.split(",").map(async dbName=>{cov_1jfepr207i().f[9]++;cov_1jfepr207i().s[117]++;if(dbNames.length>1){cov_1jfepr207i().b[11][0]++;cov_1jfepr207i().s[118]++;await this.UseDB(dbName);}else{cov_1jfepr207i().b[11][1]++;}const resp=(cov_1jfepr207i().s[119]++,(await request.query(`SELECT
             TableName = t.name,
             TableSchema = s.name,
             IndexName = ind.name,
             ColumnName = col.name,
             ind.is_unique,
             ind.is_primary_key
        FROM
             sys.indexes ind
        INNER JOIN
             sys.index_columns ic ON  ind.object_id = ic.object_id and ind.index_id = ic.index_id
        INNER JOIN
             sys.columns col ON ic.object_id = col.object_id and ic.column_id = col.column_id
        INNER JOIN
             sys.tables t ON ind.object_id = t.object_id
        INNER JOIN
             sys.schemas s on s.schema_id=t.schema_id
        WHERE
             t.is_ms_shipped = 0 and s.name in (${schema})
        ORDER BY
             t.name, ind.name, ind.index_id, ic.key_ordinal;`)).recordset);cov_1jfepr207i().s[120]++;response.push(...resp);}));cov_1jfepr207i().s[121]++;entities.forEach(ent=>{cov_1jfepr207i().f[10]++;const entityIndices=(cov_1jfepr207i().s[122]++,response.filter(filterVal=>{cov_1jfepr207i().f[11]++;cov_1jfepr207i().s[123]++;return(cov_1jfepr207i().b[12][0]++,filterVal.TableName===ent.tscName)&&(cov_1jfepr207i().b[12][1]++,filterVal.TableSchema===ent.schema);}));const indexNames=(cov_1jfepr207i().s[124]++,new Set(entityIndices.map(v=>{cov_1jfepr207i().f[12]++;cov_1jfepr207i().s[125]++;return v.IndexName;})));cov_1jfepr207i().s[126]++;indexNames.forEach(indexName=>{cov_1jfepr207i().f[13]++;const records=(cov_1jfepr207i().s[127]++,entityIndices.filter(v=>{cov_1jfepr207i().f[14]++;cov_1jfepr207i().s[128]++;return v.IndexName===indexName;}));const indexInfo=(cov_1jfepr207i().s[129]++,{columns:[],options:{},name:records[0].IndexName});cov_1jfepr207i().s[130]++;if(records[0].is_primary_key){cov_1jfepr207i().b[13][0]++;cov_1jfepr207i().s[131]++;indexInfo.primary=true;}else{cov_1jfepr207i().b[13][1]++;}cov_1jfepr207i().s[132]++;if(records[0].is_unique){cov_1jfepr207i().b[14][0]++;cov_1jfepr207i().s[133]++;indexInfo.options.unique=true;}else{cov_1jfepr207i().b[14][1]++;}cov_1jfepr207i().s[134]++;records.forEach(record=>{cov_1jfepr207i().f[15]++;cov_1jfepr207i().s[135]++;indexInfo.columns.push(record.ColumnName);});cov_1jfepr207i().s[136]++;ent.indices.push(indexInfo);});});cov_1jfepr207i().s[137]++;return entities;}async GetRelations(entities,schema,dbNames,generationOptions){cov_1jfepr207i().f[16]++;const request=(cov_1jfepr207i().s[138]++,new this.MSSQL.Request(this.Connection));const response=(cov_1jfepr207i().s[139]++,[]);cov_1jfepr207i().s[140]++;await Promise.all(dbNames.split(",").map(async dbName=>{cov_1jfepr207i().f[17]++;cov_1jfepr207i().s[141]++;if(dbNames.length>1){cov_1jfepr207i().b[15][0]++;cov_1jfepr207i().s[142]++;await this.UseDB(dbName);}else{cov_1jfepr207i().b[15][1]++;}const resp=(cov_1jfepr207i().s[143]++,(await request.query(`select
            parentTable.name as TableWithForeignKey,
            fkc.constraint_column_id as FK_PartNo,
             parentColumn.name as ForeignKeyColumn,
             referencedTable.name as TableReferenced,
             referencedColumn.name as ForeignKeyColumnReferenced,
             fk.delete_referential_action_desc as onDelete,
             fk.update_referential_action_desc as onUpdate,
             fk.object_id as objectId
        from
            sys.foreign_keys fk
        inner join
            sys.foreign_key_columns as fkc on fkc.constraint_object_id=fk.object_id
        inner join
            sys.tables as parentTable on fkc.parent_object_id = parentTable.object_id
        inner join
            sys.columns as parentColumn on fkc.parent_object_id = parentColumn.object_id and fkc.parent_column_id = parentColumn.column_id
        inner join
            sys.tables as referencedTable on fkc.referenced_object_id = referencedTable.object_id
        inner join
            sys.columns as referencedColumn on fkc.referenced_object_id = referencedColumn.object_id and fkc.referenced_column_id = referencedColumn.column_id
        inner join
        	sys.schemas as parentSchema on parentSchema.schema_id=parentTable.schema_id
        where
            fk.is_disabled=0 and fk.is_ms_shipped=0 and parentSchema.name in (${schema})
        order by
            TableWithForeignKey, FK_PartNo`)).recordset);cov_1jfepr207i().s[144]++;response.push(...resp);}));const relationsTemp=(cov_1jfepr207i().s[145]++,[]);const relationKeys=(cov_1jfepr207i().s[146]++,new Set(response.map(v=>{cov_1jfepr207i().f[18]++;cov_1jfepr207i().s[147]++;return v.objectId;})));cov_1jfepr207i().s[148]++;relationKeys.forEach(relationId=>{cov_1jfepr207i().f[19]++;const rows=(cov_1jfepr207i().s[149]++,response.filter(v=>{cov_1jfepr207i().f[20]++;cov_1jfepr207i().s[150]++;return v.objectId===relationId;}));const ownerTable=(cov_1jfepr207i().s[151]++,entities.find(v=>{cov_1jfepr207i().f[21]++;cov_1jfepr207i().s[152]++;return v.sqlName===rows[0].TableWithForeignKey;}));const relatedTable=(cov_1jfepr207i().s[153]++,entities.find(v=>{cov_1jfepr207i().f[22]++;cov_1jfepr207i().s[154]++;return v.sqlName===rows[0].TableReferenced;}));cov_1jfepr207i().s[155]++;if((cov_1jfepr207i().b[17][0]++,!ownerTable)||(cov_1jfepr207i().b[17][1]++,!relatedTable)){cov_1jfepr207i().b[16][0]++;cov_1jfepr207i().s[156]++;TomgUtils.LogError(`Relation between tables ${rows[0].TableWithForeignKey} and ${rows[0].TableReferenced} wasn't found in entity model.`,true);cov_1jfepr207i().s[157]++;return;}else{cov_1jfepr207i().b[16][1]++;}const internal=(cov_1jfepr207i().s[158]++,{ownerColumns:[],relatedColumns:[],ownerTable,relatedTable});cov_1jfepr207i().s[159]++;switch(rows[0].onDelete){case"NO_ACTION":cov_1jfepr207i().b[18][0]++;cov_1jfepr207i().s[160]++;break;case"SET_NULL":cov_1jfepr207i().b[18][1]++;cov_1jfepr207i().s[161]++;internal.onDelete="SET NULL";cov_1jfepr207i().s[162]++;break;default:cov_1jfepr207i().b[18][2]++;cov_1jfepr207i().s[163]++;internal.onDelete=rows[0].onDelete;cov_1jfepr207i().s[164]++;break;}cov_1jfepr207i().s[165]++;switch(rows[0].onUpdate){case"NO_ACTION":cov_1jfepr207i().b[19][0]++;cov_1jfepr207i().s[166]++;break;case"SET_NULL":cov_1jfepr207i().b[19][1]++;cov_1jfepr207i().s[167]++;internal.onUpdate="SET NULL";cov_1jfepr207i().s[168]++;break;default:cov_1jfepr207i().b[19][2]++;cov_1jfepr207i().s[169]++;internal.onUpdate=rows[0].onUpdate;cov_1jfepr207i().s[170]++;break;}cov_1jfepr207i().s[171]++;rows.forEach(row=>{cov_1jfepr207i().f[23]++;cov_1jfepr207i().s[172]++;internal.ownerColumns.push(row.ForeignKeyColumn);cov_1jfepr207i().s[173]++;internal.relatedColumns.push(row.ForeignKeyColumnReferenced);});cov_1jfepr207i().s[174]++;relationsTemp.push(internal);});const retVal=(cov_1jfepr207i().s[175]++,MssqlDriver.GetRelationsFromRelationTempInfo(relationsTemp,entities,generationOptions));cov_1jfepr207i().s[176]++;return retVal;}async DisconnectFromServer(){cov_1jfepr207i().f[24]++;cov_1jfepr207i().s[177]++;if(this.Connection){cov_1jfepr207i().b[20][0]++;cov_1jfepr207i().s[178]++;await this.Connection.close();}else{cov_1jfepr207i().b[20][1]++;}}async ConnectToServer(connectionOptons){cov_1jfepr207i().f[25]++;const databaseName=(cov_1jfepr207i().s[179]++,connectionOptons.databaseName.split(",")[0]);const config=(cov_1jfepr207i().s[180]++,{database:databaseName,options:{appName:"typeorm-model-generator",encrypt:connectionOptons.ssl},password:connectionOptons.password,port:connectionOptons.port,requestTimeout:60*60*1000,server:connectionOptons.host,user:connectionOptons.user});const promise=(cov_1jfepr207i().s[181]++,new Promise((resolve,reject)=>{cov_1jfepr207i().f[26]++;cov_1jfepr207i().s[182]++;this.Connection=new this.MSSQL.ConnectionPool(config,err=>{cov_1jfepr207i().f[27]++;cov_1jfepr207i().s[183]++;if(!err){cov_1jfepr207i().b[21][0]++;cov_1jfepr207i().s[184]++;resolve(true);}else{cov_1jfepr207i().b[21][1]++;cov_1jfepr207i().s[185]++;TomgUtils.LogError("Error connecting to MSSQL Server.",false,err.message);cov_1jfepr207i().s[186]++;reject(err);}});}));cov_1jfepr207i().s[187]++;await promise;}async CreateDB(dbName){cov_1jfepr207i().f[28]++;const request=(cov_1jfepr207i().s[188]++,new this.MSSQL.Request(this.Connection));cov_1jfepr207i().s[189]++;await request.query(`CREATE DATABASE ${dbName}; `);}async UseDB(dbName){cov_1jfepr207i().f[29]++;const request=(cov_1jfepr207i().s[190]++,new this.MSSQL.Request(this.Connection));cov_1jfepr207i().s[191]++;await request.query(`USE ${dbName}; `);}async DropDB(dbName){cov_1jfepr207i().f[30]++;const request=(cov_1jfepr207i().s[192]++,new this.MSSQL.Request(this.Connection));cov_1jfepr207i().s[193]++;await request.query(`DROP DATABASE ${dbName}; `);}async CheckIfDBExists(dbName){cov_1jfepr207i().f[31]++;const request=(cov_1jfepr207i().s[194]++,new this.MSSQL.Request(this.Connection));const resp=(cov_1jfepr207i().s[195]++,await request.query(`SELECT name FROM master.sys.databases WHERE name = N'${dbName}' `));cov_1jfepr207i().s[196]++;return resp.recordset.length>0;}static ReturnDefaultValueFunction(defVal){cov_1jfepr207i().f[32]++;let defaultValue=(cov_1jfepr207i().s[197]++,defVal);cov_1jfepr207i().s[198]++;if(!defaultValue){cov_1jfepr207i().b[22][0]++;cov_1jfepr207i().s[199]++;return undefined;}else{cov_1jfepr207i().b[22][1]++;}cov_1jfepr207i().s[200]++;if((cov_1jfepr207i().b[24][0]++,defaultValue.startsWith("("))&&(cov_1jfepr207i().b[24][1]++,defaultValue.endsWith(")"))){cov_1jfepr207i().b[23][0]++;cov_1jfepr207i().s[201]++;defaultValue=defaultValue.slice(1,-1);}else{cov_1jfepr207i().b[23][1]++;}cov_1jfepr207i().s[202]++;return`() => "${defaultValue}"`;}}cov_1jfepr207i().s[203]++;exports.default=MssqlDriver;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvbmVtby93b3JrL2dpdGh1Yi90eXBlb3JtLW1vZGVsLWdlbmVyYXRvci9zcmMvZHJpdmVycy9Nc3NxbERyaXZlci50cyIsInNvdXJjZXMiOlsiL2hvbWUvbmVtby93b3JrL2dpdGh1Yi90eXBlb3JtLW1vZGVsLWdlbmVyYXRvci9zcmMvZHJpdmVycy9Nc3NxbERyaXZlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBLDBFQUEwRTtBQUUxRSxzQ0FBc0M7QUFDdEMscURBQThDO0FBUTlDLE1BQXFCLFdBQVksU0FBUSx3QkFBYztJQWVuRDtRQUNJLEtBQUssRUFBRSxDQUFDO1FBZkwsa0JBQWEsR0FBcUIsSUFBSSxhQUFhLENBQUMsZUFBZSxDQUFDO1lBQ3ZFLE9BQU8sRUFBRSxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQXVCO1NBQ3BELENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQztRQUVYLGlCQUFZLEdBQUcsSUFBSSxDQUFDO1FBRXBCLG1CQUFjLEdBQUcsS0FBSyxDQUFDO1FBRXZCLGlCQUFZLEdBQUcsSUFBSSxDQUFDO1FBaUI3QixzQkFBaUIsR0FBRyxLQUFLLEVBQzVCLE1BQWMsRUFDZCxPQUFlLEVBQ2YsVUFBb0IsRUFDdEIsRUFBRTtZQUNBLE1BQU0sT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3hELE1BQU0sY0FBYyxHQUNoQixVQUFVLENBQUMsTUFBTSxHQUFHLENBQUM7Z0JBQ2pCLENBQUMsQ0FBQyw0QkFBNEIsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSTtnQkFDeEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNiLE1BQU0sUUFBUSxHQUlSLENBQ0YsTUFBTSxPQUFPLENBQUMsS0FBSyxDQUNmO3FEQUNxQyxNQUFNLDJCQUEyQixXQUFXLENBQUMsd0JBQXdCLENBQ3RHLE9BQU8sQ0FDVixLQUFLLGNBQWMsRUFBRSxDQUN6QixDQUNKLENBQUMsU0FBUyxDQUFDO1lBQ1osT0FBTyxRQUFRLENBQUM7UUFDcEIsQ0FBQyxDQUFDO1FBaENFLElBQUk7WUFDQSxtR0FBbUc7WUFDbkcsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDakM7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNaLFNBQVMsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztZQUNyQyxNQUFNLEtBQUssQ0FBQztTQUNmO0lBQ0wsQ0FBQztJQTJCTSxLQUFLLENBQUMsb0JBQW9CLENBQzdCLFFBQWtCLEVBQ2xCLE1BQWMsRUFDZCxPQUFlO1FBRWYsTUFBTSxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDeEQsTUFBTSxRQUFRLEdBWVIsQ0FDRixNQUFNLE9BQU8sQ0FBQyxLQUFLLENBQUM7Ozs7Ozs7Ozs7Ozs7aUNBYUMsTUFBTSwyQkFBMkIsV0FBVyxDQUFDLHdCQUF3QixDQUN0RixPQUFPLENBQ1Y7dUNBQzBCLENBQUMsQ0FDL0IsQ0FBQyxTQUFTLENBQUM7UUFDWixRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDckIsUUFBUTtpQkFDSCxNQUFNLENBQUMsQ0FBQyxTQUFTLEVBQUUsRUFBRTtnQkFDbEIsT0FBTyxDQUNILFNBQVMsQ0FBQyxVQUFVLEtBQUssR0FBRyxDQUFDLE9BQU87b0JBQ3BDLFNBQVMsQ0FBQyxZQUFZLEtBQUssR0FBRyxDQUFDLE1BQU0sQ0FDeEMsQ0FBQztZQUNOLENBQUMsQ0FBQztpQkFDRCxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtnQkFDZCxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO2dCQUNqQyxNQUFNLE9BQU8sR0FBc0I7b0JBQy9CLElBQUksRUFBRSxJQUFJLENBQUMsV0FBVztpQkFDekIsQ0FBQztnQkFDRixJQUFJLElBQUksQ0FBQyxXQUFXLEtBQUssS0FBSztvQkFBRSxPQUFPLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztnQkFDeEQsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLENBQUM7b0JBQUUsT0FBTyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7Z0JBQy9DLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztnQkFDM0QsTUFBTSxZQUFZLEdBQUcsV0FBVyxDQUFDLDBCQUEwQixDQUN2RCxJQUFJLENBQUMsY0FBYyxDQUN0QixDQUFDO2dCQUNGLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7Z0JBQ2xDLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQztnQkFDakIsUUFBUSxJQUFJLENBQUMsU0FBUyxFQUFFO29CQUNwQixLQUFLLFFBQVE7d0JBQ1QsT0FBTyxHQUFHLFFBQVEsQ0FBQzt3QkFDbkIsTUFBTTtvQkFDVixLQUFLLEtBQUs7d0JBQ04sT0FBTyxHQUFHLFNBQVMsQ0FBQzt3QkFDcEIsTUFBTTtvQkFDVixLQUFLLFNBQVM7d0JBQ1YsT0FBTyxHQUFHLFFBQVEsQ0FBQzt3QkFDbkIsTUFBTTtvQkFDVixLQUFLLEtBQUs7d0JBQ04sT0FBTyxHQUFHLFFBQVEsQ0FBQzt3QkFDbkIsTUFBTTtvQkFDVixLQUFLLE9BQU87d0JBQ1IsT0FBTyxHQUFHLFFBQVEsQ0FBQzt3QkFDbkIsTUFBTTtvQkFDVixLQUFLLFNBQVM7d0JBQ1YsT0FBTyxHQUFHLFFBQVEsQ0FBQzt3QkFDbkIsTUFBTTtvQkFDVixLQUFLLFVBQVU7d0JBQ1gsT0FBTyxHQUFHLFFBQVEsQ0FBQzt3QkFDbkIsTUFBTTtvQkFDVixLQUFLLFlBQVk7d0JBQ2IsT0FBTyxHQUFHLFFBQVEsQ0FBQzt3QkFDbkIsTUFBTTtvQkFDVixLQUFLLFNBQVM7d0JBQ1YsT0FBTyxHQUFHLFFBQVEsQ0FBQzt3QkFDbkIsTUFBTTtvQkFDVixLQUFLLE9BQU87d0JBQ1IsT0FBTyxHQUFHLFFBQVEsQ0FBQzt3QkFDbkIsTUFBTTtvQkFDVixLQUFLLE1BQU07d0JBQ1AsT0FBTyxHQUFHLFFBQVEsQ0FBQzt3QkFDbkIsTUFBTTtvQkFDVixLQUFLLE1BQU07d0JBQ1AsT0FBTyxHQUFHLE1BQU0sQ0FBQzt3QkFDakIsTUFBTTtvQkFDVixLQUFLLFdBQVc7d0JBQ1osT0FBTyxHQUFHLE1BQU0sQ0FBQzt3QkFDakIsTUFBTTtvQkFDVixLQUFLLFVBQVU7d0JBQ1gsT0FBTyxHQUFHLE1BQU0sQ0FBQzt3QkFDakIsTUFBTTtvQkFDVixLQUFLLGdCQUFnQjt3QkFDakIsT0FBTyxHQUFHLE1BQU0sQ0FBQzt3QkFDakIsTUFBTTtvQkFDVixLQUFLLGVBQWU7d0JBQ2hCLE9BQU8sR0FBRyxNQUFNLENBQUM7d0JBQ2pCLE1BQU07b0JBQ1YsS0FBSyxNQUFNO3dCQUNQLE9BQU8sR0FBRyxNQUFNLENBQUM7d0JBQ2pCLE1BQU07b0JBQ1YsS0FBSyxNQUFNO3dCQUNQLE9BQU8sR0FBRyxRQUFRLENBQUM7d0JBQ25CLE1BQU07b0JBQ1YsS0FBSyxNQUFNO3dCQUNQLE9BQU8sR0FBRyxRQUFRLENBQUM7d0JBQ25CLE1BQU07b0JBQ1YsS0FBSyxTQUFTO3dCQUNWLE9BQU8sR0FBRyxRQUFRLENBQUM7d0JBQ25CLE1BQU07b0JBQ1YsS0FBSyxPQUFPO3dCQUNSLE9BQU8sR0FBRyxRQUFRLENBQUM7d0JBQ25CLE1BQU07b0JBQ1YsS0FBSyxPQUFPO3dCQUNSLE9BQU8sR0FBRyxRQUFRLENBQUM7d0JBQ25CLE1BQU07b0JBQ1YsS0FBSyxVQUFVO3dCQUNYLE9BQU8sR0FBRyxRQUFRLENBQUM7d0JBQ25CLE1BQU07b0JBQ1YsS0FBSyxRQUFRO3dCQUNULE9BQU8sR0FBRyxRQUFRLENBQUM7d0JBQ25CLE1BQU07b0JBQ1YsS0FBSyxPQUFPO3dCQUNSLE9BQU8sR0FBRyxRQUFRLENBQUM7d0JBQ25CLE1BQU07b0JBQ1YsS0FBSyxXQUFXO3dCQUNaLE9BQU8sR0FBRyxRQUFRLENBQUM7d0JBQ25CLE1BQU07b0JBQ1YsS0FBSyxhQUFhO3dCQUNkLE9BQU8sR0FBRyxRQUFRLENBQUM7d0JBQ25CLE1BQU07b0JBQ1YsS0FBSyxhQUFhO3dCQUNkLE9BQU8sR0FBRyxRQUFRLENBQUM7d0JBQ25CLE1BQU07b0JBQ1YsS0FBSyxXQUFXO3dCQUNaLE9BQU8sR0FBRyxNQUFNLENBQUM7d0JBQ2pCLE1BQU07b0JBQ1YsS0FBSyxrQkFBa0I7d0JBQ25CLE9BQU8sR0FBRyxRQUFRLENBQUM7d0JBQ25CLE1BQU07b0JBQ1YsS0FBSyxLQUFLO3dCQUNOLE9BQU8sR0FBRyxRQUFRLENBQUM7d0JBQ25CLE1BQU07b0JBQ1YsS0FBSyxVQUFVO3dCQUNYLE9BQU8sR0FBRyxRQUFRLENBQUM7d0JBQ25CLE1BQU07b0JBQ1YsS0FBSyxXQUFXO3dCQUNaLE9BQU8sR0FBRyxRQUFRLENBQUM7d0JBQ25CLE1BQU07b0JBQ1Y7d0JBQ0ksT0FBTyxHQUFHLHNCQUFzQixDQUFDO3dCQUNqQyxTQUFTLENBQUMsUUFBUSxDQUNkLHdCQUF3QixJQUFJLENBQUMsU0FBUyxpQkFBaUIsSUFBSSxDQUFDLFVBQVUsaUJBQWlCLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FDNUcsQ0FBQzt3QkFDRixNQUFNO2lCQUNiO2dCQUVELElBQ0ksSUFBSSxDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FDOUIsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsS0FBSyxVQUFVLENBQzFCLEVBQ0g7b0JBQ0UsSUFBSSxJQUFJLENBQUMsaUJBQWlCLEtBQUssSUFBSSxFQUFFO3dCQUNqQyxPQUFPLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztxQkFDOUM7b0JBQ0QsSUFBSSxJQUFJLENBQUMsYUFBYSxLQUFLLElBQUksRUFBRTt3QkFDN0IsT0FBTyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO3FCQUN0QztpQkFDSjtnQkFDRCxJQUNJLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsS0FBSyxVQUFVLENBQUMsRUFDMUQ7b0JBQ0UsT0FBTyxDQUFDLE1BQU07d0JBQ1YsSUFBSSxDQUFDLHdCQUF3QixHQUFHLENBQUM7NEJBQzdCLENBQUMsQ0FBQyxJQUFJLENBQUMsd0JBQXdCOzRCQUMvQixDQUFDLENBQUMsU0FBUyxDQUFDO2lCQUN2QjtnQkFDRCxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztvQkFDYixTQUFTO29CQUNULElBQUksRUFBRSxVQUFVO29CQUNoQixPQUFPLEVBQUUsWUFBWTtvQkFDckIsT0FBTztvQkFDUCxPQUFPO29CQUNQLE9BQU87aUJBQ1YsQ0FBQyxDQUFDO1lBQ1AsQ0FBQyxDQUFDLENBQUM7UUFDWCxDQUFDLENBQUMsQ0FBQztRQUNILE9BQU8sUUFBUSxDQUFDO0lBQ3BCLENBQUM7SUFFTSxLQUFLLENBQUMsb0JBQW9CLENBQzdCLFFBQWtCLEVBQ2xCLE1BQWMsRUFDZCxPQUFlO1FBRWYsTUFBTSxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDeEQsTUFBTSxRQUFRLEdBT1IsRUFBRSxDQUFDO1FBQ1QsTUFBTSxPQUFPLENBQUMsR0FBRyxDQUNiLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsRUFBRTtZQUNwQyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO2dCQUNwQixNQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDNUI7WUFDRCxNQUFNLElBQUksR0FPSixDQUNGLE1BQU0sT0FBTyxDQUFDLEtBQUssQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tEQWtCVSxNQUFNOzs2REFFSyxDQUFDLENBQzdDLENBQUMsU0FBUyxDQUFDO1lBQ1osUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBQzNCLENBQUMsQ0FBQyxDQUNMLENBQUM7UUFFRixRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDckIsTUFBTSxhQUFhLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FDakMsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUNWLFNBQVMsQ0FBQyxTQUFTLEtBQUssR0FBRyxDQUFDLE9BQU87Z0JBQ25DLFNBQVMsQ0FBQyxXQUFXLEtBQUssR0FBRyxDQUFDLE1BQU0sQ0FDM0MsQ0FBQztZQUNGLE1BQU0sVUFBVSxHQUFHLElBQUksR0FBRyxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQ2xFLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLEVBQUUsRUFBRTtnQkFDN0IsTUFBTSxPQUFPLEdBQUcsYUFBYSxDQUFDLE1BQU0sQ0FDaEMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLEtBQUssU0FBUyxDQUNuQyxDQUFDO2dCQUNGLE1BQU0sU0FBUyxHQUFVO29CQUNyQixPQUFPLEVBQUUsRUFBRTtvQkFDWCxPQUFPLEVBQUUsRUFBRTtvQkFDWCxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVM7aUJBQzdCLENBQUM7Z0JBQ0YsSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYztvQkFBRSxTQUFTLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztnQkFDeEQsSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUztvQkFBRSxTQUFTLENBQUMsT0FBTyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7Z0JBQzFELE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRTtvQkFDdkIsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUM5QyxDQUFDLENBQUMsQ0FBQztnQkFDSCxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUNoQyxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUMsQ0FBQyxDQUFDO1FBRUgsT0FBTyxRQUFRLENBQUM7SUFDcEIsQ0FBQztJQUVNLEtBQUssQ0FBQyxZQUFZLENBQ3JCLFFBQWtCLEVBQ2xCLE1BQWMsRUFDZCxPQUFlLEVBQ2YsaUJBQXFDO1FBRXJDLE1BQU0sT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3hELE1BQU0sUUFBUSxHQVNSLEVBQUUsQ0FBQztRQUNULE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FDYixPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLEVBQUU7WUFDcEMsSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDcEIsTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQzVCO1lBQ0QsTUFBTSxJQUFJLEdBU0osQ0FDRixNQUFNLE9BQU8sQ0FBQyxLQUFLLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztnRkF3QndDLE1BQU07OzJDQUUzQyxDQUFDLENBQzNCLENBQUMsU0FBUyxDQUFDO1lBQ1osUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBQzNCLENBQUMsQ0FBQyxDQUNMLENBQUM7UUFDRixNQUFNLGFBQWEsR0FBdUIsRUFBd0IsQ0FBQztRQUNuRSxNQUFNLFlBQVksR0FBRyxJQUFJLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUU5RCxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBVSxFQUFFLEVBQUU7WUFDaEMsTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsS0FBSyxVQUFVLENBQUMsQ0FBQztZQUMvRCxNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUM1QixDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsbUJBQW1CLENBQ25ELENBQUM7WUFDRixNQUFNLFlBQVksR0FBRyxRQUFRLENBQUMsSUFBSSxDQUM5QixDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUMvQyxDQUFDO1lBQ0YsSUFBSSxDQUFDLFVBQVUsSUFBSSxDQUFDLFlBQVksRUFBRTtnQkFDOUIsU0FBUyxDQUFDLFFBQVEsQ0FDZCwyQkFBMkIsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLG1CQUFtQixRQUFRLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxlQUFlLGdDQUFnQyxFQUNySCxJQUFJLENBQ1AsQ0FBQztnQkFDRixPQUFPO2FBQ1Y7WUFDRCxNQUFNLFFBQVEsR0FBcUI7Z0JBQy9CLFlBQVksRUFBRSxFQUFFO2dCQUNoQixjQUFjLEVBQUUsRUFBRTtnQkFDbEIsVUFBVTtnQkFDVixZQUFZO2FBQ2YsQ0FBQztZQUNGLFFBQVEsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRTtnQkFDdEIsS0FBSyxXQUFXO29CQUNaLE1BQU07Z0JBQ1YsS0FBSyxVQUFVO29CQUNYLFFBQVEsQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDO29CQUMvQixNQUFNO2dCQUNWO29CQUNJLFFBQVEsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQztvQkFDckMsTUFBTTthQUNiO1lBQ0QsUUFBUSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFO2dCQUN0QixLQUFLLFdBQVc7b0JBQ1osTUFBTTtnQkFDVixLQUFLLFVBQVU7b0JBQ1gsUUFBUSxDQUFDLFFBQVEsR0FBRyxVQUFVLENBQUM7b0JBQy9CLE1BQU07Z0JBQ1Y7b0JBQ0ksUUFBUSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDO29CQUNyQyxNQUFNO2FBQ2I7WUFDRCxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7Z0JBQ2pCLFFBQVEsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO2dCQUNqRCxRQUFRLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsMEJBQTBCLENBQUMsQ0FBQztZQUNqRSxDQUFDLENBQUMsQ0FBQztZQUNILGFBQWEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDakMsQ0FBQyxDQUFDLENBQUM7UUFFSCxNQUFNLE1BQU0sR0FBRyxXQUFXLENBQUMsZ0NBQWdDLENBQ3ZELGFBQWEsRUFDYixRQUFRLEVBQ1IsaUJBQWlCLENBQ3BCLENBQUM7UUFDRixPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRU0sS0FBSyxDQUFDLG9CQUFvQjtRQUM3QixJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDakIsTUFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQ2pDO0lBQ0wsQ0FBQztJQUVNLEtBQUssQ0FBQyxlQUFlLENBQUMsZ0JBQW9DO1FBQzdELE1BQU0sWUFBWSxHQUFHLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakUsTUFBTSxNQUFNLEdBQWlCO1lBQ3pCLFFBQVEsRUFBRSxZQUFZO1lBQ3RCLE9BQU8sRUFBRTtnQkFDTCxPQUFPLEVBQUUseUJBQXlCO2dCQUNsQyxPQUFPLEVBQUUsZ0JBQWdCLENBQUMsR0FBRzthQUNoQztZQUNELFFBQVEsRUFBRSxnQkFBZ0IsQ0FBQyxRQUFRO1lBQ25DLElBQUksRUFBRSxnQkFBZ0IsQ0FBQyxJQUFJO1lBQzNCLGNBQWMsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUk7WUFDOUIsTUFBTSxFQUFFLGdCQUFnQixDQUFDLElBQUk7WUFDN0IsSUFBSSxFQUFFLGdCQUFnQixDQUFDLElBQUk7U0FDOUIsQ0FBQztRQUVGLE1BQU0sT0FBTyxHQUFHLElBQUksT0FBTyxDQUFVLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxFQUFFO1lBQ3JELElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRTtnQkFDNUQsSUFBSSxDQUFDLEdBQUcsRUFBRTtvQkFDTixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7aUJBQ2pCO3FCQUFNO29CQUNILFNBQVMsQ0FBQyxRQUFRLENBQ2QsbUNBQW1DLEVBQ25DLEtBQUssRUFDTCxHQUFHLENBQUMsT0FBTyxDQUNkLENBQUM7b0JBQ0YsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2lCQUNmO1lBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDLENBQUMsQ0FBQztRQUVILE1BQU0sT0FBTyxDQUFDO0lBQ2xCLENBQUM7SUFFTSxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQWM7UUFDaEMsTUFBTSxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDeEQsTUFBTSxPQUFPLENBQUMsS0FBSyxDQUFDLG1CQUFtQixNQUFNLElBQUksQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFFTSxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQWM7UUFDN0IsTUFBTSxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDeEQsTUFBTSxPQUFPLENBQUMsS0FBSyxDQUFDLE9BQU8sTUFBTSxJQUFJLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRU0sS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFjO1FBQzlCLE1BQU0sT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3hELE1BQU0sT0FBTyxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsTUFBTSxJQUFJLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBRU0sS0FBSyxDQUFDLGVBQWUsQ0FBQyxNQUFjO1FBQ3ZDLE1BQU0sT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3hELE1BQU0sSUFBSSxHQUFHLE1BQU0sT0FBTyxDQUFDLEtBQUssQ0FDNUIsd0RBQXdELE1BQU0sSUFBSSxDQUNyRSxDQUFDO1FBQ0YsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVPLE1BQU0sQ0FBQywwQkFBMEIsQ0FDckMsTUFBcUI7UUFFckIsSUFBSSxZQUFZLEdBQUcsTUFBTSxDQUFDO1FBQzFCLElBQUksQ0FBQyxZQUFZLEVBQUU7WUFDZixPQUFPLFNBQVMsQ0FBQztTQUNwQjtRQUNELElBQUksWUFBWSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxZQUFZLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQzVELFlBQVksR0FBRyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzVDO1FBRUQsT0FBTyxVQUFVLFlBQVksR0FBRyxDQUFDO0lBQ3JDLENBQUM7Q0FDSjtBQWhoQkQsOEJBZ2hCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlICogYXMgTVNTUUwgZnJvbSBcIm1zc3FsXCI7XG5pbXBvcnQgeyBDb25uZWN0aW9uT3B0aW9ucyB9IGZyb20gXCJ0eXBlb3JtXCI7XG5pbXBvcnQgKiBhcyBUeXBlb3JtRHJpdmVyIGZyb20gXCJ0eXBlb3JtL2RyaXZlci9zcWxzZXJ2ZXIvU3FsU2VydmVyRHJpdmVyXCI7XG5pbXBvcnQgeyBEYXRhVHlwZURlZmF1bHRzIH0gZnJvbSBcInR5cGVvcm0vZHJpdmVyL3R5cGVzL0RhdGFUeXBlRGVmYXVsdHNcIjtcbmltcG9ydCAqIGFzIFRvbWdVdGlscyBmcm9tIFwiLi4vVXRpbHNcIjtcbmltcG9ydCBBYnN0cmFjdERyaXZlciBmcm9tIFwiLi9BYnN0cmFjdERyaXZlclwiO1xuaW1wb3J0IElDb25uZWN0aW9uT3B0aW9ucyBmcm9tIFwiLi4vSUNvbm5lY3Rpb25PcHRpb25zXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vbW9kZWxzL0VudGl0eVwiO1xuaW1wb3J0IHsgQ29sdW1uIH0gZnJvbSBcIi4uL21vZGVscy9Db2x1bW5cIjtcbmltcG9ydCB7IEluZGV4IH0gZnJvbSBcIi4uL21vZGVscy9JbmRleFwiO1xuaW1wb3J0IElHZW5lcmF0aW9uT3B0aW9ucyBmcm9tIFwiLi4vSUdlbmVyYXRpb25PcHRpb25zXCI7XG5pbXBvcnQgeyBSZWxhdGlvbkludGVybmFsIH0gZnJvbSBcIi4uL21vZGVscy9SZWxhdGlvbkludGVybmFsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1zc3FsRHJpdmVyIGV4dGVuZHMgQWJzdHJhY3REcml2ZXIge1xuICAgIHB1YmxpYyBkZWZhdWx0VmFsdWVzOiBEYXRhVHlwZURlZmF1bHRzID0gbmV3IFR5cGVvcm1Ecml2ZXIuU3FsU2VydmVyRHJpdmVyKHtcbiAgICAgICAgb3B0aW9uczogeyByZXBsaWNhdGlvbjogdW5kZWZpbmVkIH0gYXMgQ29ubmVjdGlvbk9wdGlvbnMsXG4gICAgfSBhcyBhbnkpLmRhdGFUeXBlRGVmYXVsdHM7XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhbmRhcmRQb3J0ID0gMTQzMztcblxuICAgIHB1YmxpYyByZWFkb25seSBzdGFuZGFyZFNjaGVtYSA9IFwiZGJvXCI7XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhbmRhcmRVc2VyID0gXCJzYVwiO1xuXG4gICAgcHJpdmF0ZSBNU1NRTDogdHlwZW9mIE1TU1FMO1xuXG4gICAgcHJpdmF0ZSBDb25uZWN0aW9uOiBNU1NRTC5Db25uZWN0aW9uUG9vbDtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXMsIGdsb2JhbC1yZXF1aXJlLCBpbXBvcnQvbm8tdW5yZXNvbHZlZFxuICAgICAgICAgICAgdGhpcy5NU1NRTCA9IHJlcXVpcmUoXCJtc3NxbFwiKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIFRvbWdVdGlscy5Mb2dFcnJvcihcIlwiLCBmYWxzZSwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgR2V0QWxsVGFibGVzUXVlcnkgPSBhc3luYyAoXG4gICAgICAgIHNjaGVtYTogc3RyaW5nLFxuICAgICAgICBkYk5hbWVzOiBzdHJpbmcsXG4gICAgICAgIHRhYmxlTmFtZXM6IHN0cmluZ1tdXG4gICAgKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgdGhpcy5NU1NRTC5SZXF1ZXN0KHRoaXMuQ29ubmVjdGlvbik7XG4gICAgICAgIGNvbnN0IHRhYmxlQ29uZGl0aW9uID1cbiAgICAgICAgICAgIHRhYmxlTmFtZXMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgID8gYCBBTkQgTk9UIFRBQkxFX05BTUUgSU4gKCcke3RhYmxlTmFtZXMuam9pbihcIicsJ1wiKX0nKWBcbiAgICAgICAgICAgICAgICA6IFwiXCI7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlOiB7XG4gICAgICAgICAgICBUQUJMRV9TQ0hFTUE6IHN0cmluZztcbiAgICAgICAgICAgIFRBQkxFX05BTUU6IHN0cmluZztcbiAgICAgICAgICAgIERCX05BTUU6IHN0cmluZztcbiAgICAgICAgfVtdID0gKFxuICAgICAgICAgICAgYXdhaXQgcmVxdWVzdC5xdWVyeShcbiAgICAgICAgICAgICAgICBgU0VMRUNUIFRBQkxFX1NDSEVNQSxUQUJMRV9OQU1FLCB0YWJsZV9jYXRhbG9nIGFzIFwiREJfTkFNRVwiIEZST00gSU5GT1JNQVRJT05fU0NIRU1BLlRBQkxFU1xuV0hFUkUgVEFCTEVfVFlQRT0nQkFTRSBUQUJMRScgYW5kIFRBQkxFX1NDSEVNQSBpbiAoJHtzY2hlbWF9KSBBTkQgVEFCTEVfQ0FUQUxPRyBpbiAoJHtNc3NxbERyaXZlci5lc2NhcGVDb21tYVNlcGFyYXRlZExpc3QoXG4gICAgICAgICAgICAgICAgICAgIGRiTmFtZXNcbiAgICAgICAgICAgICAgICApfSkgJHt0YWJsZUNvbmRpdGlvbn1gXG4gICAgICAgICAgICApXG4gICAgICAgICkucmVjb3Jkc2V0O1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfTtcblxuICAgIHB1YmxpYyBhc3luYyBHZXRDb3VsbW5zRnJvbUVudGl0eShcbiAgICAgICAgZW50aXRpZXM6IEVudGl0eVtdLFxuICAgICAgICBzY2hlbWE6IHN0cmluZyxcbiAgICAgICAgZGJOYW1lczogc3RyaW5nXG4gICAgKTogUHJvbWlzZTxFbnRpdHlbXT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IHRoaXMuTVNTUUwuUmVxdWVzdCh0aGlzLkNvbm5lY3Rpb24pO1xuICAgICAgICBjb25zdCByZXNwb25zZToge1xuICAgICAgICAgICAgVEFCTEVfTkFNRTogc3RyaW5nO1xuICAgICAgICAgICAgQ09MVU1OX05BTUU6IHN0cmluZztcbiAgICAgICAgICAgIFRBQkxFX1NDSEVNQTogc3RyaW5nO1xuICAgICAgICAgICAgQ09MVU1OX0RFRkFVTFQ6IHN0cmluZztcbiAgICAgICAgICAgIElTX05VTExBQkxFOiBzdHJpbmc7XG4gICAgICAgICAgICBEQVRBX1RZUEU6IHN0cmluZztcbiAgICAgICAgICAgIENIQVJBQ1RFUl9NQVhJTVVNX0xFTkdUSDogbnVtYmVyO1xuICAgICAgICAgICAgTlVNRVJJQ19QUkVDSVNJT046IG51bWJlcjtcbiAgICAgICAgICAgIE5VTUVSSUNfU0NBTEU6IG51bWJlcjtcbiAgICAgICAgICAgIElzSWRlbnRpdHk6IG51bWJlcjtcbiAgICAgICAgICAgIElzVW5pcXVlOiBudW1iZXI7XG4gICAgICAgIH1bXSA9IChcbiAgICAgICAgICAgIGF3YWl0IHJlcXVlc3QucXVlcnkoYFNFTEVDVCBUQUJMRV9OQU1FLFRBQkxFX1NDSEVNQSxDT0xVTU5fTkFNRSxDT0xVTU5fREVGQVVMVCxJU19OVUxMQUJMRSxcbiAgICAgICAgREFUQV9UWVBFLENIQVJBQ1RFUl9NQVhJTVVNX0xFTkdUSCxOVU1FUklDX1BSRUNJU0lPTixOVU1FUklDX1NDQUxFLFxuICAgICAgICBDT0xVTU5QUk9QRVJUWShvYmplY3RfaWQoVEFCTEVfTkFNRSksIENPTFVNTl9OQU1FLCAnSXNJZGVudGl0eScpIElzSWRlbnRpdHksXG4gICAgICAgIChTRUxFQ1QgY291bnQoKilcbiAgICAgICAgIEZST00gSU5GT1JNQVRJT05fU0NIRU1BLlRBQkxFX0NPTlNUUkFJTlRTIHRjXG4gICAgICAgICAgICAgaW5uZXIgam9pbiBJTkZPUk1BVElPTl9TQ0hFTUEuQ09OU1RSQUlOVF9DT0xVTU5fVVNBR0UgY3VcbiAgICAgICAgICAgICAgICAgb24gY3UuQ09OU1RSQUlOVF9OQU1FID0gdGMuQ09OU1RSQUlOVF9OQU1FXG4gICAgICAgICB3aGVyZVxuICAgICAgICAgICAgIHRjLkNPTlNUUkFJTlRfVFlQRSA9ICdVTklRVUUnXG4gICAgICAgICAgICAgYW5kIHRjLlRBQkxFX05BTUUgPSBjLlRBQkxFX05BTUVcbiAgICAgICAgICAgICBhbmQgY3UuQ09MVU1OX05BTUUgPSBjLkNPTFVNTl9OQU1FXG4gICAgICAgICAgICAgYW5kIHRjLlRBQkxFX1NDSEVNQT1jLlRBQkxFX1NDSEVNQSkgSXNVbmlxdWVcbiAgICAgICAgRlJPTSBJTkZPUk1BVElPTl9TQ0hFTUEuQ09MVU1OUyBjXG4gICAgICAgIHdoZXJlIFRBQkxFX1NDSEVNQSBpbiAoJHtzY2hlbWF9KSBBTkQgVEFCTEVfQ0FUQUxPRyBpbiAoJHtNc3NxbERyaXZlci5lc2NhcGVDb21tYVNlcGFyYXRlZExpc3QoXG4gICAgICAgICAgICAgICAgZGJOYW1lc1xuICAgICAgICAgICAgKX0pXG4gICAgICAgICAgICAgb3JkZXIgYnkgb3JkaW5hbF9wb3NpdGlvbmApXG4gICAgICAgICkucmVjb3Jkc2V0O1xuICAgICAgICBlbnRpdGllcy5mb3JFYWNoKChlbnQpID0+IHtcbiAgICAgICAgICAgIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoZmlsdGVyVmFsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJWYWwuVEFCTEVfTkFNRSA9PT0gZW50LnRzY05hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclZhbC5UQUJMRV9TQ0hFTUEgPT09IGVudC5zY2hlbWFcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKChyZXNwKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRzY05hbWUgPSByZXNwLkNPTFVNTl9OQU1FO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zOiBDb2x1bW5bXCJvcHRpb25zXCJdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcmVzcC5DT0xVTU5fTkFNRSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3AuSVNfTlVMTEFCTEUgPT09IFwiWUVTXCIpIG9wdGlvbnMubnVsbGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcC5Jc1VuaXF1ZSA9PT0gMSkgb3B0aW9ucy51bmlxdWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnZW5lcmF0ZWQgPSByZXNwLklzSWRlbnRpdHkgPT09IDEgPyB0cnVlIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBNc3NxbERyaXZlci5SZXR1cm5EZWZhdWx0VmFsdWVGdW5jdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3AuQ09MVU1OX0RFRkFVTFRcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sdW1uVHlwZSA9IHJlc3AuREFUQV9UWVBFO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdHNjVHlwZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVzcC5EQVRBX1RZUEUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiaXRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJib29sZWFuXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGVjaW1hbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImludFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1vbmV5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibnVtZXJpY1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNtYWxsaW50XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic21hbGxtb25leVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRpbnlpbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmbG9hdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJlYWxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkYXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwiRGF0ZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRhdGV0aW1lMlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIkRhdGVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkYXRldGltZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIkRhdGVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkYXRldGltZW9mZnNldFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIkRhdGVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzbWFsbGRhdGV0aW1lXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwiRGF0ZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRpbWVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJEYXRlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2hhclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ2YXJjaGFyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibmNoYXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJudGV4dFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm52YXJjaGFyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmluYXJ5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwiQnVmZmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJCdWZmZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ2YXJiaW5hcnlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJCdWZmZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJoaWVyYXJjaHlpZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNxbF92YXJpYW50XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidGltZXN0YW1wXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwiRGF0ZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVuaXF1ZWlkZW50aWZpZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ4bWxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJnZW9tZXRyeVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImdlb2dyYXBoeVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJOb25OdWxsYWJsZTx1bmtub3duPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvbWdVdGlscy5Mb2dFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFVua25vd24gY29sdW1uIHR5cGU6ICR7cmVzcC5EQVRBX1RZUEV9ICB0YWJsZSBuYW1lOiAke3Jlc3AuVEFCTEVfTkFNRX0gY29sdW1uIG5hbWU6ICR7cmVzcC5DT0xVTU5fTkFNRX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQ29sdW1uVHlwZXNXaXRoUHJlY2lzaW9uLnNvbWUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHYpID0+IHYgPT09IGNvbHVtblR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcC5OVU1FUklDX1BSRUNJU0lPTiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucHJlY2lzaW9uID0gcmVzcC5OVU1FUklDX1BSRUNJU0lPTjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwLk5VTUVSSUNfU0NBTEUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnNjYWxlID0gcmVzcC5OVU1FUklDX1NDQUxFO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQ29sdW1uVHlwZXNXaXRoTGVuZ3RoLnNvbWUoKHYpID0+IHYgPT09IGNvbHVtblR5cGUpXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5sZW5ndGggPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3AuQ0hBUkFDVEVSX01BWElNVU1fTEVOR1RIID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHJlc3AuQ0hBUkFDVEVSX01BWElNVU1fTEVOR1RIXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVudC5jb2x1bW5zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogY29sdW1uVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0c2NOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZW50aXRpZXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIEdldEluZGV4ZXNGcm9tRW50aXR5KFxuICAgICAgICBlbnRpdGllczogRW50aXR5W10sXG4gICAgICAgIHNjaGVtYTogc3RyaW5nLFxuICAgICAgICBkYk5hbWVzOiBzdHJpbmdcbiAgICApOiBQcm9taXNlPEVudGl0eVtdPiB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgdGhpcy5NU1NRTC5SZXF1ZXN0KHRoaXMuQ29ubmVjdGlvbik7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlOiB7XG4gICAgICAgICAgICBUYWJsZU5hbWU6IHN0cmluZztcbiAgICAgICAgICAgIFRhYmxlU2NoZW1hOiBzdHJpbmc7XG4gICAgICAgICAgICBJbmRleE5hbWU6IHN0cmluZztcbiAgICAgICAgICAgIENvbHVtbk5hbWU6IHN0cmluZztcbiAgICAgICAgICAgIGlzX3VuaXF1ZTogYm9vbGVhbjtcbiAgICAgICAgICAgIGlzX3ByaW1hcnlfa2V5OiBib29sZWFuO1xuICAgICAgICB9W10gPSBbXTtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICBkYk5hbWVzLnNwbGl0KFwiLFwiKS5tYXAoYXN5bmMgKGRiTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkYk5hbWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5Vc2VEQihkYk5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZXNwOiB7XG4gICAgICAgICAgICAgICAgICAgIFRhYmxlTmFtZTogc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICBUYWJsZVNjaGVtYTogc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICBJbmRleE5hbWU6IHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgQ29sdW1uTmFtZTogc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICBpc191bmlxdWU6IGJvb2xlYW47XG4gICAgICAgICAgICAgICAgICAgIGlzX3ByaW1hcnlfa2V5OiBib29sZWFuO1xuICAgICAgICAgICAgICAgIH1bXSA9IChcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmVxdWVzdC5xdWVyeShgU0VMRUNUXG4gICAgICAgICAgICAgVGFibGVOYW1lID0gdC5uYW1lLFxuICAgICAgICAgICAgIFRhYmxlU2NoZW1hID0gcy5uYW1lLFxuICAgICAgICAgICAgIEluZGV4TmFtZSA9IGluZC5uYW1lLFxuICAgICAgICAgICAgIENvbHVtbk5hbWUgPSBjb2wubmFtZSxcbiAgICAgICAgICAgICBpbmQuaXNfdW5pcXVlLFxuICAgICAgICAgICAgIGluZC5pc19wcmltYXJ5X2tleVxuICAgICAgICBGUk9NXG4gICAgICAgICAgICAgc3lzLmluZGV4ZXMgaW5kXG4gICAgICAgIElOTkVSIEpPSU5cbiAgICAgICAgICAgICBzeXMuaW5kZXhfY29sdW1ucyBpYyBPTiAgaW5kLm9iamVjdF9pZCA9IGljLm9iamVjdF9pZCBhbmQgaW5kLmluZGV4X2lkID0gaWMuaW5kZXhfaWRcbiAgICAgICAgSU5ORVIgSk9JTlxuICAgICAgICAgICAgIHN5cy5jb2x1bW5zIGNvbCBPTiBpYy5vYmplY3RfaWQgPSBjb2wub2JqZWN0X2lkIGFuZCBpYy5jb2x1bW5faWQgPSBjb2wuY29sdW1uX2lkXG4gICAgICAgIElOTkVSIEpPSU5cbiAgICAgICAgICAgICBzeXMudGFibGVzIHQgT04gaW5kLm9iamVjdF9pZCA9IHQub2JqZWN0X2lkXG4gICAgICAgIElOTkVSIEpPSU5cbiAgICAgICAgICAgICBzeXMuc2NoZW1hcyBzIG9uIHMuc2NoZW1hX2lkPXQuc2NoZW1hX2lkXG4gICAgICAgIFdIRVJFXG4gICAgICAgICAgICAgdC5pc19tc19zaGlwcGVkID0gMCBhbmQgcy5uYW1lIGluICgke3NjaGVtYX0pXG4gICAgICAgIE9SREVSIEJZXG4gICAgICAgICAgICAgdC5uYW1lLCBpbmQubmFtZSwgaW5kLmluZGV4X2lkLCBpYy5rZXlfb3JkaW5hbDtgKVxuICAgICAgICAgICAgICAgICkucmVjb3Jkc2V0O1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnB1c2goLi4ucmVzcCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIGVudGl0aWVzLmZvckVhY2goKGVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW50aXR5SW5kaWNlcyA9IHJlc3BvbnNlLmZpbHRlcihcbiAgICAgICAgICAgICAgICAoZmlsdGVyVmFsKSA9PlxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJWYWwuVGFibGVOYW1lID09PSBlbnQudHNjTmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJWYWwuVGFibGVTY2hlbWEgPT09IGVudC5zY2hlbWFcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBpbmRleE5hbWVzID0gbmV3IFNldChlbnRpdHlJbmRpY2VzLm1hcCgodikgPT4gdi5JbmRleE5hbWUpKTtcbiAgICAgICAgICAgIGluZGV4TmFtZXMuZm9yRWFjaCgoaW5kZXhOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjb3JkcyA9IGVudGl0eUluZGljZXMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAodikgPT4gdi5JbmRleE5hbWUgPT09IGluZGV4TmFtZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXhJbmZvOiBJbmRleCA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uczogW10sXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiByZWNvcmRzWzBdLkluZGV4TmFtZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmRzWzBdLmlzX3ByaW1hcnlfa2V5KSBpbmRleEluZm8ucHJpbWFyeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZHNbMF0uaXNfdW5pcXVlKSBpbmRleEluZm8ub3B0aW9ucy51bmlxdWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlY29yZHMuZm9yRWFjaCgocmVjb3JkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4SW5mby5jb2x1bW5zLnB1c2gocmVjb3JkLkNvbHVtbk5hbWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGVudC5pbmRpY2VzLnB1c2goaW5kZXhJbmZvKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZW50aXRpZXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIEdldFJlbGF0aW9ucyhcbiAgICAgICAgZW50aXRpZXM6IEVudGl0eVtdLFxuICAgICAgICBzY2hlbWE6IHN0cmluZyxcbiAgICAgICAgZGJOYW1lczogc3RyaW5nLFxuICAgICAgICBnZW5lcmF0aW9uT3B0aW9uczogSUdlbmVyYXRpb25PcHRpb25zXG4gICAgKTogUHJvbWlzZTxFbnRpdHlbXT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IHRoaXMuTVNTUUwuUmVxdWVzdCh0aGlzLkNvbm5lY3Rpb24pO1xuICAgICAgICBjb25zdCByZXNwb25zZToge1xuICAgICAgICAgICAgVGFibGVXaXRoRm9yZWlnbktleTogc3RyaW5nO1xuICAgICAgICAgICAgRktfUGFydE5vOiBudW1iZXI7XG4gICAgICAgICAgICBGb3JlaWduS2V5Q29sdW1uOiBzdHJpbmc7XG4gICAgICAgICAgICBUYWJsZVJlZmVyZW5jZWQ6IHN0cmluZztcbiAgICAgICAgICAgIEZvcmVpZ25LZXlDb2x1bW5SZWZlcmVuY2VkOiBzdHJpbmc7XG4gICAgICAgICAgICBvbkRlbGV0ZTogXCJSRVNUUklDVFwiIHwgXCJDQVNDQURFXCIgfCBcIlNFVF9OVUxMXCIgfCBcIk5PX0FDVElPTlwiO1xuICAgICAgICAgICAgb25VcGRhdGU6IFwiUkVTVFJJQ1RcIiB8IFwiQ0FTQ0FERVwiIHwgXCJTRVRfTlVMTFwiIHwgXCJOT19BQ1RJT05cIjtcbiAgICAgICAgICAgIG9iamVjdElkOiBudW1iZXI7XG4gICAgICAgIH1bXSA9IFtdO1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICAgIGRiTmFtZXMuc3BsaXQoXCIsXCIpLm1hcChhc3luYyAoZGJOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRiTmFtZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLlVzZURCKGRiTmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3A6IHtcbiAgICAgICAgICAgICAgICAgICAgVGFibGVXaXRoRm9yZWlnbktleTogc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICBGS19QYXJ0Tm86IG51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgRm9yZWlnbktleUNvbHVtbjogc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICBUYWJsZVJlZmVyZW5jZWQ6IHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgRm9yZWlnbktleUNvbHVtblJlZmVyZW5jZWQ6IHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgb25EZWxldGU6IFwiUkVTVFJJQ1RcIiB8IFwiQ0FTQ0FERVwiIHwgXCJTRVRfTlVMTFwiIHwgXCJOT19BQ1RJT05cIjtcbiAgICAgICAgICAgICAgICAgICAgb25VcGRhdGU6IFwiUkVTVFJJQ1RcIiB8IFwiQ0FTQ0FERVwiIHwgXCJTRVRfTlVMTFwiIHwgXCJOT19BQ1RJT05cIjtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0SWQ6IG51bWJlcjtcbiAgICAgICAgICAgICAgICB9W10gPSAoXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlcXVlc3QucXVlcnkoYHNlbGVjdFxuICAgICAgICAgICAgcGFyZW50VGFibGUubmFtZSBhcyBUYWJsZVdpdGhGb3JlaWduS2V5LFxuICAgICAgICAgICAgZmtjLmNvbnN0cmFpbnRfY29sdW1uX2lkIGFzIEZLX1BhcnRObyxcbiAgICAgICAgICAgICBwYXJlbnRDb2x1bW4ubmFtZSBhcyBGb3JlaWduS2V5Q29sdW1uLFxuICAgICAgICAgICAgIHJlZmVyZW5jZWRUYWJsZS5uYW1lIGFzIFRhYmxlUmVmZXJlbmNlZCxcbiAgICAgICAgICAgICByZWZlcmVuY2VkQ29sdW1uLm5hbWUgYXMgRm9yZWlnbktleUNvbHVtblJlZmVyZW5jZWQsXG4gICAgICAgICAgICAgZmsuZGVsZXRlX3JlZmVyZW50aWFsX2FjdGlvbl9kZXNjIGFzIG9uRGVsZXRlLFxuICAgICAgICAgICAgIGZrLnVwZGF0ZV9yZWZlcmVudGlhbF9hY3Rpb25fZGVzYyBhcyBvblVwZGF0ZSxcbiAgICAgICAgICAgICBmay5vYmplY3RfaWQgYXMgb2JqZWN0SWRcbiAgICAgICAgZnJvbVxuICAgICAgICAgICAgc3lzLmZvcmVpZ25fa2V5cyBma1xuICAgICAgICBpbm5lciBqb2luXG4gICAgICAgICAgICBzeXMuZm9yZWlnbl9rZXlfY29sdW1ucyBhcyBma2Mgb24gZmtjLmNvbnN0cmFpbnRfb2JqZWN0X2lkPWZrLm9iamVjdF9pZFxuICAgICAgICBpbm5lciBqb2luXG4gICAgICAgICAgICBzeXMudGFibGVzIGFzIHBhcmVudFRhYmxlIG9uIGZrYy5wYXJlbnRfb2JqZWN0X2lkID0gcGFyZW50VGFibGUub2JqZWN0X2lkXG4gICAgICAgIGlubmVyIGpvaW5cbiAgICAgICAgICAgIHN5cy5jb2x1bW5zIGFzIHBhcmVudENvbHVtbiBvbiBma2MucGFyZW50X29iamVjdF9pZCA9IHBhcmVudENvbHVtbi5vYmplY3RfaWQgYW5kIGZrYy5wYXJlbnRfY29sdW1uX2lkID0gcGFyZW50Q29sdW1uLmNvbHVtbl9pZFxuICAgICAgICBpbm5lciBqb2luXG4gICAgICAgICAgICBzeXMudGFibGVzIGFzIHJlZmVyZW5jZWRUYWJsZSBvbiBma2MucmVmZXJlbmNlZF9vYmplY3RfaWQgPSByZWZlcmVuY2VkVGFibGUub2JqZWN0X2lkXG4gICAgICAgIGlubmVyIGpvaW5cbiAgICAgICAgICAgIHN5cy5jb2x1bW5zIGFzIHJlZmVyZW5jZWRDb2x1bW4gb24gZmtjLnJlZmVyZW5jZWRfb2JqZWN0X2lkID0gcmVmZXJlbmNlZENvbHVtbi5vYmplY3RfaWQgYW5kIGZrYy5yZWZlcmVuY2VkX2NvbHVtbl9pZCA9IHJlZmVyZW5jZWRDb2x1bW4uY29sdW1uX2lkXG4gICAgICAgIGlubmVyIGpvaW5cbiAgICAgICAgXHRzeXMuc2NoZW1hcyBhcyBwYXJlbnRTY2hlbWEgb24gcGFyZW50U2NoZW1hLnNjaGVtYV9pZD1wYXJlbnRUYWJsZS5zY2hlbWFfaWRcbiAgICAgICAgd2hlcmVcbiAgICAgICAgICAgIGZrLmlzX2Rpc2FibGVkPTAgYW5kIGZrLmlzX21zX3NoaXBwZWQ9MCBhbmQgcGFyZW50U2NoZW1hLm5hbWUgaW4gKCR7c2NoZW1hfSlcbiAgICAgICAgb3JkZXIgYnlcbiAgICAgICAgICAgIFRhYmxlV2l0aEZvcmVpZ25LZXksIEZLX1BhcnROb2ApXG4gICAgICAgICAgICAgICAgKS5yZWNvcmRzZXQ7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UucHVzaCguLi5yZXNwKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHJlbGF0aW9uc1RlbXA6IFJlbGF0aW9uSW50ZXJuYWxbXSA9IFtdIGFzIFJlbGF0aW9uSW50ZXJuYWxbXTtcbiAgICAgICAgY29uc3QgcmVsYXRpb25LZXlzID0gbmV3IFNldChyZXNwb25zZS5tYXAoKHYpID0+IHYub2JqZWN0SWQpKTtcblxuICAgICAgICByZWxhdGlvbktleXMuZm9yRWFjaCgocmVsYXRpb25JZCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgcm93cyA9IHJlc3BvbnNlLmZpbHRlcigodikgPT4gdi5vYmplY3RJZCA9PT0gcmVsYXRpb25JZCk7XG4gICAgICAgICAgICBjb25zdCBvd25lclRhYmxlID0gZW50aXRpZXMuZmluZChcbiAgICAgICAgICAgICAgICAodikgPT4gdi5zcWxOYW1lID09PSByb3dzWzBdLlRhYmxlV2l0aEZvcmVpZ25LZXlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCByZWxhdGVkVGFibGUgPSBlbnRpdGllcy5maW5kKFxuICAgICAgICAgICAgICAgICh2KSA9PiB2LnNxbE5hbWUgPT09IHJvd3NbMF0uVGFibGVSZWZlcmVuY2VkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCFvd25lclRhYmxlIHx8ICFyZWxhdGVkVGFibGUpIHtcbiAgICAgICAgICAgICAgICBUb21nVXRpbHMuTG9nRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIGBSZWxhdGlvbiBiZXR3ZWVuIHRhYmxlcyAke3Jvd3NbMF0uVGFibGVXaXRoRm9yZWlnbktleX0gYW5kICR7cm93c1swXS5UYWJsZVJlZmVyZW5jZWR9IHdhc24ndCBmb3VuZCBpbiBlbnRpdHkgbW9kZWwuYCxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW50ZXJuYWw6IFJlbGF0aW9uSW50ZXJuYWwgPSB7XG4gICAgICAgICAgICAgICAgb3duZXJDb2x1bW5zOiBbXSxcbiAgICAgICAgICAgICAgICByZWxhdGVkQ29sdW1uczogW10sXG4gICAgICAgICAgICAgICAgb3duZXJUYWJsZSxcbiAgICAgICAgICAgICAgICByZWxhdGVkVGFibGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3dpdGNoIChyb3dzWzBdLm9uRGVsZXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIk5PX0FDVElPTlwiOlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiU0VUX05VTExcIjpcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWwub25EZWxldGUgPSBcIlNFVCBOVUxMXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGludGVybmFsLm9uRGVsZXRlID0gcm93c1swXS5vbkRlbGV0ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHJvd3NbMF0ub25VcGRhdGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiTk9fQUNUSU9OXCI6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJTRVRfTlVMTFwiOlxuICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbC5vblVwZGF0ZSA9IFwiU0VUIE5VTExcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWwub25VcGRhdGUgPSByb3dzWzBdLm9uVXBkYXRlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvd3MuZm9yRWFjaCgocm93KSA9PiB7XG4gICAgICAgICAgICAgICAgaW50ZXJuYWwub3duZXJDb2x1bW5zLnB1c2gocm93LkZvcmVpZ25LZXlDb2x1bW4pO1xuICAgICAgICAgICAgICAgIGludGVybmFsLnJlbGF0ZWRDb2x1bW5zLnB1c2gocm93LkZvcmVpZ25LZXlDb2x1bW5SZWZlcmVuY2VkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVsYXRpb25zVGVtcC5wdXNoKGludGVybmFsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmV0VmFsID0gTXNzcWxEcml2ZXIuR2V0UmVsYXRpb25zRnJvbVJlbGF0aW9uVGVtcEluZm8oXG4gICAgICAgICAgICByZWxhdGlvbnNUZW1wLFxuICAgICAgICAgICAgZW50aXRpZXMsXG4gICAgICAgICAgICBnZW5lcmF0aW9uT3B0aW9uc1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcmV0VmFsO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBEaXNjb25uZWN0RnJvbVNlcnZlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5Db25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgQ29ubmVjdFRvU2VydmVyKGNvbm5lY3Rpb25PcHRvbnM6IElDb25uZWN0aW9uT3B0aW9ucykge1xuICAgICAgICBjb25zdCBkYXRhYmFzZU5hbWUgPSBjb25uZWN0aW9uT3B0b25zLmRhdGFiYXNlTmFtZS5zcGxpdChcIixcIilbMF07XG4gICAgICAgIGNvbnN0IGNvbmZpZzogTVNTUUwuY29uZmlnID0ge1xuICAgICAgICAgICAgZGF0YWJhc2U6IGRhdGFiYXNlTmFtZSxcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBhcHBOYW1lOiBcInR5cGVvcm0tbW9kZWwtZ2VuZXJhdG9yXCIsXG4gICAgICAgICAgICAgICAgZW5jcnlwdDogY29ubmVjdGlvbk9wdG9ucy5zc2wsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFzc3dvcmQ6IGNvbm5lY3Rpb25PcHRvbnMucGFzc3dvcmQsXG4gICAgICAgICAgICBwb3J0OiBjb25uZWN0aW9uT3B0b25zLnBvcnQsXG4gICAgICAgICAgICByZXF1ZXN0VGltZW91dDogNjAgKiA2MCAqIDEwMDAsXG4gICAgICAgICAgICBzZXJ2ZXI6IGNvbm5lY3Rpb25PcHRvbnMuaG9zdCxcbiAgICAgICAgICAgIHVzZXI6IGNvbm5lY3Rpb25PcHRvbnMudXNlcixcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2U8Ym9vbGVhbj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5Db25uZWN0aW9uID0gbmV3IHRoaXMuTVNTUUwuQ29ubmVjdGlvblBvb2woY29uZmlnLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBUb21nVXRpbHMuTG9nRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkVycm9yIGNvbm5lY3RpbmcgdG8gTVNTUUwgU2VydmVyLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnIubWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXdhaXQgcHJvbWlzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgQ3JlYXRlREIoZGJOYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyB0aGlzLk1TU1FMLlJlcXVlc3QodGhpcy5Db25uZWN0aW9uKTtcbiAgICAgICAgYXdhaXQgcmVxdWVzdC5xdWVyeShgQ1JFQVRFIERBVEFCQVNFICR7ZGJOYW1lfTsgYCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIFVzZURCKGRiTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgdGhpcy5NU1NRTC5SZXF1ZXN0KHRoaXMuQ29ubmVjdGlvbik7XG4gICAgICAgIGF3YWl0IHJlcXVlc3QucXVlcnkoYFVTRSAke2RiTmFtZX07IGApO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBEcm9wREIoZGJOYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyB0aGlzLk1TU1FMLlJlcXVlc3QodGhpcy5Db25uZWN0aW9uKTtcbiAgICAgICAgYXdhaXQgcmVxdWVzdC5xdWVyeShgRFJPUCBEQVRBQkFTRSAke2RiTmFtZX07IGApO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBDaGVja0lmREJFeGlzdHMoZGJOYW1lOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyB0aGlzLk1TU1FMLlJlcXVlc3QodGhpcy5Db25uZWN0aW9uKTtcbiAgICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IHJlcXVlc3QucXVlcnkoXG4gICAgICAgICAgICBgU0VMRUNUIG5hbWUgRlJPTSBtYXN0ZXIuc3lzLmRhdGFiYXNlcyBXSEVSRSBuYW1lID0gTicke2RiTmFtZX0nIGBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHJlc3AucmVjb3Jkc2V0Lmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgUmV0dXJuRGVmYXVsdFZhbHVlRnVuY3Rpb24oXG4gICAgICAgIGRlZlZhbDogc3RyaW5nIHwgbnVsbFxuICAgICk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGxldCBkZWZhdWx0VmFsdWUgPSBkZWZWYWw7XG4gICAgICAgIGlmICghZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWZhdWx0VmFsdWUuc3RhcnRzV2l0aChcIihcIikgJiYgZGVmYXVsdFZhbHVlLmVuZHNXaXRoKFwiKVwiKSkge1xuICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBgKCkgPT4gXCIke2RlZmF1bHRWYWx1ZX1cImA7XG4gICAgfVxufVxuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL25lbW8vd29yay9naXRodWIvdHlwZW9ybS1tb2RlbC1nZW5lcmF0b3Ivc3JjL2RyaXZlcnMvTXNzcWxEcml2ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6InczekRBRUEsS0FBQSxDQUFBLGFBQUEsMEJBQUEsT0FBQSxDQUFBLDBDQUFBLENBQUEsQ0FBQSxDQUVBLEtBQUEsQ0FBQSxTQUFBLDBCQUFBLE9BQUEsQ0FBQSxVQUFBLENBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxnQkFBQSwwQkFBQSxPQUFBLENBQUEsa0JBQUEsQ0FBQSxDQUFBLENBUUEsS0FBcUIsQ0FBQSxXQUFyQixTQUF5QyxnQkFBQSxDQUFBLE9BQXpDLENBQXVELENBZW5ELFdBQUEsRUFBQSxpREFDSSxRQURKLHdCQWRPLEtBQUEsYUFBQSxDQUFrQyxHQUFJLENBQUEsYUFBYSxDQUFDLGVBQWxCLENBQWtDLENBQ3ZFLE9BQU8sQ0FBRSxDQUFFLFdBQVcsQ0FBRSxTQUFmLENBRDhELENBQWxDLEVBRS9CLGdCQUZILENBY1Asd0JBVmdCLEtBQUEsWUFBQSxDQUFlLElBQWYsQ0FVaEIsd0JBUmdCLEtBQUEsY0FBQSxDQUFpQixLQUFqQixDQVFoQix3QkFOZ0IsS0FBQSxZQUFBLENBQWUsSUFBZixDQU1oQix3QkFXTyxLQUFBLGlCQUFBLENBQW9CLE1BQ3ZCLE1BRHVCLENBRXZCLE9BRnVCLENBR3ZCLFVBSHVCLEdBSXZCLHlCQUNBLEtBQU0sQ0FBQSxPQUFPLDJCQUFHLEdBQUksTUFBSyxLQUFMLENBQVcsT0FBZixDQUF1QixLQUFLLFVBQTVCLENBQUgsQ0FBYixDQUNBLEtBQU0sQ0FBQSxjQUFjLDJCQUNoQixVQUFVLENBQUMsTUFBWCxDQUFvQixDQUFwQiw2QkFDTSw0QkFBNEIsVUFBVSxDQUFDLElBQVgsQ0FBZ0IsS0FBaEIsQ0FBc0IsSUFEeEQsOEJBRU0sRUFGTixDQURnQixDQUFwQixDQUlBLEtBQU0sQ0FBQSxRQUFRLDJCQUlSLENBQ0YsS0FBTSxDQUFBLE9BQU8s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U0FBTCxxREFDSSxPQUFPLENBQUcsUUFBVixDQURKLHlCQUVJLE1BQ0osSUFBSyxPQUFMLHFEQUNJLE9BQU8sQ0FBRyxRQUFWLENBREoseUJBRUksTUFDSixJQUFLLE1BQUwsc0RBQ0ksT0FBTyxDQUFHLFFBQVYsQ0FESix5QkFFSSxNQUNKLElBQUssTUFBTCxzREFDSSxPQUFPLENBQUcsTUFBVixDQURKLHlCQUVJLE1BQ0osSUFBSyxXQUFMLHNEQUNJLE9BQU8sQ0FBRyxNQUFWLENBREoseUJBRUksTUFDSixJQUFLLFVBQUwsc0RBQ0ksT0FBTyxDQUFHLE1BQVYsQ0FESix5QkFFSSxNQUNKLElBQUssZ0JBQUwsc0RBQ0ksT0FBTyxDQUFHLE1BQVYsQ0FESix5QkFFSSxNQUNKLElBQUssZUFBTCxzREFDSSxPQUFPLENBQUcsTUFBVixDQURKLHlCQUVJLE1BQ0osSUFBSyxNQUFMLHNEQUNJLE9BQU8sQ0FBRyxNQUFWLENBREoseUJBRUksTUFDSixJQUFLLE1BQUwsc0RBQ0ksT0FBTyxDQUFHLFFBQVYsQ0FESix5QkFFSSxNQUNKLElBQUssTUFBTCxzREFDSSxPQUFPLENBQUcsUUFBVixDQURKLHlCQUVJLE1BQ0osSUFBSyxTQUFMLHNEQUNJLE9BQU8sQ0FBRyxRQUFWLENBREoseUJBRUksTUFDSixJQUFLLE9BQUwsc0RBQ0ksT0FBTyxDQUFHLFFBQVYsQ0FESix5QkFFSSxNQUNKLElBQUssT0FBTCxzREFDSSxPQUFPLENBQUcsUUFBVixDQURKLHlCQUVJLE1BQ0osSUFBSyxVQUFMLHNEQUNJLE9BQU8sQ0FBRyxRQUFWLENBREoseUJBRUksTUFDSixJQUFLLFFBQUwsc0RBQ0ksT0FBTyxDQUFHLFFBQVYsQ0FESix5QkFFSSxNQUNKLElBQUssT0FBTCxzREFDSSxPQUFPLENBQUcsUUFBVixDQURKLHlCQUVJLE1BQ0osSUFBSyxXQUFMLHNEQUNJLE9BQU8sQ0FBRyxRQUFWLENBREoseUJBRUksTUFDSixJQUFLLGFBQUwsc0RBQ0ksT0FBTyxDQUFHLFFBQVYsQ0FESix5QkFFSSxNQUNKLElBQUssYUFBTCxz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U1FMIGZyb20gXCJtc3NxbFwiO1xuaW1wb3J0IHsgQ29ubmVjdGlvbk9wdGlvbnMgfSBmcm9tIFwidHlwZW9ybVwiO1xuaW1wb3J0ICogYXMgVHlwZW9ybURyaXZlciBmcm9tIFwidHlwZW9ybS9kcml2ZXIvc3Fsc2VydmVyL1NxbFNlcnZlckRyaXZlclwiO1xuaW1wb3J0IHsgRGF0YVR5cGVEZWZhdWx0cyB9IGZyb20gXCJ0eXBlb3JtL2RyaXZlci90eXBlcy9EYXRhVHlwZURlZmF1bHRzXCI7XG5pbXBvcnQgKiBhcyBUb21nVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XG5pbXBvcnQgQWJzdHJhY3REcml2ZXIgZnJvbSBcIi4vQWJzdHJhY3REcml2ZXJcIjtcbmltcG9ydCBJQ29ubmVjdGlvbk9wdGlvbnMgZnJvbSBcIi4uL0lDb25uZWN0aW9uT3B0aW9uc1wiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4uL21vZGVscy9FbnRpdHlcIjtcbmltcG9ydCB7IENvbHVtbiB9IGZyb20gXCIuLi9tb2RlbHMvQ29sdW1uXCI7XG5pbXBvcnQgeyBJbmRleCB9IGZyb20gXCIuLi9tb2RlbHMvSW5kZXhcIjtcbmltcG9ydCBJR2VuZXJhdGlvbk9wdGlvbnMgZnJvbSBcIi4uL0lHZW5lcmF0aW9uT3B0aW9uc1wiO1xuaW1wb3J0IHsgUmVsYXRpb25JbnRlcm5hbCB9IGZyb20gXCIuLi9tb2RlbHMvUmVsYXRpb25JbnRlcm5hbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNc3NxbERyaXZlciBleHRlbmRzIEFic3RyYWN0RHJpdmVyIHtcbiAgICBwdWJsaWMgZGVmYXVsdFZhbHVlczogRGF0YVR5cGVEZWZhdWx0cyA9IG5ldyBUeXBlb3JtRHJpdmVyLlNxbFNlcnZlckRyaXZlcih7XG4gICAgICAgIG9wdGlvbnM6IHsgcmVwbGljYXRpb246IHVuZGVmaW5lZCB9IGFzIENvbm5lY3Rpb25PcHRpb25zLFxuICAgIH0gYXMgYW55KS5kYXRhVHlwZURlZmF1bHRzO1xuXG4gICAgcHVibGljIHJlYWRvbmx5IHN0YW5kYXJkUG9ydCA9IDE0MzM7XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhbmRhcmRTY2hlbWEgPSBcImRib1wiO1xuXG4gICAgcHVibGljIHJlYWRvbmx5IHN0YW5kYXJkVXNlciA9IFwic2FcIjtcblxuICAgIHByaXZhdGUgTVNTUUw6IHR5cGVvZiBNU1NRTDtcblxuICAgIHByaXZhdGUgQ29ubmVjdGlvbjogTVNTUUwuQ29ubmVjdGlvblBvb2w7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLWV4dHJhbmVvdXMtZGVwZW5kZW5jaWVzLCBnbG9iYWwtcmVxdWlyZSwgaW1wb3J0L25vLXVucmVzb2x2ZWRcbiAgICAgICAgICAgIHRoaXMuTVNTUUwgPSByZXF1aXJlKFwibXNzcWxcIik7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBUb21nVXRpbHMuTG9nRXJyb3IoXCJcIiwgZmFsc2UsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIEdldEFsbFRhYmxlc1F1ZXJ5ID0gYXN5bmMgKFxuICAgICAgICBzY2hlbWE6IHN0cmluZyxcbiAgICAgICAgZGJOYW1lczogc3RyaW5nLFxuICAgICAgICB0YWJsZU5hbWVzOiBzdHJpbmdbXVxuICAgICkgPT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IHRoaXMuTVNTUUwuUmVxdWVzdCh0aGlzLkNvbm5lY3Rpb24pO1xuICAgICAgICBjb25zdCB0YWJsZUNvbmRpdGlvbiA9XG4gICAgICAgICAgICB0YWJsZU5hbWVzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICA/IGAgQU5EIE5PVCBUQUJMRV9OQU1FIElOICgnJHt0YWJsZU5hbWVzLmpvaW4oXCInLCdcIil9JylgXG4gICAgICAgICAgICAgICAgOiBcIlwiO1xuICAgICAgICBjb25zdCByZXNwb25zZToge1xuICAgICAgICAgICAgVEFCTEVfU0NIRU1BOiBzdHJpbmc7XG4gICAgICAgICAgICBUQUJMRV9OQU1FOiBzdHJpbmc7XG4gICAgICAgICAgICBEQl9OQU1FOiBzdHJpbmc7XG4gICAgICAgIH1bXSA9IChcbiAgICAgICAgICAgIGF3YWl0IHJlcXVlc3QucXVlcnkoXG4gICAgICAgICAgICAgICAgYFNFTEVDVCBUQUJMRV9TQ0hFTUEsVEFCTEVfTkFNRSwgdGFibGVfY2F0YWxvZyBhcyBcIkRCX05BTUVcIiBGUk9NIElORk9STUFUSU9OX1NDSEVNQS5UQUJMRVNcbldIRVJFIFRBQkxFX1RZUEU9J0JBU0UgVEFCTEUnIGFuZCBUQUJMRV9TQ0hFTUEgaW4gKCR7c2NoZW1hfSkgQU5EIFRBQkxFX0NBVEFMT0cgaW4gKCR7TXNzcWxEcml2ZXIuZXNjYXBlQ29tbWFTZXBhcmF0ZWRMaXN0KFxuICAgICAgICAgICAgICAgICAgICBkYk5hbWVzXG4gICAgICAgICAgICAgICAgKX0pICR7dGFibGVDb25kaXRpb259YFxuICAgICAgICAgICAgKVxuICAgICAgICApLnJlY29yZHNldDtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH07XG5cbiAgICBwdWJsaWMgYXN5bmMgR2V0Q291bG1uc0Zyb21FbnRpdHkoXG4gICAgICAgIGVudGl0aWVzOiBFbnRpdHlbXSxcbiAgICAgICAgc2NoZW1hOiBzdHJpbmcsXG4gICAgICAgIGRiTmFtZXM6IHN0cmluZ1xuICAgICk6IFByb21pc2U8RW50aXR5W10+IHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyB0aGlzLk1TU1FMLlJlcXVlc3QodGhpcy5Db25uZWN0aW9uKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgIFRBQkxFX05BTUU6IHN0cmluZztcbiAgICAgICAgICAgIENPTFVNTl9OQU1FOiBzdHJpbmc7XG4gICAgICAgICAgICBUQUJMRV9TQ0hFTUE6IHN0cmluZztcbiAgICAgICAgICAgIENPTFVNTl9ERUZBVUxUOiBzdHJpbmc7XG4gICAgICAgICAgICBJU19OVUxMQUJMRTogc3RyaW5nO1xuICAgICAgICAgICAgREFUQV9UWVBFOiBzdHJpbmc7XG4gICAgICAgICAgICBDSEFSQUNURVJfTUFYSU1VTV9MRU5HVEg6IG51bWJlcjtcbiAgICAgICAgICAgIE5VTUVSSUNfUFJFQ0lTSU9OOiBudW1iZXI7XG4gICAgICAgICAgICBOVU1FUklDX1NDQUxFOiBudW1iZXI7XG4gICAgICAgICAgICBJc0lkZW50aXR5OiBudW1iZXI7XG4gICAgICAgICAgICBJc1VuaXF1ZTogbnVtYmVyO1xuICAgICAgICB9W10gPSAoXG4gICAgICAgICAgICBhd2FpdCByZXF1ZXN0LnF1ZXJ5KGBTRUxFQ1QgVEFCTEVfTkFNRSxUQUJMRV9TQ0hFTUEsQ09MVU1OX05BTUUsQ09MVU1OX0RFRkFVTFQsSVNfTlVMTEFCTEUsXG4gICAgICAgIERBVEFfVFlQRSxDSEFSQUNURVJfTUFYSU1VTV9MRU5HVEgsTlVNRVJJQ19QUkVDSVNJT04sTlVNRVJJQ19TQ0FMRSxcbiAgICAgICAgQ09MVU1OUFJPUEVSVFkob2JqZWN0X2lkKFRBQkxFX05BTUUpLCBDT0xVTU5fTkFNRSwgJ0lzSWRlbnRpdHknKSBJc0lkZW50aXR5LFxuICAgICAgICAoU0VMRUNUIGNvdW50KCopXG4gICAgICAgICBGUk9NIElORk9STUFUSU9OX1NDSEVNQS5UQUJMRV9DT05TVFJBSU5UUyB0Y1xuICAgICAgICAgICAgIGlubmVyIGpvaW4gSU5GT1JNQVRJT05fU0NIRU1BLkNPTlNUUkFJTlRfQ09MVU1OX1VTQUdFIGN1XG4gICAgICAgICAgICAgICAgIG9uIGN1LkNPTlNUUkFJTlRfTkFNRSA9IHRjLkNPTlNUUkFJTlRfTkFNRVxuICAgICAgICAgd2hlcmVcbiAgICAgICAgICAgICB0Yy5DT05TVFJBSU5UX1RZUEUgPSAnVU5JUVVFJ1xuICAgICAgICAgICAgIGFuZCB0Yy5UQUJMRV9OQU1FID0gYy5UQUJMRV9OQU1FXG4gICAgICAgICAgICAgYW5kIGN1LkNPTFVNTl9OQU1FID0gYy5DT0xVTU5fTkFNRVxuICAgICAgICAgICAgIGFuZCB0Yy5UQUJMRV9TQ0hFTUE9Yy5UQUJMRV9TQ0hFTUEpIElzVW5pcXVlXG4gICAgICAgIEZST00gSU5GT1JNQVRJT05fU0NIRU1BLkNPTFVNTlMgY1xuICAgICAgICB3aGVyZSBUQUJMRV9TQ0hFTUEgaW4gKCR7c2NoZW1hfSkgQU5EIFRBQkxFX0NBVEFMT0cgaW4gKCR7TXNzcWxEcml2ZXIuZXNjYXBlQ29tbWFTZXBhcmF0ZWRMaXN0KFxuICAgICAgICAgICAgICAgIGRiTmFtZXNcbiAgICAgICAgICAgICl9KVxuICAgICAgICAgICAgIG9yZGVyIGJ5IG9yZGluYWxfcG9zaXRpb25gKVxuICAgICAgICApLnJlY29yZHNldDtcbiAgICAgICAgZW50aXRpZXMuZm9yRWFjaCgoZW50KSA9PiB7XG4gICAgICAgICAgICByZXNwb25zZVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGZpbHRlclZhbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyVmFsLlRBQkxFX05BTUUgPT09IGVudC50c2NOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJWYWwuVEFCTEVfU0NIRU1BID09PSBlbnQuc2NoZW1hXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaCgocmVzcCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0c2NOYW1lID0gcmVzcC5DT0xVTU5fTkFNRTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uczogQ29sdW1uW1wib3B0aW9uc1wiXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlc3AuQ09MVU1OX05BTUUsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwLklTX05VTExBQkxFID09PSBcIllFU1wiKSBvcHRpb25zLm51bGxhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3AuSXNVbmlxdWUgPT09IDEpIG9wdGlvbnMudW5pcXVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2VuZXJhdGVkID0gcmVzcC5Jc0lkZW50aXR5ID09PSAxID8gdHJ1ZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gTXNzcWxEcml2ZXIuUmV0dXJuRGVmYXVsdFZhbHVlRnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwLkNPTFVNTl9ERUZBVUxUXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbHVtblR5cGUgPSByZXNwLkRBVEFfVFlQRTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRzY1R5cGUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlc3AuREFUQV9UWVBFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYml0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwiYm9vbGVhblwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRlY2ltYWxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtb25leVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm51bWVyaWNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzbWFsbGludFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIm51bWJlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNtYWxsbW9uZXlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aW55aW50XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZmxvYXRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZWFsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGF0ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIkRhdGVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkYXRldGltZTJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJEYXRlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGF0ZXRpbWVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJEYXRlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGF0ZXRpbWVvZmZzZXRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJEYXRlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic21hbGxkYXRldGltZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIkRhdGVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aW1lXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwiRGF0ZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNoYXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidmFyY2hhclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5jaGFyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibnRleHRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJudmFyY2hhclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJpbmFyeVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIkJ1ZmZlclwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImltYWdlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwiQnVmZmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidmFyYmluYXJ5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwiQnVmZmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaGllcmFyY2h5aWRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzcWxfdmFyaWFudFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRpbWVzdGFtcFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUgPSBcIkRhdGVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1bmlxdWVpZGVudGlmaWVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwieG1sXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZ2VvbWV0cnlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJnZW9ncmFwaHlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0c2NUeXBlID0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHNjVHlwZSA9IFwiTm9uTnVsbGFibGU8dW5rbm93bj5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb21nVXRpbHMuTG9nRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBVbmtub3duIGNvbHVtbiB0eXBlOiAke3Jlc3AuREFUQV9UWVBFfSAgdGFibGUgbmFtZTogJHtyZXNwLlRBQkxFX05BTUV9IGNvbHVtbiBuYW1lOiAke3Jlc3AuQ09MVU1OX05BTUV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkNvbHVtblR5cGVzV2l0aFByZWNpc2lvbi5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh2KSA9PiB2ID09PSBjb2x1bW5UeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3AuTlVNRVJJQ19QUkVDSVNJT04gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnByZWNpc2lvbiA9IHJlc3AuTlVNRVJJQ19QUkVDSVNJT047XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcC5OVU1FUklDX1NDQUxFICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zY2FsZSA9IHJlc3AuTlVNRVJJQ19TQ0FMRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkNvbHVtblR5cGVzV2l0aExlbmd0aC5zb21lKCh2KSA9PiB2ID09PSBjb2x1bW5UeXBlKVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubGVuZ3RoID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwLkNIQVJBQ1RFUl9NQVhJTVVNX0xFTkdUSCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyByZXNwLkNIQVJBQ1RFUl9NQVhJTVVNX0xFTkdUSFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbnQuY29sdW1ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGNvbHVtblR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHNjTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRzY1R5cGUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGVudGl0aWVzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBHZXRJbmRleGVzRnJvbUVudGl0eShcbiAgICAgICAgZW50aXRpZXM6IEVudGl0eVtdLFxuICAgICAgICBzY2hlbWE6IHN0cmluZyxcbiAgICAgICAgZGJOYW1lczogc3RyaW5nXG4gICAgKTogUHJvbWlzZTxFbnRpdHlbXT4ge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IHRoaXMuTVNTUUwuUmVxdWVzdCh0aGlzLkNvbm5lY3Rpb24pO1xuICAgICAgICBjb25zdCByZXNwb25zZToge1xuICAgICAgICAgICAgVGFibGVOYW1lOiBzdHJpbmc7XG4gICAgICAgICAgICBUYWJsZVNjaGVtYTogc3RyaW5nO1xuICAgICAgICAgICAgSW5kZXhOYW1lOiBzdHJpbmc7XG4gICAgICAgICAgICBDb2x1bW5OYW1lOiBzdHJpbmc7XG4gICAgICAgICAgICBpc191bmlxdWU6IGJvb2xlYW47XG4gICAgICAgICAgICBpc19wcmltYXJ5X2tleTogYm9vbGVhbjtcbiAgICAgICAgfVtdID0gW107XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgICAgZGJOYW1lcy5zcGxpdChcIixcIikubWFwKGFzeW5jIChkYk5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZGJOYW1lcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuVXNlREIoZGJOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcDoge1xuICAgICAgICAgICAgICAgICAgICBUYWJsZU5hbWU6IHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgVGFibGVTY2hlbWE6IHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgSW5kZXhOYW1lOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIENvbHVtbk5hbWU6IHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgaXNfdW5pcXVlOiBib29sZWFuO1xuICAgICAgICAgICAgICAgICAgICBpc19wcmltYXJ5X2tleTogYm9vbGVhbjtcbiAgICAgICAgICAgICAgICB9W10gPSAoXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlcXVlc3QucXVlcnkoYFNFTEVDVFxuICAgICAgICAgICAgIFRhYmxlTmFtZSA9IHQubmFtZSxcbiAgICAgICAgICAgICBUYWJsZVNjaGVtYSA9IHMubmFtZSxcbiAgICAgICAgICAgICBJbmRleE5hbWUgPSBpbmQubmFtZSxcbiAgICAgICAgICAgICBDb2x1bW5OYW1lID0gY29sLm5hbWUsXG4gICAgICAgICAgICAgaW5kLmlzX3VuaXF1ZSxcbiAgICAgICAgICAgICBpbmQuaXNfcHJpbWFyeV9rZXlcbiAgICAgICAgRlJPTVxuICAgICAgICAgICAgIHN5cy5pbmRleGVzIGluZFxuICAgICAgICBJTk5FUiBKT0lOXG4gICAgICAgICAgICAgc3lzLmluZGV4X2NvbHVtbnMgaWMgT04gIGluZC5vYmplY3RfaWQgPSBpYy5vYmplY3RfaWQgYW5kIGluZC5pbmRleF9pZCA9IGljLmluZGV4X2lkXG4gICAgICAgIElOTkVSIEpPSU5cbiAgICAgICAgICAgICBzeXMuY29sdW1ucyBjb2wgT04gaWMub2JqZWN0X2lkID0gY29sLm9iamVjdF9pZCBhbmQgaWMuY29sdW1uX2lkID0gY29sLmNvbHVtbl9pZFxuICAgICAgICBJTk5FUiBKT0lOXG4gICAgICAgICAgICAgc3lzLnRhYmxlcyB0IE9OIGluZC5vYmplY3RfaWQgPSB0Lm9iamVjdF9pZFxuICAgICAgICBJTk5FUiBKT0lOXG4gICAgICAgICAgICAgc3lzLnNjaGVtYXMgcyBvbiBzLnNjaGVtYV9pZD10LnNjaGVtYV9pZFxuICAgICAgICBXSEVSRVxuICAgICAgICAgICAgIHQuaXNfbXNfc2hpcHBlZCA9IDAgYW5kIHMubmFtZSBpbiAoJHtzY2hlbWF9KVxuICAgICAgICBPUkRFUiBCWVxuICAgICAgICAgICAgIHQubmFtZSwgaW5kLm5hbWUsIGluZC5pbmRleF9pZCwgaWMua2V5X29yZGluYWw7YClcbiAgICAgICAgICAgICAgICApLnJlY29yZHNldDtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5wdXNoKC4uLnJlc3ApO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICBlbnRpdGllcy5mb3JFYWNoKChlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eUluZGljZXMgPSByZXNwb25zZS5maWx0ZXIoXG4gICAgICAgICAgICAgICAgKGZpbHRlclZhbCkgPT5cbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyVmFsLlRhYmxlTmFtZSA9PT0gZW50LnRzY05hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyVmFsLlRhYmxlU2NoZW1hID09PSBlbnQuc2NoZW1hXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgaW5kZXhOYW1lcyA9IG5ldyBTZXQoZW50aXR5SW5kaWNlcy5tYXAoKHYpID0+IHYuSW5kZXhOYW1lKSk7XG4gICAgICAgICAgICBpbmRleE5hbWVzLmZvckVhY2goKGluZGV4TmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlY29yZHMgPSBlbnRpdHlJbmRpY2VzLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgKHYpID0+IHYuSW5kZXhOYW1lID09PSBpbmRleE5hbWVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4SW5mbzogSW5kZXggPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbnM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcmVjb3Jkc1swXS5JbmRleE5hbWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3Jkc1swXS5pc19wcmltYXJ5X2tleSkgaW5kZXhJbmZvLnByaW1hcnkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmRzWzBdLmlzX3VuaXF1ZSkgaW5kZXhJbmZvLm9wdGlvbnMudW5pcXVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZWNvcmRzLmZvckVhY2goKHJlY29yZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpbmRleEluZm8uY29sdW1ucy5wdXNoKHJlY29yZC5Db2x1bW5OYW1lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBlbnQuaW5kaWNlcy5wdXNoKGluZGV4SW5mbyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGVudGl0aWVzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBHZXRSZWxhdGlvbnMoXG4gICAgICAgIGVudGl0aWVzOiBFbnRpdHlbXSxcbiAgICAgICAgc2NoZW1hOiBzdHJpbmcsXG4gICAgICAgIGRiTmFtZXM6IHN0cmluZyxcbiAgICAgICAgZ2VuZXJhdGlvbk9wdGlvbnM6IElHZW5lcmF0aW9uT3B0aW9uc1xuICAgICk6IFByb21pc2U8RW50aXR5W10+IHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyB0aGlzLk1TU1FMLlJlcXVlc3QodGhpcy5Db25uZWN0aW9uKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgIFRhYmxlV2l0aEZvcmVpZ25LZXk6IHN0cmluZztcbiAgICAgICAgICAgIEZLX1BhcnRObzogbnVtYmVyO1xuICAgICAgICAgICAgRm9yZWlnbktleUNvbHVtbjogc3RyaW5nO1xuICAgICAgICAgICAgVGFibGVSZWZlcmVuY2VkOiBzdHJpbmc7XG4gICAgICAgICAgICBGb3JlaWduS2V5Q29sdW1uUmVmZXJlbmNlZDogc3RyaW5nO1xuICAgICAgICAgICAgb25EZWxldGU6IFwiUkVTVFJJQ1RcIiB8IFwiQ0FTQ0FERVwiIHwgXCJTRVRfTlVMTFwiIHwgXCJOT19BQ1RJT05cIjtcbiAgICAgICAgICAgIG9uVXBkYXRlOiBcIlJFU1RSSUNUXCIgfCBcIkNBU0NBREVcIiB8IFwiU0VUX05VTExcIiB8IFwiTk9fQUNUSU9OXCI7XG4gICAgICAgICAgICBvYmplY3RJZDogbnVtYmVyO1xuICAgICAgICB9W10gPSBbXTtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICBkYk5hbWVzLnNwbGl0KFwiLFwiKS5tYXAoYXN5bmMgKGRiTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkYk5hbWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5Vc2VEQihkYk5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZXNwOiB7XG4gICAgICAgICAgICAgICAgICAgIFRhYmxlV2l0aEZvcmVpZ25LZXk6IHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgRktfUGFydE5vOiBudW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIEZvcmVpZ25LZXlDb2x1bW46IHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgVGFibGVSZWZlcmVuY2VkOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIEZvcmVpZ25LZXlDb2x1bW5SZWZlcmVuY2VkOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIG9uRGVsZXRlOiBcIlJFU1RSSUNUXCIgfCBcIkNBU0NBREVcIiB8IFwiU0VUX05VTExcIiB8IFwiTk9fQUNUSU9OXCI7XG4gICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlOiBcIlJFU1RSSUNUXCIgfCBcIkNBU0NBREVcIiB8IFwiU0VUX05VTExcIiB8IFwiTk9fQUNUSU9OXCI7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdElkOiBudW1iZXI7XG4gICAgICAgICAgICAgICAgfVtdID0gKFxuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXF1ZXN0LnF1ZXJ5KGBzZWxlY3RcbiAgICAgICAgICAgIHBhcmVudFRhYmxlLm5hbWUgYXMgVGFibGVXaXRoRm9yZWlnbktleSxcbiAgICAgICAgICAgIGZrYy5jb25zdHJhaW50X2NvbHVtbl9pZCBhcyBGS19QYXJ0Tm8sXG4gICAgICAgICAgICAgcGFyZW50Q29sdW1uLm5hbWUgYXMgRm9yZWlnbktleUNvbHVtbixcbiAgICAgICAgICAgICByZWZlcmVuY2VkVGFibGUubmFtZSBhcyBUYWJsZVJlZmVyZW5jZWQsXG4gICAgICAgICAgICAgcmVmZXJlbmNlZENvbHVtbi5uYW1lIGFzIEZvcmVpZ25LZXlDb2x1bW5SZWZlcmVuY2VkLFxuICAgICAgICAgICAgIGZrLmRlbGV0ZV9yZWZlcmVudGlhbF9hY3Rpb25fZGVzYyBhcyBvbkRlbGV0ZSxcbiAgICAgICAgICAgICBmay51cGRhdGVfcmVmZXJlbnRpYWxfYWN0aW9uX2Rlc2MgYXMgb25VcGRhdGUsXG4gICAgICAgICAgICAgZmsub2JqZWN0X2lkIGFzIG9iamVjdElkXG4gICAgICAgIGZyb21cbiAgICAgICAgICAgIHN5cy5mb3JlaWduX2tleXMgZmtcbiAgICAgICAgaW5uZXIgam9pblxuICAgICAgICAgICAgc3lzLmZvcmVpZ25fa2V5X2NvbHVtbnMgYXMgZmtjIG9uIGZrYy5jb25zdHJhaW50X29iamVjdF9pZD1may5vYmplY3RfaWRcbiAgICAgICAgaW5uZXIgam9pblxuICAgICAgICAgICAgc3lzLnRhYmxlcyBhcyBwYXJlbnRUYWJsZSBvbiBma2MucGFyZW50X29iamVjdF9pZCA9IHBhcmVudFRhYmxlLm9iamVjdF9pZFxuICAgICAgICBpbm5lciBqb2luXG4gICAgICAgICAgICBzeXMuY29sdW1ucyBhcyBwYXJlbnRDb2x1bW4gb24gZmtjLnBhcmVudF9vYmplY3RfaWQgPSBwYXJlbnRDb2x1bW4ub2JqZWN0X2lkIGFuZCBma2MucGFyZW50X2NvbHVtbl9pZCA9IHBhcmVudENvbHVtbi5jb2x1bW5faWRcbiAgICAgICAgaW5uZXIgam9pblxuICAgICAgICAgICAgc3lzLnRhYmxlcyBhcyByZWZlcmVuY2VkVGFibGUgb24gZmtjLnJlZmVyZW5jZWRfb2JqZWN0X2lkID0gcmVmZXJlbmNlZFRhYmxlLm9iamVjdF9pZFxuICAgICAgICBpbm5lciBqb2luXG4gICAgICAgICAgICBzeXMuY29sdW1ucyBhcyByZWZlcmVuY2VkQ29sdW1uIG9uIGZrYy5yZWZlcmVuY2VkX29iamVjdF9pZCA9IHJlZmVyZW5jZWRDb2x1bW4ub2JqZWN0X2lkIGFuZCBma2MucmVmZXJlbmNlZF9jb2x1bW5faWQgPSByZWZlcmVuY2VkQ29sdW1uLmNvbHVtbl9pZFxuICAgICAgICBpbm5lciBqb2luXG4gICAgICAgIFx0c3lzLnNjaGVtYXMgYXMgcGFyZW50U2NoZW1hIG9uIHBhcmVudFNjaGVtYS5zY2hlbWFfaWQ9cGFyZW50VGFibGUuc2NoZW1hX2lkXG4gICAgICAgIHdoZXJlXG4gICAgICAgICAgICBmay5pc19kaXNhYmxlZD0wIGFuZCBmay5pc19tc19zaGlwcGVkPTAgYW5kIHBhcmVudFNjaGVtYS5uYW1lIGluICgke3NjaGVtYX0pXG4gICAgICAgIG9yZGVyIGJ5XG4gICAgICAgICAgICBUYWJsZVdpdGhGb3JlaWduS2V5LCBGS19QYXJ0Tm9gKVxuICAgICAgICAgICAgICAgICkucmVjb3Jkc2V0O1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnB1c2goLi4ucmVzcCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBjb25zdCByZWxhdGlvbnNUZW1wOiBSZWxhdGlvbkludGVybmFsW10gPSBbXSBhcyBSZWxhdGlvbkludGVybmFsW107XG4gICAgICAgIGNvbnN0IHJlbGF0aW9uS2V5cyA9IG5ldyBTZXQocmVzcG9uc2UubWFwKCh2KSA9PiB2Lm9iamVjdElkKSk7XG5cbiAgICAgICAgcmVsYXRpb25LZXlzLmZvckVhY2goKHJlbGF0aW9uSWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJvd3MgPSByZXNwb25zZS5maWx0ZXIoKHYpID0+IHYub2JqZWN0SWQgPT09IHJlbGF0aW9uSWQpO1xuICAgICAgICAgICAgY29uc3Qgb3duZXJUYWJsZSA9IGVudGl0aWVzLmZpbmQoXG4gICAgICAgICAgICAgICAgKHYpID0+IHYuc3FsTmFtZSA9PT0gcm93c1swXS5UYWJsZVdpdGhGb3JlaWduS2V5XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgcmVsYXRlZFRhYmxlID0gZW50aXRpZXMuZmluZChcbiAgICAgICAgICAgICAgICAodikgPT4gdi5zcWxOYW1lID09PSByb3dzWzBdLlRhYmxlUmVmZXJlbmNlZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghb3duZXJUYWJsZSB8fCAhcmVsYXRlZFRhYmxlKSB7XG4gICAgICAgICAgICAgICAgVG9tZ1V0aWxzLkxvZ0Vycm9yKFxuICAgICAgICAgICAgICAgICAgICBgUmVsYXRpb24gYmV0d2VlbiB0YWJsZXMgJHtyb3dzWzBdLlRhYmxlV2l0aEZvcmVpZ25LZXl9IGFuZCAke3Jvd3NbMF0uVGFibGVSZWZlcmVuY2VkfSB3YXNuJ3QgZm91bmQgaW4gZW50aXR5IG1vZGVsLmAsXG4gICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGludGVybmFsOiBSZWxhdGlvbkludGVybmFsID0ge1xuICAgICAgICAgICAgICAgIG93bmVyQ29sdW1uczogW10sXG4gICAgICAgICAgICAgICAgcmVsYXRlZENvbHVtbnM6IFtdLFxuICAgICAgICAgICAgICAgIG93bmVyVGFibGUsXG4gICAgICAgICAgICAgICAgcmVsYXRlZFRhYmxlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHN3aXRjaCAocm93c1swXS5vbkRlbGV0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJOT19BQ1RJT05cIjpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIlNFVF9OVUxMXCI6XG4gICAgICAgICAgICAgICAgICAgIGludGVybmFsLm9uRGVsZXRlID0gXCJTRVQgTlVMTFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbC5vbkRlbGV0ZSA9IHJvd3NbMF0ub25EZWxldGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChyb3dzWzBdLm9uVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIk5PX0FDVElPTlwiOlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiU0VUX05VTExcIjpcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWwub25VcGRhdGUgPSBcIlNFVCBOVUxMXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGludGVybmFsLm9uVXBkYXRlID0gcm93c1swXS5vblVwZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3dzLmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgICAgICAgICAgIGludGVybmFsLm93bmVyQ29sdW1ucy5wdXNoKHJvdy5Gb3JlaWduS2V5Q29sdW1uKTtcbiAgICAgICAgICAgICAgICBpbnRlcm5hbC5yZWxhdGVkQ29sdW1ucy5wdXNoKHJvdy5Gb3JlaWduS2V5Q29sdW1uUmVmZXJlbmNlZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlbGF0aW9uc1RlbXAucHVzaChpbnRlcm5hbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJldFZhbCA9IE1zc3FsRHJpdmVyLkdldFJlbGF0aW9uc0Zyb21SZWxhdGlvblRlbXBJbmZvKFxuICAgICAgICAgICAgcmVsYXRpb25zVGVtcCxcbiAgICAgICAgICAgIGVudGl0aWVzLFxuICAgICAgICAgICAgZ2VuZXJhdGlvbk9wdGlvbnNcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHJldFZhbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgRGlzY29ubmVjdEZyb21TZXJ2ZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLkNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuQ29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIENvbm5lY3RUb1NlcnZlcihjb25uZWN0aW9uT3B0b25zOiBJQ29ubmVjdGlvbk9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZGF0YWJhc2VOYW1lID0gY29ubmVjdGlvbk9wdG9ucy5kYXRhYmFzZU5hbWUuc3BsaXQoXCIsXCIpWzBdO1xuICAgICAgICBjb25zdCBjb25maWc6IE1TU1FMLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIGRhdGFiYXNlOiBkYXRhYmFzZU5hbWUsXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgYXBwTmFtZTogXCJ0eXBlb3JtLW1vZGVsLWdlbmVyYXRvclwiLFxuICAgICAgICAgICAgICAgIGVuY3J5cHQ6IGNvbm5lY3Rpb25PcHRvbnMuc3NsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhc3N3b3JkOiBjb25uZWN0aW9uT3B0b25zLnBhc3N3b3JkLFxuICAgICAgICAgICAgcG9ydDogY29ubmVjdGlvbk9wdG9ucy5wb3J0LFxuICAgICAgICAgICAgcmVxdWVzdFRpbWVvdXQ6IDYwICogNjAgKiAxMDAwLFxuICAgICAgICAgICAgc2VydmVyOiBjb25uZWN0aW9uT3B0b25zLmhvc3QsXG4gICAgICAgICAgICB1c2VyOiBjb25uZWN0aW9uT3B0b25zLnVzZXIsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlPGJvb2xlYW4+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuQ29ubmVjdGlvbiA9IG5ldyB0aGlzLk1TU1FMLkNvbm5lY3Rpb25Qb29sKGNvbmZpZywgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgVG9tZ1V0aWxzLkxvZ0Vycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJFcnJvciBjb25uZWN0aW5nIHRvIE1TU1FMIFNlcnZlci5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIENyZWF0ZURCKGRiTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgdGhpcy5NU1NRTC5SZXF1ZXN0KHRoaXMuQ29ubmVjdGlvbik7XG4gICAgICAgIGF3YWl0IHJlcXVlc3QucXVlcnkoYENSRUFURSBEQVRBQkFTRSAke2RiTmFtZX07IGApO1xuICAgIH1cblxuICAgIHB1YmxpYyBhc3luYyBVc2VEQihkYk5hbWU6IHN0cmluZykge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IHRoaXMuTVNTUUwuUmVxdWVzdCh0aGlzLkNvbm5lY3Rpb24pO1xuICAgICAgICBhd2FpdCByZXF1ZXN0LnF1ZXJ5KGBVU0UgJHtkYk5hbWV9OyBgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgRHJvcERCKGRiTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgdGhpcy5NU1NRTC5SZXF1ZXN0KHRoaXMuQ29ubmVjdGlvbik7XG4gICAgICAgIGF3YWl0IHJlcXVlc3QucXVlcnkoYERST1AgREFUQUJBU0UgJHtkYk5hbWV9OyBgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgQ2hlY2tJZkRCRXhpc3RzKGRiTmFtZTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgdGhpcy5NU1NRTC5SZXF1ZXN0KHRoaXMuQ29ubmVjdGlvbik7XG4gICAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCByZXF1ZXN0LnF1ZXJ5KFxuICAgICAgICAgICAgYFNFTEVDVCBuYW1lIEZST00gbWFzdGVyLnN5cy5kYXRhYmFzZXMgV0hFUkUgbmFtZSA9IE4nJHtkYk5hbWV9JyBgXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiByZXNwLnJlY29yZHNldC5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIFJldHVybkRlZmF1bHRWYWx1ZUZ1bmN0aW9uKFxuICAgICAgICBkZWZWYWw6IHN0cmluZyB8IG51bGxcbiAgICApOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICBsZXQgZGVmYXVsdFZhbHVlID0gZGVmVmFsO1xuICAgICAgICBpZiAoIWRlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmYXVsdFZhbHVlLnN0YXJ0c1dpdGgoXCIoXCIpICYmIGRlZmF1bHRWYWx1ZS5lbmRzV2l0aChcIilcIikpIHtcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZS5zbGljZSgxLCAtMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYCgpID0+IFwiJHtkZWZhdWx0VmFsdWV9XCJgO1xuICAgIH1cbn1cbiJdfQ==